!function(t){function e(e){for(var r,s,a=e[0],c=e[1],u=e[2],h=0,f=[];h<a.length;h++)s=a[h],Object.prototype.hasOwnProperty.call(i,s)&&i[s]&&f.push(i[s][0]),i[s]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(t[r]=c[r]);for(l&&l(e);f.length;)f.shift()();return o.push.apply(o,u||[]),n()}function n(){for(var t,e=0;e<o.length;e++){for(var n=o[e],r=!0,a=1;a<n.length;a++){var c=n[a];0!==i[c]&&(r=!1)}r&&(o.splice(e--,1),t=s(s.s=n[0]))}return t}var r={},i={1:0},o=[];function s(e){if(r[e])return r[e].exports;var n=r[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.e=function(t){var e=[],n=i[t];if(0!==n)if(n)e.push(n[2]);else{var r=new Promise((function(e,r){n=i[t]=[e,r]}));e.push(n[2]=r);var o,a=document.createElement("script");a.charset="utf-8",a.timeout=120,s.nc&&a.setAttribute("nonce",s.nc),a.src=function(t){return s.p+""+t+".bundle.js"}(t);var c=new Error;o=function(e){a.onerror=a.onload=null,clearTimeout(u);var n=i[t];if(0!==n){if(n){var r=e&&("load"===e.type?"missing":e.type),o=e&&e.target&&e.target.src;c.message="Loading chunk "+t+" failed.\n("+r+": "+o+")",c.name="ChunkLoadError",c.type=r,c.request=o,n[1](c)}i[t]=void 0}};var u=setTimeout((function(){o({type:"timeout",target:a})}),12e4);a.onerror=a.onload=o,document.head.appendChild(a)}return Promise.all(e)},s.m=t,s.c=r,s.d=function(t,e,n){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},s.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)s.d(n,r,function(e){return t[e]}.bind(null,r));return n},s.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="",s.oe=function(t){throw console.error(t),t};var a=window.webpackJsonp=window.webpackJsonp||[],c=a.push.bind(a);a.push=e,a=a.slice();for(var u=0;u<a.length;u++)e(a[u]);var l=c;o.push([272,0]),n()}([,function(t,e,n){"use strict";n.d(e,"d",(function(){return i})),n.d(e,"a",(function(){return o})),n.d(e,"c",(function(){return s})),n.d(e,"b",(function(){return a})),n.d(e,"e",(function(){return c})),n.d(e,"f",(function(){return u}));
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */
var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function i(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var o=function(){return(o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function s(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s}function a(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{c(r.next(t))}catch(t){o(t)}}function a(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}c((r=r.apply(t,e||[])).next())}))}function c(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}function u(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,n){"use strict";var r=Object.prototype.hasOwnProperty;function i(t,e){return r.call(t,e)}function o(t){return!(t>=55296&&t<=57343)&&(!(t>=64976&&t<=65007)&&(65535!=(65535&t)&&65534!=(65535&t)&&(!(t>=0&&t<=8)&&(11!==t&&(!(t>=14&&t<=31)&&(!(t>=127&&t<=159)&&!(t>1114111)))))))}function s(t){if(t>65535){var e=55296+((t-=65536)>>10),n=56320+(1023&t);return String.fromCharCode(e,n)}return String.fromCharCode(t)}var a=/\\([!"#$%&'()*+,\-.\/:;<=>?@[\\\]^_`{|}~])/g,c=new RegExp(a.source+"|"+/&([a-z#][a-z0-9]{1,31});/gi.source,"gi"),u=/^#((?:x[a-f0-9]{1,8}|[0-9]{1,8}))/i,l=n(259);var h=/[&<>"]/,f=/[&<>"]/g,p={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;"};function d(t){return p[t]}var y=/[.?*+^$[\]\\(){}|-]/g;var m=n(214);e.lib={},e.lib.mdurl=n(260),e.lib.ucmicro=n(382),e.assign=function(t){var e=Array.prototype.slice.call(arguments,1);return e.forEach((function(e){if(e){if("object"!=typeof e)throw new TypeError(e+"must be object");Object.keys(e).forEach((function(n){t[n]=e[n]}))}})),t},e.isString=function(t){return"[object String]"===function(t){return Object.prototype.toString.call(t)}(t)},e.has=i,e.unescapeMd=function(t){return t.indexOf("\\")<0?t:t.replace(a,"$1")},e.unescapeAll=function(t){return t.indexOf("\\")<0&&t.indexOf("&")<0?t:t.replace(c,(function(t,e,n){return e||function(t,e){var n=0;return i(l,e)?l[e]:35===e.charCodeAt(0)&&u.test(e)&&o(n="x"===e[1].toLowerCase()?parseInt(e.slice(2),16):parseInt(e.slice(1),10))?s(n):t}(t,n)}))},e.isValidEntityCode=o,e.fromCodePoint=s,e.escapeHtml=function(t){return h.test(t)?t.replace(f,d):t},e.arrayReplaceAt=function(t,e,n){return[].concat(t.slice(0,e),n,t.slice(e+1))},e.isSpace=function(t){switch(t){case 9:case 32:return!0}return!1},e.isWhiteSpace=function(t){if(t>=8192&&t<=8202)return!0;switch(t){case 9:case 10:case 11:case 12:case 13:case 32:case 160:case 5760:case 8239:case 8287:case 12288:return!0}return!1},e.isMdAsciiPunct=function(t){switch(t){case 33:case 34:case 35:case 36:case 37:case 38:case 39:case 40:case 41:case 42:case 43:case 44:case 45:case 46:case 47:case 58:case 59:case 60:case 61:case 62:case 63:case 64:case 91:case 92:case 93:case 94:case 95:case 96:case 123:case 124:case 125:case 126:return!0;default:return!1}},e.isPunctChar=function(t){return m.test(t)},e.escapeRE=function(t){return t.replace(y,"\\$&")},e.normalizeReference=function(t){return t=t.trim().replace(/\s+/g," "),"Ṿ"==="ẞ".toLowerCase()&&(t=t.replace(/ẞ/g,"ß")),t.toLowerCase().toUpperCase()}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,n){t.exports={EPSILON:n(236),create:n(237),clone:n(303),angle:n(304),fromValues:n(238),copy:n(305),set:n(306),equals:n(307),exactEquals:n(308),add:n(309),subtract:n(241),sub:n(310),multiply:n(242),mul:n(311),divide:n(243),div:n(312),min:n(313),max:n(314),floor:n(315),ceil:n(316),round:n(317),scale:n(318),scaleAndAdd:n(319),distance:n(244),dist:n(320),squaredDistance:n(245),sqrDist:n(321),length:n(246),len:n(322),squaredLength:n(247),sqrLen:n(323),negate:n(324),inverse:n(325),normalize:n(239),dot:n(240),cross:n(326),lerp:n(327),random:n(328),transformMat4:n(329),transformMat3:n(330),transformQuat:n(331),rotateX:n(332),rotateY:n(333),rotateZ:n(334),forEach:n(335)}},,function(t,e){t.exports=function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:r})},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=1)}([function(t,e,n){"use strict";var r={MOBILE:"mobile",TABLET:"tablet",SMART_TV:"smarttv",CONSOLE:"console",WEARABLE:"wearable",BROWSER:void 0};t.exports={BROWSER_TYPES:{CHROME:"Chrome",FIREFOX:"Firefox",OPERA:"Opera",YANDEX:"Yandex",SAFARI:"Safari",INTERNET_EXPLORER:"Internet Explorer",EDGE:"Edge",CHROMIUM:"Chromium",IE:"IE",MOBILE_SAFARI:"Mobile Safari",EDGE_CHROMIUM:"Edge Chromium"},DEVICE_TYPES:r,OS_TYPES:{IOS:"iOS",ANDROID:"Android",WINDOWS_PHONE:"Windows Phone",WINDOWS:"Windows",MAC_OS:"Mac OS"},defaultData:{isMobile:!1,isTablet:!1,isBrowser:!1,isSmartTV:!1,isConsole:!1,isWearable:!1}}},function(t,e,n){"use strict";var r,i=n(2),o=n(0),s=o.BROWSER_TYPES,a=o.OS_TYPES,c=o.DEVICE_TYPES,u=n(4),l=u.checkType,h=u.broPayload,f=u.mobilePayload,p=u.wearPayload,d=u.consolePayload,y=u.stvPayload,m=u.getNavigatorInstance,g=u.isIOS13Check,v=new i,b=v.getBrowser(),_=v.getDevice(),w=v.getEngine(),k=v.getOS(),E=v.getUA(),S=s.CHROME,C=s.CHROMIUM,x=s.IE,A=s.INTERNET_EXPLORER,T=s.OPERA,F=s.FIREFOX,O=s.SAFARI,D=s.EDGE,L=s.YANDEX,I=s.MOBILE_SAFARI,M=c.MOBILE,N=c.TABLET,R=c.SMART_TV,P=c.BROWSER,B=c.WEARABLE,j=c.CONSOLE,z=a.ANDROID,U=a.WINDOWS_PHONE,q=a.IOS,H=a.WINDOWS,V=a.MAC_OS,W=function(){return k.name===a.WINDOWS&&"10"===k.version&&("string"==typeof E&&-1!==E.indexOf("Edg/"))},Y=function(){return b.name===D},Z=function(){return g("iPad")},X=_.type===R,G=_.type===j,$=_.type===B,J=b.name===I||Z(),K=b.name===C,Q=function(){switch(_.type){case M:case N:return!0;default:return!1}}()||Z(),tt=_.type===M,et=_.type===N||Z(),nt=_.type===P,rt=k.name===z,it=k.name===U,ot=k.name===q||Z(),st=b.name===S,at=b.name===F,ct=b.name===O||b.name===I,ut=b.name===T,lt=b.name===A||b.name===x,ht=k.version?k.version:"none",ft=k.name?k.name:"none",pt=b.major,dt=b.version,yt=b.name,mt=_.vendor?_.vendor:"none",gt=_.model?_.model:"none",vt=w.name,bt=w.version,_t=E,wt=Y()||W(),kt=b.name===L,Et=_.type,St=(r=m())&&(/iPad|iPhone|iPod/.test(r.platform)||"MacIntel"===r.platform&&r.maxTouchPoints>1)&&!window.MSStream,Ct=Z(),xt=g("iPhone"),At=g("iPod"),Tt=function(){var t=m(),e=t&&t.userAgent.toLowerCase();return"string"==typeof e&&/electron/.test(e)}(),Ft=W(),Ot=Y(),Dt=k.name===H,Lt=k.name===V,It=l(_.type);t.exports={deviceDetect:function(){var t=It.isBrowser,e=It.isMobile,n=It.isTablet,r=It.isSmartTV,i=It.isConsole,o=It.isWearable;return t?h(t,b,w,k,E):r?y(r,w,k,E):i?d(i,w,k,E):e||n?f(It,_,k,E):o?p(o,w,k,E):void 0},isSmartTV:X,isConsole:G,isWearable:$,isMobileSafari:J,isChromium:K,isMobile:Q,isMobileOnly:tt,isTablet:et,isBrowser:nt,isAndroid:rt,isWinPhone:it,isIOS:ot,isChrome:st,isFirefox:at,isSafari:ct,isOpera:ut,isIE:lt,osVersion:ht,osName:ft,fullBrowserVersion:pt,browserVersion:dt,browserName:yt,mobileVendor:mt,mobileModel:gt,engineName:vt,engineVersion:bt,getUA:_t,isEdge:wt,isYandex:kt,deviceType:Et,isIOS13:St,isIPad13:Ct,isIPhone13:xt,isIPod13:At,isElectron:Tt,isEdgeChromium:Ft,isLegacyEdge:Ot,isWindows:Dt,isMacOs:Lt}},function(t,e,n){var r;
/*!
 * UAParser.js v0.7.18
 * Lightweight JavaScript-based User-Agent string parser
 * https://github.com/faisalman/ua-parser-js
 *
 * Copyright © 2012-2016 Faisal Salman <fyzlman@gmail.com>
 * Dual licensed under GPLv2 or MIT
 */!function(i,o){"use strict";var s="model",a="name",c="type",u="vendor",l="version",h="mobile",f="tablet",p={extend:function(t,e){var n={};for(var r in t)e[r]&&e[r].length%2==0?n[r]=e[r].concat(t[r]):n[r]=t[r];return n},has:function(t,e){return"string"==typeof t&&-1!==e.toLowerCase().indexOf(t.toLowerCase())},lowerize:function(t){return t.toLowerCase()},major:function(t){return"string"==typeof t?t.replace(/[^\d\.]/g,"").split(".")[0]:void 0},trim:function(t){return t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}},d={rgx:function(t,e){for(var n,r,i,o,s,a,c=0;c<e.length&&!s;){var u=e[c],l=e[c+1];for(n=r=0;n<u.length&&!s;)if(s=u[n++].exec(t))for(i=0;i<l.length;i++)a=s[++r],"object"==typeof(o=l[i])&&o.length>0?2==o.length?"function"==typeof o[1]?this[o[0]]=o[1].call(this,a):this[o[0]]=o[1]:3==o.length?"function"!=typeof o[1]||o[1].exec&&o[1].test?this[o[0]]=a?a.replace(o[1],o[2]):void 0:this[o[0]]=a?o[1].call(this,a,o[2]):void 0:4==o.length&&(this[o[0]]=a?o[3].call(this,a.replace(o[1],o[2])):void 0):this[o]=a||void 0;c+=2}},str:function(t,e){for(var n in e)if("object"==typeof e[n]&&e[n].length>0){for(var r=0;r<e[n].length;r++)if(p.has(e[n][r],t))return"?"===n?void 0:n}else if(p.has(e[n],t))return"?"===n?void 0:n;return t}},y={browser:{oldsafari:{version:{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}}},device:{amazon:{model:{"Fire Phone":["SD","KF"]}},sprint:{model:{"Evo Shift 4G":"7373KT"},vendor:{HTC:"APA",Sprint:"Sprint"}}},os:{windows:{version:{ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"}}}},m={browser:[[/(opera\smini)\/([\w\.-]+)/i,/(opera\s[mobiletab]+).+version\/([\w\.-]+)/i,/(opera).+version\/([\w\.]+)/i,/(opera)[\/\s]+([\w\.]+)/i],[a,l],[/(opios)[\/\s]+([\w\.]+)/i],[[a,"Opera Mini"],l],[/\s(opr)\/([\w\.]+)/i],[[a,"Opera"],l],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/\s]?([\w\.]*)/i,/(avant\s|iemobile|slim|baidu)(?:browser)?[\/\s]?([\w\.]*)/i,/(?:ms|\()(ie)\s([\w\.]+)/i,/(rekonq)\/([\w\.]*)/i,/(chromium|flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark)\/([\w\.-]+)/i],[a,l],[/(trident).+rv[:\s]([\w\.]+).+like\sgecko/i],[[a,"IE"],l],[/(edge|edgios|edgea)\/((\d+)?[\w\.]+)/i],[[a,"Edge"],l],[/(yabrowser)\/([\w\.]+)/i],[[a,"Yandex"],l],[/(puffin)\/([\w\.]+)/i],[[a,"Puffin"],l],[/((?:[\s\/])uc?\s?browser|(?:juc.+)ucweb)[\/\s]?([\w\.]+)/i],[[a,"UCBrowser"],l],[/(comodo_dragon)\/([\w\.]+)/i],[[a,/_/g," "],l],[/(micromessenger)\/([\w\.]+)/i],[[a,"WeChat"],l],[/(qqbrowserlite)\/([\w\.]+)/i],[a,l],[/(QQ)\/([\d\.]+)/i],[a,l],[/m?(qqbrowser)[\/\s]?([\w\.]+)/i],[a,l],[/(BIDUBrowser)[\/\s]?([\w\.]+)/i],[a,l],[/(2345Explorer)[\/\s]?([\w\.]+)/i],[a,l],[/(MetaSr)[\/\s]?([\w\.]+)/i],[a],[/(LBBROWSER)/i],[a],[/xiaomi\/miuibrowser\/([\w\.]+)/i],[l,[a,"MIUI Browser"]],[/;fbav\/([\w\.]+);/i],[l,[a,"Facebook"]],[/headlesschrome(?:\/([\w\.]+)|\s)/i],[l,[a,"Chrome Headless"]],[/\swv\).+(chrome)\/([\w\.]+)/i],[[a,/(.+)/,"$1 WebView"],l],[/((?:oculus|samsung)browser)\/([\w\.]+)/i],[[a,/(.+(?:g|us))(.+)/,"$1 $2"],l],[/android.+version\/([\w\.]+)\s+(?:mobile\s?safari|safari)*/i],[l,[a,"Android Browser"]],[/(chrome|omniweb|arora|[tizenoka]{5}\s?browser)\/v?([\w\.]+)/i],[a,l],[/(dolfin)\/([\w\.]+)/i],[[a,"Dolphin"],l],[/((?:android.+)crmo|crios)\/([\w\.]+)/i],[[a,"Chrome"],l],[/(coast)\/([\w\.]+)/i],[[a,"Opera Coast"],l],[/fxios\/([\w\.-]+)/i],[l,[a,"Firefox"]],[/version\/([\w\.]+).+?mobile\/\w+\s(safari)/i],[l,[a,"Mobile Safari"]],[/version\/([\w\.]+).+?(mobile\s?safari|safari)/i],[l,a],[/webkit.+?(gsa)\/([\w\.]+).+?(mobile\s?safari|safari)(\/[\w\.]+)/i],[[a,"GSA"],l],[/webkit.+?(mobile\s?safari|safari)(\/[\w\.]+)/i],[a,[l,d.str,y.browser.oldsafari.version]],[/(konqueror)\/([\w\.]+)/i,/(webkit|khtml)\/([\w\.]+)/i],[a,l],[/(navigator|netscape)\/([\w\.-]+)/i],[[a,"Netscape"],l],[/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo\sbrowser|minimo|conkeror)[\/\s]?([\w\.\+]+)/i,/(firefox|seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([\w\.-]+)$/i,/(mozilla)\/([\w\.]+).+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir)[\/\s]?([\w\.]+)/i,/(links)\s\(([\w\.]+)/i,/(gobrowser)\/?([\w\.]*)/i,/(ice\s?browser)\/v?([\w\._]+)/i,/(mosaic)[\/\s]([\w\.]+)/i],[a,l]],cpu:[[/(?:(amd|x(?:(?:86|64)[_-])?|wow|win)64)[;\)]/i],[["architecture","amd64"]],[/(ia32(?=;))/i],[["architecture",p.lowerize]],[/((?:i[346]|x)86)[;\)]/i],[["architecture","ia32"]],[/windows\s(ce|mobile);\sppc;/i],[["architecture","arm"]],[/((?:ppc|powerpc)(?:64)?)(?:\smac|;|\))/i],[["architecture",/ower/,"",p.lowerize]],[/(sun4\w)[;\)]/i],[["architecture","sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|arm(?:64|(?=v\d+;))|(?=atmel\s)avr|(?:irix|mips|sparc)(?:64)?(?=;)|pa-risc)/i],[["architecture",p.lowerize]]],device:[[/\((ipad|playbook);[\w\s\);-]+(rim|apple)/i],[s,u,[c,f]],[/applecoremedia\/[\w\.]+ \((ipad)/],[s,[u,"Apple"],[c,f]],[/(apple\s{0,1}tv)/i],[[s,"Apple TV"],[u,"Apple"]],[/(archos)\s(gamepad2?)/i,/(hp).+(touchpad)/i,/(hp).+(tablet)/i,/(kindle)\/([\w\.]+)/i,/\s(nook)[\w\s]+build\/(\w+)/i,/(dell)\s(strea[kpr\s\d]*[\dko])/i],[u,s,[c,f]],[/(kf[A-z]+)\sbuild\/.+silk\//i],[s,[u,"Amazon"],[c,f]],[/(sd|kf)[0349hijorstuw]+\sbuild\/.+silk\//i],[[s,d.str,y.device.amazon.model],[u,"Amazon"],[c,h]],[/\((ip[honed|\s\w*]+);.+(apple)/i],[s,u,[c,h]],[/\((ip[honed|\s\w*]+);/i],[s,[u,"Apple"],[c,h]],[/(blackberry)[\s-]?(\w+)/i,/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[\s_-]?([\w-]*)/i,/(hp)\s([\w\s]+\w)/i,/(asus)-?(\w+)/i],[u,s,[c,h]],[/\(bb10;\s(\w+)/i],[s,[u,"BlackBerry"],[c,h]],[/android.+(transfo[prime\s]{4,10}\s\w+|eeepc|slider\s\w+|nexus 7|padfone)/i],[s,[u,"Asus"],[c,f]],[/(sony)\s(tablet\s[ps])\sbuild\//i,/(sony)?(?:sgp.+)\sbuild\//i],[[u,"Sony"],[s,"Xperia Tablet"],[c,f]],[/android.+\s([c-g]\d{4}|so[-l]\w+)\sbuild\//i],[s,[u,"Sony"],[c,h]],[/\s(ouya)\s/i,/(nintendo)\s([wids3u]+)/i],[u,s,[c,"console"]],[/android.+;\s(shield)\sbuild/i],[s,[u,"Nvidia"],[c,"console"]],[/(playstation\s[34portablevi]+)/i],[s,[u,"Sony"],[c,"console"]],[/(sprint\s(\w+))/i],[[u,d.str,y.device.sprint.vendor],[s,d.str,y.device.sprint.model],[c,h]],[/(lenovo)\s?(S(?:5000|6000)+(?:[-][\w+]))/i],[u,s,[c,f]],[/(htc)[;_\s-]+([\w\s]+(?=\))|\w+)*/i,/(zte)-(\w*)/i,/(alcatel|geeksphone|lenovo|nexian|panasonic|(?=;\s)sony)[_\s-]?([\w-]*)/i],[u,[s,/_/g," "],[c,h]],[/(nexus\s9)/i],[s,[u,"HTC"],[c,f]],[/d\/huawei([\w\s-]+)[;\)]/i,/(nexus\s6p)/i],[s,[u,"Huawei"],[c,h]],[/(microsoft);\s(lumia[\s\w]+)/i],[u,s,[c,h]],[/[\s\(;](xbox(?:\sone)?)[\s\);]/i],[s,[u,"Microsoft"],[c,"console"]],[/(kin\.[onetw]{3})/i],[[s,/\./g," "],[u,"Microsoft"],[c,h]],[/\s(milestone|droid(?:[2-4x]|\s(?:bionic|x2|pro|razr))?:?(\s4g)?)[\w\s]+build\//i,/mot[\s-]?(\w*)/i,/(XT\d{3,4}) build\//i,/(nexus\s6)/i],[s,[u,"Motorola"],[c,h]],[/android.+\s(mz60\d|xoom[\s2]{0,2})\sbuild\//i],[s,[u,"Motorola"],[c,f]],[/hbbtv\/\d+\.\d+\.\d+\s+\([\w\s]*;\s*(\w[^;]*);([^;]*)/i],[[u,p.trim],[s,p.trim],[c,"smarttv"]],[/hbbtv.+maple;(\d+)/i],[[s,/^/,"SmartTV"],[u,"Samsung"],[c,"smarttv"]],[/\(dtv[\);].+(aquos)/i],[s,[u,"Sharp"],[c,"smarttv"]],[/android.+((sch-i[89]0\d|shw-m380s|gt-p\d{4}|gt-n\d+|sgh-t8[56]9|nexus 10))/i,/((SM-T\w+))/i],[[u,"Samsung"],s,[c,f]],[/smart-tv.+(samsung)/i],[u,[c,"smarttv"],s],[/((s[cgp]h-\w+|gt-\w+|galaxy\snexus|sm-\w[\w\d]+))/i,/(sam[sung]*)[\s-]*(\w+-?[\w-]*)/i,/sec-((sgh\w+))/i],[[u,"Samsung"],s,[c,h]],[/sie-(\w*)/i],[s,[u,"Siemens"],[c,h]],[/(maemo|nokia).*(n900|lumia\s\d+)/i,/(nokia)[\s_-]?([\w-]*)/i],[[u,"Nokia"],s,[c,h]],[/android\s3\.[\s\w;-]{10}(a\d{3})/i],[s,[u,"Acer"],[c,f]],[/android.+([vl]k\-?\d{3})\s+build/i],[s,[u,"LG"],[c,f]],[/android\s3\.[\s\w;-]{10}(lg?)-([06cv9]{3,4})/i],[[u,"LG"],s,[c,f]],[/(lg) netcast\.tv/i],[u,s,[c,"smarttv"]],[/(nexus\s[45])/i,/lg[e;\s\/-]+(\w*)/i,/android.+lg(\-?[\d\w]+)\s+build/i],[s,[u,"LG"],[c,h]],[/android.+(ideatab[a-z0-9\-\s]+)/i],[s,[u,"Lenovo"],[c,f]],[/linux;.+((jolla));/i],[u,s,[c,h]],[/((pebble))app\/[\d\.]+\s/i],[u,s,[c,"wearable"]],[/android.+;\s(oppo)\s?([\w\s]+)\sbuild/i],[u,s,[c,h]],[/crkey/i],[[s,"Chromecast"],[u,"Google"]],[/android.+;\s(glass)\s\d/i],[s,[u,"Google"],[c,"wearable"]],[/android.+;\s(pixel c)\s/i],[s,[u,"Google"],[c,f]],[/android.+;\s(pixel xl|pixel)\s/i],[s,[u,"Google"],[c,h]],[/android.+;\s(\w+)\s+build\/hm\1/i,/android.+(hm[\s\-_]*note?[\s_]*(?:\d\w)?)\s+build/i,/android.+(mi[\s\-_]*(?:one|one[\s_]plus|note lte)?[\s_]*(?:\d?\w?)[\s_]*(?:plus)?)\s+build/i,/android.+(redmi[\s\-_]*(?:note)?(?:[\s_]*[\w\s]+))\s+build/i],[[s,/_/g," "],[u,"Xiaomi"],[c,h]],[/android.+(mi[\s\-_]*(?:pad)(?:[\s_]*[\w\s]+))\s+build/i],[[s,/_/g," "],[u,"Xiaomi"],[c,f]],[/android.+;\s(m[1-5]\snote)\sbuild/i],[s,[u,"Meizu"],[c,f]],[/android.+a000(1)\s+build/i,/android.+oneplus\s(a\d{4})\s+build/i],[s,[u,"OnePlus"],[c,h]],[/android.+[;\/]\s*(RCT[\d\w]+)\s+build/i],[s,[u,"RCA"],[c,f]],[/android.+[;\/\s]+(Venue[\d\s]{2,7})\s+build/i],[s,[u,"Dell"],[c,f]],[/android.+[;\/]\s*(Q[T|M][\d\w]+)\s+build/i],[s,[u,"Verizon"],[c,f]],[/android.+[;\/]\s+(Barnes[&\s]+Noble\s+|BN[RT])(V?.*)\s+build/i],[[u,"Barnes & Noble"],s,[c,f]],[/android.+[;\/]\s+(TM\d{3}.*\b)\s+build/i],[s,[u,"NuVision"],[c,f]],[/android.+;\s(k88)\sbuild/i],[s,[u,"ZTE"],[c,f]],[/android.+[;\/]\s*(gen\d{3})\s+build.*49h/i],[s,[u,"Swiss"],[c,h]],[/android.+[;\/]\s*(zur\d{3})\s+build/i],[s,[u,"Swiss"],[c,f]],[/android.+[;\/]\s*((Zeki)?TB.*\b)\s+build/i],[s,[u,"Zeki"],[c,f]],[/(android).+[;\/]\s+([YR]\d{2})\s+build/i,/android.+[;\/]\s+(Dragon[\-\s]+Touch\s+|DT)(\w{5})\sbuild/i],[[u,"Dragon Touch"],s,[c,f]],[/android.+[;\/]\s*(NS-?\w{0,9})\sbuild/i],[s,[u,"Insignia"],[c,f]],[/android.+[;\/]\s*((NX|Next)-?\w{0,9})\s+build/i],[s,[u,"NextBook"],[c,f]],[/android.+[;\/]\s*(Xtreme\_)?(V(1[045]|2[015]|30|40|60|7[05]|90))\s+build/i],[[u,"Voice"],s,[c,h]],[/android.+[;\/]\s*(LVTEL\-)?(V1[12])\s+build/i],[[u,"LvTel"],s,[c,h]],[/android.+[;\/]\s*(V(100MD|700NA|7011|917G).*\b)\s+build/i],[s,[u,"Envizen"],[c,f]],[/android.+[;\/]\s*(Le[\s\-]+Pan)[\s\-]+(\w{1,9})\s+build/i],[u,s,[c,f]],[/android.+[;\/]\s*(Trio[\s\-]*.*)\s+build/i],[s,[u,"MachSpeed"],[c,f]],[/android.+[;\/]\s*(Trinity)[\-\s]*(T\d{3})\s+build/i],[u,s,[c,f]],[/android.+[;\/]\s*TU_(1491)\s+build/i],[s,[u,"Rotor"],[c,f]],[/android.+(KS(.+))\s+build/i],[s,[u,"Amazon"],[c,f]],[/android.+(Gigaset)[\s\-]+(Q\w{1,9})\s+build/i],[u,s,[c,f]],[/\s(tablet|tab)[;\/]/i,/\s(mobile)(?:[;\/]|\ssafari)/i],[[c,p.lowerize],u,s],[/(android[\w\.\s\-]{0,9});.+build/i],[s,[u,"Generic"]]],engine:[[/windows.+\sedge\/([\w\.]+)/i],[l,[a,"EdgeHTML"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m)\/([\w\.]+)/i,/(khtml|tasman|links)[\/\s]\(?([\w\.]+)/i,/(icab)[\/\s]([23]\.[\d\.]+)/i],[a,l],[/rv\:([\w\.]{1,9}).+(gecko)/i],[l,a]],os:[[/microsoft\s(windows)\s(vista|xp)/i],[a,l],[/(windows)\snt\s6\.2;\s(arm)/i,/(windows\sphone(?:\sos)*)[\s\/]?([\d\.\s\w]*)/i,/(windows\smobile|windows)[\s\/]?([ntce\d\.\s]+\w)/i],[a,[l,d.str,y.os.windows.version]],[/(win(?=3|9|n)|win\s9x\s)([nt\d\.]+)/i],[[a,"Windows"],[l,d.str,y.os.windows.version]],[/\((bb)(10);/i],[[a,"BlackBerry"],l],[/(blackberry)\w*\/?([\w\.]*)/i,/(tizen)[\/\s]([\w\.]+)/i,/(android|webos|palm\sos|qnx|bada|rim\stablet\sos|meego|contiki)[\/\s-]?([\w\.]*)/i,/linux;.+(sailfish);/i],[a,l],[/(symbian\s?os|symbos|s60(?=;))[\/\s-]?([\w\.]*)/i],[[a,"Symbian"],l],[/\((series40);/i],[a],[/mozilla.+\(mobile;.+gecko.+firefox/i],[[a,"Firefox OS"],l],[/(nintendo|playstation)\s([wids34portablevu]+)/i,/(mint)[\/\s\(]?(\w*)/i,/(mageia|vectorlinux)[;\s]/i,/(joli|[kxln]?ubuntu|debian|suse|opensuse|gentoo|(?=\s)arch|slackware|fedora|mandriva|centos|pclinuxos|redhat|zenwalk|linpus)[\/\s-]?(?!chrom)([\w\.-]*)/i,/(hurd|linux)\s?([\w\.]*)/i,/(gnu)\s?([\w\.]*)/i],[a,l],[/(cros)\s[\w]+\s([\w\.]+\w)/i],[[a,"Chromium OS"],l],[/(sunos)\s?([\w\.\d]*)/i],[[a,"Solaris"],l],[/\s([frentopc-]{0,4}bsd|dragonfly)\s?([\w\.]*)/i],[a,l],[/(haiku)\s(\w+)/i],[a,l],[/cfnetwork\/.+darwin/i,/ip[honead]{2,4}(?:.*os\s([\w]+)\slike\smac|;\sopera)/i],[[l,/_/g,"."],[a,"iOS"]],[/(mac\sos\sx)\s?([\w\s\.]*)/i,/(macintosh|mac(?=_powerpc)\s)/i],[[a,"Mac OS"],[l,/_/g,"."]],[/((?:open)?solaris)[\/\s-]?([\w\.]*)/i,/(aix)\s((\d)(?=\.|\)|\s)[\w\.])*/i,/(plan\s9|minix|beos|os\/2|amigaos|morphos|risc\sos|openvms)/i,/(unix)\s?([\w\.]*)/i],[a,l]]},g=function(t,e){if("object"==typeof t&&(e=t,t=void 0),!(this instanceof g))return new g(t,e).getResult();var n=t||(i&&i.navigator&&i.navigator.userAgent?i.navigator.userAgent:""),r=e?p.extend(m,e):m;return this.getBrowser=function(){var t={name:void 0,version:void 0};return d.rgx.call(t,n,r.browser),t.major=p.major(t.version),t},this.getCPU=function(){var t={architecture:void 0};return d.rgx.call(t,n,r.cpu),t},this.getDevice=function(){var t={vendor:void 0,model:void 0,type:void 0};return d.rgx.call(t,n,r.device),t},this.getEngine=function(){var t={name:void 0,version:void 0};return d.rgx.call(t,n,r.engine),t},this.getOS=function(){var t={name:void 0,version:void 0};return d.rgx.call(t,n,r.os),t},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return n},this.setUA=function(t){return n=t,this},this};g.VERSION="0.7.18",g.BROWSER={NAME:a,MAJOR:"major",VERSION:l},g.CPU={ARCHITECTURE:"architecture"},g.DEVICE={MODEL:s,VENDOR:u,TYPE:c,CONSOLE:"console",MOBILE:h,SMARTTV:"smarttv",TABLET:f,WEARABLE:"wearable",EMBEDDED:"embedded"},g.ENGINE={NAME:a,VERSION:l},g.OS={NAME:a,VERSION:l},void 0!==e?(void 0!==t&&t.exports&&(e=t.exports=g),e.UAParser=g):n(3)?void 0===(r=function(){return g}.call(e,n,e,t))||(t.exports=r):i&&(i.UAParser=g);var v=i&&(i.jQuery||i.Zepto);if(void 0!==v){var b=new g;v.ua=b.getResult(),v.ua.get=function(){return b.getUA()},v.ua.set=function(t){b.setUA(t);var e=b.getResult();for(var n in e)v.ua[n]=e[n]}}}("object"==typeof window?window:this)},function(t,e){(function(e){t.exports=e}).call(e,{})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},i=n(0),o=i.DEVICE_TYPES,s=i.defaultData,a=e.getNavigatorInstance=function(){return!("undefined"==typeof window||!window.navigator&&!navigator)&&(window.navigator||navigator)},c=e.isIOS13Check=function(t){var e=a();return e&&e.platform&&(-1!==e.platform.indexOf(t)||"MacIntel"===e.platform&&e.maxTouchPoints>1&&!window.MSStream)};t.exports={checkType:function(t){switch(t){case o.MOBILE:return{isMobile:!0};case o.TABLET:return{isTablet:!0};case o.SMART_TV:return{isSmartTV:!0};case o.CONSOLE:return{isConsole:!0};case o.WEARABLE:return{isWearable:!0};case o.BROWSER:return{isBrowser:!0};default:return s}},broPayload:function(t,e,n,r,i){return{isBrowser:t,browserMajorVersion:e.major,browserFullVersion:e.version,browserName:e.name,engineName:n.name||!1,engineVersion:n.version,osName:r.name,osVersion:r.version,userAgent:i}},mobilePayload:function(t,e,n,i){return r({},t,{vendor:e.vendor,model:e.model,os:n.name,osVersion:n.version,ua:i})},stvPayload:function(t,e,n,r){return{isSmartTV:t,engineName:e.name,engineVersion:e.version,osName:n.name,osVersion:n.version,userAgent:r}},consolePayload:function(t,e,n,r){return{isConsole:t,engineName:e.name,engineVersion:e.version,osName:n.name,osVersion:n.version,userAgent:r}},wearPayload:function(t,e,n,r){return{isWearable:t,engineName:e.name,engineVersion:e.version,osName:n.name,osVersion:n.version,userAgent:r}},getNavigatorInstance:a,isIOS13Check:c}}])},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(t){"object"==typeof window&&(n=window)}t.exports=n},,,,,,,,,,function(t,e,n){var r=n(235),i=n(302),o="undefined"!=typeof Float64Array;function s(t,e){return t[0]-e[0]}function a(){var t,e=this.stride,n=new Array(e.length);for(t=0;t<n.length;++t)n[t]=[Math.abs(e[t]),t];n.sort(s);var r=new Array(n.length);for(t=0;t<r.length;++t)r[t]=n[t][1];return r}function c(t,e){var n=["View",e,"d",t].join("");e<0&&(n="View_Nil"+t);var i="generic"===t;if(-1===e){var o="function "+n+"(a){this.data=a;};var proto="+n+".prototype;proto.dtype='"+t+"';proto.index=function(){return -1};proto.size=0;proto.dimension=-1;proto.shape=proto.stride=proto.order=[];proto.lo=proto.hi=proto.transpose=proto.step=function(){return new "+n+"(this.data);};proto.get=proto.set=function(){};proto.pick=function(){return null};return function construct_"+n+"(a){return new "+n+"(a);}";return new Function(o)()}if(0===e){o="function "+n+"(a,d) {this.data = a;this.offset = d};var proto="+n+".prototype;proto.dtype='"+t+"';proto.index=function(){return this.offset};proto.dimension=0;proto.size=1;proto.shape=proto.stride=proto.order=[];proto.lo=proto.hi=proto.transpose=proto.step=function "+n+"_copy() {return new "+n+"(this.data,this.offset)};proto.pick=function "+n+"_pick(){return TrivialArray(this.data);};proto.valueOf=proto.get=function "+n+"_get(){return "+(i?"this.data.get(this.offset)":"this.data[this.offset]")+"};proto.set=function "+n+"_set(v){return "+(i?"this.data.set(this.offset,v)":"this.data[this.offset]=v")+"};return function construct_"+n+"(a,b,c,d){return new "+n+"(a,d)}";return new Function("TrivialArray",o)(u[t][0])}o=["'use strict'"];var s=r(e),c=s.map((function(t){return"i"+t})),l="this.offset+"+s.map((function(t){return"this.stride["+t+"]*i"+t})).join("+"),h=s.map((function(t){return"b"+t})).join(","),f=s.map((function(t){return"c"+t})).join(",");o.push("function "+n+"(a,"+h+","+f+",d){this.data=a","this.shape=["+h+"]","this.stride=["+f+"]","this.offset=d|0}","var proto="+n+".prototype","proto.dtype='"+t+"'","proto.dimension="+e),o.push("Object.defineProperty(proto,'size',{get:function "+n+"_size(){return "+s.map((function(t){return"this.shape["+t+"]"})).join("*"),"}})"),1===e?o.push("proto.order=[0]"):(o.push("Object.defineProperty(proto,'order',{get:"),e<4?(o.push("function "+n+"_order(){"),2===e?o.push("return (Math.abs(this.stride[0])>Math.abs(this.stride[1]))?[1,0]:[0,1]}})"):3===e&&o.push("var s0=Math.abs(this.stride[0]),s1=Math.abs(this.stride[1]),s2=Math.abs(this.stride[2]);if(s0>s1){if(s1>s2){return [2,1,0];}else if(s0>s2){return [1,2,0];}else{return [1,0,2];}}else if(s0>s2){return [2,0,1];}else if(s2>s1){return [0,1,2];}else{return [0,2,1];}}})")):o.push("ORDER})")),o.push("proto.set=function "+n+"_set("+c.join(",")+",v){"),i?o.push("return this.data.set("+l+",v)}"):o.push("return this.data["+l+"]=v}"),o.push("proto.get=function "+n+"_get("+c.join(",")+"){"),i?o.push("return this.data.get("+l+")}"):o.push("return this.data["+l+"]}"),o.push("proto.index=function "+n+"_index(",c.join(),"){return "+l+"}"),o.push("proto.hi=function "+n+"_hi("+c.join(",")+"){return new "+n+"(this.data,"+s.map((function(t){return["(typeof i",t,"!=='number'||i",t,"<0)?this.shape[",t,"]:i",t,"|0"].join("")})).join(",")+","+s.map((function(t){return"this.stride["+t+"]"})).join(",")+",this.offset)}");var p=s.map((function(t){return"a"+t+"=this.shape["+t+"]"})),d=s.map((function(t){return"c"+t+"=this.stride["+t+"]"}));o.push("proto.lo=function "+n+"_lo("+c.join(",")+"){var b=this.offset,d=0,"+p.join(",")+","+d.join(","));for(var y=0;y<e;++y)o.push("if(typeof i"+y+"==='number'&&i"+y+">=0){d=i"+y+"|0;b+=c"+y+"*d;a"+y+"-=d}");o.push("return new "+n+"(this.data,"+s.map((function(t){return"a"+t})).join(",")+","+s.map((function(t){return"c"+t})).join(",")+",b)}"),o.push("proto.step=function "+n+"_step("+c.join(",")+"){var "+s.map((function(t){return"a"+t+"=this.shape["+t+"]"})).join(",")+","+s.map((function(t){return"b"+t+"=this.stride["+t+"]"})).join(",")+",c=this.offset,d=0,ceil=Math.ceil");for(y=0;y<e;++y)o.push("if(typeof i"+y+"==='number'){d=i"+y+"|0;if(d<0){c+=b"+y+"*(a"+y+"-1);a"+y+"=ceil(-a"+y+"/d)}else{a"+y+"=ceil(a"+y+"/d)}b"+y+"*=d}");o.push("return new "+n+"(this.data,"+s.map((function(t){return"a"+t})).join(",")+","+s.map((function(t){return"b"+t})).join(",")+",c)}");var m=new Array(e),g=new Array(e);for(y=0;y<e;++y)m[y]="a[i"+y+"]",g[y]="b[i"+y+"]";o.push("proto.transpose=function "+n+"_transpose("+c+"){"+c.map((function(t,e){return t+"=("+t+"===undefined?"+e+":"+t+"|0)"})).join(";"),"var a=this.shape,b=this.stride;return new "+n+"(this.data,"+m.join(",")+","+g.join(",")+",this.offset)}"),o.push("proto.pick=function "+n+"_pick("+c+"){var a=[],b=[],c=this.offset");for(y=0;y<e;++y)o.push("if(typeof i"+y+"==='number'&&i"+y+">=0){c=(c+this.stride["+y+"]*i"+y+")|0}else{a.push(this.shape["+y+"]);b.push(this.stride["+y+"])}");return o.push("var ctor=CTOR_LIST[a.length+1];return ctor(this.data,a,b,c)}"),o.push("return function construct_"+n+"(data,shape,stride,offset){return new "+n+"(data,"+s.map((function(t){return"shape["+t+"]"})).join(",")+","+s.map((function(t){return"stride["+t+"]"})).join(",")+",offset)}"),new Function("CTOR_LIST","ORDER",o.join("\n"))(u[t],a)}var u={float32:[],float64:[],int8:[],int16:[],int32:[],uint8:[],uint16:[],uint32:[],array:[],uint8_clamped:[],bigint64:[],biguint64:[],buffer:[],generic:[]};t.exports=function(t,e,n,r){if(void 0===t)return(0,u.array[0])([]);"number"==typeof t&&(t=[t]),void 0===e&&(e=[t.length]);var s=e.length;if(void 0===n){n=new Array(s);for(var a=s-1,l=1;a>=0;--a)n[a]=l,l*=e[a]}if(void 0===r){r=0;for(a=0;a<s;++a)n[a]<0&&(r-=(e[a]-1)*n[a])}for(var h=function(t){if(i(t))return"buffer";if(o)switch(Object.prototype.toString.call(t)){case"[object Float64Array]":return"float64";case"[object Float32Array]":return"float32";case"[object Int8Array]":return"int8";case"[object Int16Array]":return"int16";case"[object Int32Array]":return"int32";case"[object Uint8Array]":return"uint8";case"[object Uint16Array]":return"uint16";case"[object Uint32Array]":return"uint32";case"[object Uint8ClampedArray]":return"uint8_clamped";case"[object BigInt64Array]":return"bigint64";case"[object BigUint64Array]":return"biguint64"}return Array.isArray(t)?"array":"generic"}(t),f=u[h];f.length<=s+1;)f.push(c(h,f.length-1));return(0,f[s+1])(t,e,n,r)}},,,,,,,,,function(t,e,n){var r,i=n(286),o=n(228),s=n(288),a=n(289),c=n(290);"undefined"!=typeof ArrayBuffer&&(r=n(291));var u="undefined"!=typeof navigator&&/Android/i.test(navigator.userAgent),l="undefined"!=typeof navigator&&/PhantomJS/i.test(navigator.userAgent),h=u||l;e.protocol=3;var f=e.packets={open:0,close:1,ping:2,pong:3,message:4,upgrade:5,noop:6},p=i(f),d={type:"error",data:"parser error"},y=n(292);function m(t,e,n){for(var r=new Array(t.length),i=a(t.length,n),o=function(t,n,i){e(n,(function(e,n){r[t]=n,i(e,r)}))},s=0;s<t.length;s++)o(s,t[s],i)}e.encodePacket=function(t,n,r,i){"function"==typeof n&&(i=n,n=!1),"function"==typeof r&&(i=r,r=null);var o=void 0===t.data?void 0:t.data.buffer||t.data;if("undefined"!=typeof ArrayBuffer&&o instanceof ArrayBuffer)return function(t,n,r){if(!n)return e.encodeBase64Packet(t,r);var i=t.data,o=new Uint8Array(i),s=new Uint8Array(1+i.byteLength);s[0]=f[t.type];for(var a=0;a<o.length;a++)s[a+1]=o[a];return r(s.buffer)}(t,n,i);if(void 0!==y&&o instanceof y)return function(t,n,r){if(!n)return e.encodeBase64Packet(t,r);if(h)return function(t,n,r){if(!n)return e.encodeBase64Packet(t,r);var i=new FileReader;return i.onload=function(){e.encodePacket({type:t.type,data:i.result},n,!0,r)},i.readAsArrayBuffer(t.data)}(t,n,r);var i=new Uint8Array(1);i[0]=f[t.type];var o=new y([i.buffer,t.data]);return r(o)}(t,n,i);if(o&&o.base64)return function(t,n){var r="b"+e.packets[t.type]+t.data.data;return n(r)}(t,i);var s=f[t.type];return void 0!==t.data&&(s+=r?c.encode(String(t.data),{strict:!1}):String(t.data)),i(""+s)},e.encodeBase64Packet=function(t,n){var r,i="b"+e.packets[t.type];if(void 0!==y&&t.data instanceof y){var o=new FileReader;return o.onload=function(){var t=o.result.split(",")[1];n(i+t)},o.readAsDataURL(t.data)}try{r=String.fromCharCode.apply(null,new Uint8Array(t.data))}catch(e){for(var s=new Uint8Array(t.data),a=new Array(s.length),c=0;c<s.length;c++)a[c]=s[c];r=String.fromCharCode.apply(null,a)}return i+=btoa(r),n(i)},e.decodePacket=function(t,n,r){if(void 0===t)return d;if("string"==typeof t){if("b"===t.charAt(0))return e.decodeBase64Packet(t.substr(1),n);if(r&&!1===(t=function(t){try{t=c.decode(t,{strict:!1})}catch(t){return!1}return t}(t)))return d;var i=t.charAt(0);return Number(i)==i&&p[i]?t.length>1?{type:p[i],data:t.substring(1)}:{type:p[i]}:d}i=new Uint8Array(t)[0];var o=s(t,1);return y&&"blob"===n&&(o=new y([o])),{type:p[i],data:o}},e.decodeBase64Packet=function(t,e){var n=p[t.charAt(0)];if(!r)return{type:n,data:{base64:!0,data:t.substr(1)}};var i=r.decode(t.substr(1));return"blob"===e&&y&&(i=new y([i])),{type:n,data:i}},e.encodePayload=function(t,n,r){"function"==typeof n&&(r=n,n=null);var i=o(t);if(n&&i)return y&&!h?e.encodePayloadAsBlob(t,r):e.encodePayloadAsArrayBuffer(t,r);if(!t.length)return r("0:");m(t,(function(t,r){e.encodePacket(t,!!i&&n,!1,(function(t){r(null,function(t){return t.length+":"+t}(t))}))}),(function(t,e){return r(e.join(""))}))},e.decodePayload=function(t,n,r){if("string"!=typeof t)return e.decodePayloadAsBinary(t,n,r);var i;if("function"==typeof n&&(r=n,n=null),""===t)return r(d,0,1);for(var o,s,a="",c=0,u=t.length;c<u;c++){var l=t.charAt(c);if(":"===l){if(""===a||a!=(o=Number(a)))return r(d,0,1);if(a!=(s=t.substr(c+1,o)).length)return r(d,0,1);if(s.length){if(i=e.decodePacket(s,n,!1),d.type===i.type&&d.data===i.data)return r(d,0,1);if(!1===r(i,c+o,u))return}c+=o,a=""}else a+=l}return""!==a?r(d,0,1):void 0},e.encodePayloadAsArrayBuffer=function(t,n){if(!t.length)return n(new ArrayBuffer(0));m(t,(function(t,n){e.encodePacket(t,!0,!0,(function(t){return n(null,t)}))}),(function(t,e){var r=e.reduce((function(t,e){var n;return t+(n="string"==typeof e?e.length:e.byteLength).toString().length+n+2}),0),i=new Uint8Array(r),o=0;return e.forEach((function(t){var e="string"==typeof t,n=t;if(e){for(var r=new Uint8Array(t.length),s=0;s<t.length;s++)r[s]=t.charCodeAt(s);n=r.buffer}i[o++]=e?0:1;var a=n.byteLength.toString();for(s=0;s<a.length;s++)i[o++]=parseInt(a[s]);i[o++]=255;for(r=new Uint8Array(n),s=0;s<r.length;s++)i[o++]=r[s]})),n(i.buffer)}))},e.encodePayloadAsBlob=function(t,n){m(t,(function(t,n){e.encodePacket(t,!0,!0,(function(t){var e=new Uint8Array(1);if(e[0]=1,"string"==typeof t){for(var r=new Uint8Array(t.length),i=0;i<t.length;i++)r[i]=t.charCodeAt(i);t=r.buffer,e[0]=0}var o=(t instanceof ArrayBuffer?t.byteLength:t.size).toString(),s=new Uint8Array(o.length+1);for(i=0;i<o.length;i++)s[i]=parseInt(o[i]);if(s[o.length]=255,y){var a=new y([e.buffer,s.buffer,t]);n(null,a)}}))}),(function(t,e){return n(new y(e))}))},e.decodePayloadAsBinary=function(t,n,r){"function"==typeof n&&(r=n,n=null);for(var i=t,o=[];i.byteLength>0;){for(var a=new Uint8Array(i),c=0===a[0],u="",l=1;255!==a[l];l++){if(u.length>310)return r(d,0,1);u+=a[l]}i=s(i,2+u.length),u=parseInt(u);var h=s(i,0,u);if(c)try{h=String.fromCharCode.apply(null,new Uint8Array(h))}catch(t){var f=new Uint8Array(h);h="";for(l=0;l<f.length;l++)h+=String.fromCharCode(f[l])}o.push(h),i=s(i,u)}var p=o.length;o.forEach((function(t,i){r(e.decodePacket(t,n,!0),i,p)}))}},function(t,e,n){"use strict";var r,i="object"==typeof Reflect?Reflect:null,o=i&&"function"==typeof i.apply?i.apply:function(t,e,n){return Function.prototype.apply.call(t,e,n)};r=i&&"function"==typeof i.ownKeys?i.ownKeys:Object.getOwnPropertySymbols?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:function(t){return Object.getOwnPropertyNames(t)};var s=Number.isNaN||function(t){return t!=t};function a(){a.init.call(this)}t.exports=a,a.EventEmitter=a,a.prototype._events=void 0,a.prototype._eventsCount=0,a.prototype._maxListeners=void 0;var c=10;function u(t){if("function"!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}function l(t){return void 0===t._maxListeners?a.defaultMaxListeners:t._maxListeners}function h(t,e,n,r){var i,o,s,a;if(u(n),void 0===(o=t._events)?(o=t._events=Object.create(null),t._eventsCount=0):(void 0!==o.newListener&&(t.emit("newListener",e,n.listener?n.listener:n),o=t._events),s=o[e]),void 0===s)s=o[e]=n,++t._eventsCount;else if("function"==typeof s?s=o[e]=r?[n,s]:[s,n]:r?s.unshift(n):s.push(n),(i=l(t))>0&&s.length>i&&!s.warned){s.warned=!0;var c=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");c.name="MaxListenersExceededWarning",c.emitter=t,c.type=e,c.count=s.length,a=c,console&&console.warn&&console.warn(a)}return t}function f(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function p(t,e,n){var r={fired:!1,wrapFn:void 0,target:t,type:e,listener:n},i=f.bind(r);return i.listener=n,r.wrapFn=i,i}function d(t,e,n){var r=t._events;if(void 0===r)return[];var i=r[e];return void 0===i?[]:"function"==typeof i?n?[i.listener||i]:[i]:n?function(t){for(var e=new Array(t.length),n=0;n<e.length;++n)e[n]=t[n].listener||t[n];return e}(i):m(i,i.length)}function y(t){var e=this._events;if(void 0!==e){var n=e[t];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function m(t,e){for(var n=new Array(e),r=0;r<e;++r)n[r]=t[r];return n}Object.defineProperty(a,"defaultMaxListeners",{enumerable:!0,get:function(){return c},set:function(t){if("number"!=typeof t||t<0||s(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");c=t}}),a.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},a.prototype.setMaxListeners=function(t){if("number"!=typeof t||t<0||s(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this},a.prototype.getMaxListeners=function(){return l(this)},a.prototype.emit=function(t){for(var e=[],n=1;n<arguments.length;n++)e.push(arguments[n]);var r="error"===t,i=this._events;if(void 0!==i)r=r&&void 0===i.error;else if(!r)return!1;if(r){var s;if(e.length>0&&(s=e[0]),s instanceof Error)throw s;var a=new Error("Unhandled error."+(s?" ("+s.message+")":""));throw a.context=s,a}var c=i[t];if(void 0===c)return!1;if("function"==typeof c)o(c,this,e);else{var u=c.length,l=m(c,u);for(n=0;n<u;++n)o(l[n],this,e)}return!0},a.prototype.addListener=function(t,e){return h(this,t,e,!1)},a.prototype.on=a.prototype.addListener,a.prototype.prependListener=function(t,e){return h(this,t,e,!0)},a.prototype.once=function(t,e){return u(e),this.on(t,p(this,t,e)),this},a.prototype.prependOnceListener=function(t,e){return u(e),this.prependListener(t,p(this,t,e)),this},a.prototype.removeListener=function(t,e){var n,r,i,o,s;if(u(e),void 0===(r=this._events))return this;if(void 0===(n=r[t]))return this;if(n===e||n.listener===e)0==--this._eventsCount?this._events=Object.create(null):(delete r[t],r.removeListener&&this.emit("removeListener",t,n.listener||e));else if("function"!=typeof n){for(i=-1,o=n.length-1;o>=0;o--)if(n[o]===e||n[o].listener===e){s=n[o].listener,i=o;break}if(i<0)return this;0===i?n.shift():function(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}(n,i),1===n.length&&(r[t]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",t,s||e)}return this},a.prototype.off=a.prototype.removeListener,a.prototype.removeAllListeners=function(t){var e,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[t]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[t]),this;if(0===arguments.length){var i,o=Object.keys(n);for(r=0;r<o.length;++r)"removeListener"!==(i=o[r])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(e=n[t]))this.removeListener(t,e);else if(void 0!==e)for(r=e.length-1;r>=0;r--)this.removeListener(t,e[r]);return this},a.prototype.listeners=function(t){return d(this,t,!0)},a.prototype.rawListeners=function(t){return d(this,t,!1)},a.listenerCount=function(t,e){return"function"==typeof t.listenerCount?t.listenerCount(e):y.call(t,e)},a.prototype.listenerCount=y,a.prototype.eventNames=function(){return this._eventsCount>0?r(this._events):[]}},,,,,function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=100;function i(t,e,n,i){var o=document.createElement("div");o.id=t,o.classList.add("window_main"),o.style=`\n\t\tposition: absolute;\n\t\tz-index: ${r};\n\t\tbackground-color: #eeeeeedd;\n\t\ttop: calc(50vh - ${n[1]}/2);\n\t\tleft: calc(50vw - ${n[0]}/2);\n\t\t`,o.style.width=n[0],o.style.height=n[1],o.onclick=function(){r++,o.style.zIndex=r};var s=document.createElement("div");s.id=t+"_bar",s.style="\n\t\tpadding: 10px;\n\t\tcursor: move;\n\t\tz-index: 1;\n\t\tbackground-color: #2b2b2bee;\n\t\tcolor: #fff;\n\t\ttext-align: center;\n\t",s.style.width="100%",s.style.height="40px",s.innerHTML=e,s.classList.add("window_bar");var a=document.createElement("div");a.id=t+"_close",a.style="\n\t\tcursor: pointer;\n\t\tz-index: 2;\n\t\tbackground-color: #dd444466;\n\t\tfloat: right;\n\t\tcolor: #fff;\n\t\tborder-radius: 50%;\n\t",a.style.width="20px",a.style.height="20px",a.onclick=function(){o.style.display="none",o.style.top=`calc(50vh - ${n[1]}/2);`,o.style.left=`calc(50vw - ${n[0]}/2);`},a.classList.add("window_close"),o.appendChild(s),s.appendChild(a),o.appendChild(i);var c=0,u=0,l=0,h=0;function f(t){(t=t||window.event).preventDefault(),c=l-t.clientX,u=h-t.clientY,l=t.clientX,h=t.clientY,o.style.top=o.offsetTop-u+"px",o.style.left=o.offsetLeft-c+"px"}function p(){document.onmouseup=null,document.onmousemove=null}return s.onmousedown=function(t){(t=t||window.event).preventDefault(),r++,o.style.zIndex=r,l=t.clientX,h=t.clientY,document.onmouseup=p,document.onmousemove=f},{main:o,bar:s,close:a}}window.createWindow=i},,,,,,,,,,,,,,,,,,function(t,e,n){(function(r){e.log=function(...t){return"object"==typeof console&&console.log&&console.log(...t)},e.formatArgs=function(e){if(e[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+e[0]+(this.useColors?"%c ":" ")+"+"+t.exports.humanize(this.diff),!this.useColors)return;const n="color: "+this.color;e.splice(1,0,n,"color: inherit");let r=0,i=0;e[0].replace(/%[a-zA-Z%]/g,t=>{"%%"!==t&&(r++,"%c"===t&&(i=r))}),e.splice(i,0,n)},e.save=function(t){try{t?e.storage.setItem("debug",t):e.storage.removeItem("debug")}catch(t){}},e.load=function(){let t;try{t=e.storage.getItem("debug")}catch(t){}!t&&void 0!==r&&"env"in r&&(t=r.env.DEBUG);return t},e.useColors=function(){if("undefined"!=typeof window&&window.process&&("renderer"===window.process.type||window.process.__nwjs))return!0;if("undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;return"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},e.storage=function(){try{return localStorage}catch(t){}}(),e.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],t.exports=n(275)(e);const{formatters:i}=t.exports;i.j=function(t){try{return JSON.stringify(t)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}}}).call(this,n(160))},function(t,e,n){(function(e){t.exports=e.BFSRequire("process")}).call(this,n(200))},function(t,e){e.encode=function(t){var e="";for(var n in t)t.hasOwnProperty(n)&&(e.length&&(e+="&"),e+=encodeURIComponent(n)+"="+encodeURIComponent(t[n]));return e},e.decode=function(t){for(var e={},n=t.split("&"),r=0,i=n.length;r<i;r++){var o=n[r].split("=");e[decodeURIComponent(o[0])]=decodeURIComponent(o[1])}return e}},function(t,e){t.exports=function(t,e){var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}},function(t,e,n){(function(r){e.log=function(...t){return"object"==typeof console&&console.log&&console.log(...t)},e.formatArgs=function(e){if(e[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+e[0]+(this.useColors?"%c ":" ")+"+"+t.exports.humanize(this.diff),!this.useColors)return;const n="color: "+this.color;e.splice(1,0,n,"color: inherit");let r=0,i=0;e[0].replace(/%[a-zA-Z%]/g,t=>{"%%"!==t&&(r++,"%c"===t&&(i=r))}),e.splice(i,0,n)},e.save=function(t){try{t?e.storage.setItem("debug",t):e.storage.removeItem("debug")}catch(t){}},e.load=function(){let t;try{t=e.storage.getItem("debug")}catch(t){}!t&&void 0!==r&&"env"in r&&(t=r.env.DEBUG);return t},e.useColors=function(){if("undefined"!=typeof window&&window.process&&("renderer"===window.process.type||window.process.__nwjs))return!0;if("undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;return"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},e.storage=function(){try{return localStorage}catch(t){}}(),e.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],t.exports=n(293)(e);const{formatters:i}=t.exports;i.j=function(t){try{return JSON.stringify(t)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}}}).call(this,n(160))},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,n){"use strict";n.d(e,"a",(function(){return Xe}));var r=n(337),i=n(136).EventEmitter;function o(t,e){e=e||{},this._noa=t,this.element=e.domElement||function(){var t=document.createElement("div");return t.tabindex=1,t.style.position="fixed",t.style.left="0px",t.style.right="0px",t.style.top="0px",t.style.bottom="0px",t.style.height="100%",t.style.overflow="hidden",document.body.appendChild(t),document.body.style.overflow="hidden",document.body.style.height="100%",t.id="noa-container",t}(),this.canvas=function(t){var e=t.querySelector("canvas");e||((e=document.createElement("canvas")).style.position="absolute",e.style.left="0px",e.style.top="0px",e.style.height="100%",e.style.width="100%",e.id="noa-canvas",t.insertBefore(e,t.firstChild));return e}(this.element),this._shell=function(t,e){(e=Object.assign({pointerLock:!0,preventDefaults:!1},e)).element=t;var n=r(e);return n.preventDefaults=e.preventDefaults,n}(this.canvas,e),this.hasPointerLock=!1,this.supportsPointerLock=!1,this.pointerInGame=!1,this.isFocused=document.hasFocus();var n=this,i=function(t){!function(t,e){var n=document.pointerLockElement||document.mozPointerLockElement||document.webkitPointerLockElement;n?(t.hasPointerLock=!0,t.emit("gainedPointerLock")):(t.hasPointerLock=!1,t.emit("lostPointerLock"));n&&(t.pointerInGame=!0)}(n)};document.addEventListener("pointerlockchange",i,!1),document.addEventListener("mozpointerlockchange",i,!1),document.addEventListener("webkitpointerlockchange",i,!1),function(t){if("pointerLockElement"in document||"mozPointerLockElement"in document||"webkitPointerLockElement"in document){t.supportsPointerLock=!0;var e=function(n){t.supportsPointerLock=!1,document.removeEventListener(n.type,e)};document.addEventListener("touchmove",e)}}(n),n.element.addEventListener("mouseenter",(function(){n.pointerInGame=!0})),n.element.addEventListener("mouseleave",(function(){n.pointerInGame=!1})),window.addEventListener("focus",(function(){n.isFocused=!0})),window.addEventListener("blur",(function(){n.isFocused=!1})),this._shell.on("init",s.bind(null,this))}function s(t){var e=t._noa,n=t._shell;n.on("tick",(function(t){e.tick(t)})),n.on("render",(function(t){e.render(t)})),n.on("resize",e.rendering.resize.bind(e.rendering)),t.emit("DOMready")}function a(t,e){var n=t.indexOf(e);n<0||(n===t.length-1?t.pop():t[n]=t.pop())}function c(t,e,n){for(var r=(n||performance.now())+t,i=0;i<1e3;i++){if(e()||performance.now()>r)return}}o.prototype=Object.create(i.prototype),o.prototype.appendTo=function(t){this.element.appendChild(t)},o.prototype.setPointerLock=function(t){this._shell.pointerLock=!!t};var u=0,l=0;function h(t,e,n,r,i){t?function(t,e,n,r,i,o,s,a,c,u,l){for(var h=0;h<o;h++)for(var f=0;f<s;f++)for(var p=t.index(n+h,r+f,i),d=e.index(c+h,u+f,l),y=0;y<a;y++)e.data[d]=t.data[p],p+=t.stride[2],d+=e.stride[2]}(t,e,n[0],n[1],n[2],r[0],r[1],r[2],i[0],i[1],i[2]):function(t,e,n,r,i,o,s){for(var a=0;a<i;a++)for(var c=0;c<o;c++)for(var u=t.index(e+a,n+c,r),l=0;l<s;l++)t.data[u]=0,u+=t.stride[2]}(e,i[0],i[1],i[2],r[0],r[1],r[2])}function f(){this.arr=[],this.hash={}}function p(t,e){var n=e||"",r=t||1,i=[],o=[],s=0,a=0,c=0,u=0,l=!0;return function(t){"start"===t?(l&&(i.length=o.length=0,l=!1),s=a=performance.now(),c++):"end"===t?function(){if(u+=performance.now()-s,c===r){var t=n+" total "+(u/r).toFixed(2)+"ms (avg, "+r+" runs)    ";console.log(t,o.map((function(t,e){return t+": "+(i[e]/r).toFixed(2)+"ms    "})).join("")),l=!0,c=0,u=0}}():function(t){var e=performance.now();o.indexOf(t)<0&&o.push(t);var n=o.indexOf(t);i[n]||(i[n]=0),i[n]+=e-a,a=e}(t)}}f.prototype.includes=function(t){return this.hash[t]},f.prototype.add=function(t){this.hash[t]||(this.arr.push(t),this.hash[t]=!0)},f.prototype.remove=function(t){this.hash[t]&&(this.arr.splice(this.arr.indexOf(t),1),delete this.hash[t])},f.prototype.count=function(){return this.arr.length},f.prototype.forEach=function(t,e){return this.arr.forEach(t,e)},f.prototype.slice=function(t,e){return this.arr.slice(t,e)},f.prototype.isEmpty=function(){return 0===this.arr.length},f.prototype.empty=function(){this.arr.length=0,this.hash={}},f.prototype.pop=function(){var t=this.arr.pop();return delete this.hash[t],t},f.prototype.sort=function(t){var e={};this.arr.forEach(n=>{e[n]=t(n)}),this.arr.sort((t,n)=>e[n]-e[t])},f.prototype.copyFrom=function(t){this.arr=t.arr.slice(),this.hash=Object.assign({},t.hash)};var d=n(17),y=n(55),m=n(111),g=n(138),v=n(10),b=n(89),_=n(32),w=n(30),k=n(4),E=n(193),S=(n(167),n(79)),C={showFPS:!1,antiAlias:!0,clearColor:[.8,.9,1],ambientColor:[1,1,1],lightDiffuse:[1,1,1],lightSpecular:[1,1,1],groundLightColor:[.5,.5,.5],useAO:!0,AOmultipliers:[.93,.8,.5],reverseAOmultiplier:1,preserveDrawingBuffer:!0};function x(t,e,n){this.noa=t,e=Object.assign({},C,e),this.useAO=!!e.useAO,this.aoVals=e.AOmultipliers,this.revAoVal=e.reverseAOmultiplier,this.meshingCutoffTime=6,this._resizeDebounce=250,function(t,e,n){t._engine=new v.a(e,n.antiAlias,{preserveDrawingBuffer:n.preserveDrawingBuffer}),t._scene=new d.a(t._engine);var r=t._scene;r.detachControl(),r._addComponent(new E.c(r)),t._octree=new m.a(t=>{}),t._octree.blocks=[],r._selectionOctree=t._octree,t._cameraHolder=new k.a("camHolder",r),t._camera=new y.a("camera",new w.y(0,0,0),r),t._camera.parent=t._cameraHolder,t._camera.minZ=.01,t._cameraHolder.visibility=!1,t._camScreen=k.a.CreatePlane("camScreen",10,r),t.addMeshToScene(t._camScreen),t._camScreen.position.z=.1,t._camScreen.parent=t._camera,t._camScreenMat=t.makeStandardMaterial("camscreenmat"),t._camScreen.material=t._camScreenMat,t._camScreen.setEnabled(!1),t._camLocBlock=0;var i=new w.y(.1,1,.3);function o(t){return new w.e(t[0],t[1],t[2])}t._light=new b.a("light",i,r),r.clearColor=o(n.clearColor),r.ambientColor=o(n.ambientColor),t._light.diffuse=o(n.lightDiffuse),t._light.specular=o(n.lightSpecular),t._light.groundColor=o(n.groundLightColor),t.flatMaterial=t.makeStandardMaterial("flatmat")}(this,n,e),e.showFPS&&function(){var t=document.createElement("div");t.id="noa_fps";"color:white; background-color:rgba(0,0,0,0.5);","font:14px monospace; text-align:center;","min-width:2em; margin:4px;",t.style="position:absolute; top:0; right:0; z-index:0;color:white; background-color:rgba(0,0,0,0.5);font:14px monospace; text-align:center;min-width:2em; margin:4px;",document.body.appendChild(t);var e=0,n=0,r=performance.now(),i=r;O=function(){e++;var o=performance.now();if(o-i>n&&(n=o-i),i=o,!(o-r<1e3)){var s=Math.round(e/(o-r)*1e3),a=Math.round(1/n*1e3);t.innerHTML=s+"<br>"+a,e=0,n=0,r=o}}}()}x.prototype.getScene=function(){return this._scene},x.prototype.tick=function(t){},x.prototype.render=function(t){F("start"),function(t){var e=t.noa.camera,n=e._localGetTargetPosition();t._cameraHolder.position.copyFromFloats(n[0],n[1],n[2]),t._cameraHolder.rotation.x=e.pitch,t._cameraHolder.rotation.y=e.heading,t._camera.position.z=-e.currentZoom;var r=e._localGetPosition(),i=t.noa.worldOriginOffset,o=Math.floor(r[0]+i[0]),s=Math.floor(r[1]+i[1]),a=Math.floor(r[2]+i[2]),c=t.noa.getBlock(o,s,a);!function(t,e){if(e===t._camLocBlock)return;if(0===e)t._camScreen.setEnabled(!1);else{var n=t.noa.registry.getBlockFaceMaterial(e,0);if(n){var r=t.noa.registry.getMaterialData(n),i=r.color,o=r.alpha;i&&o&&o<1&&(t._camScreenMat.diffuseColor.set(0,0,0),t._camScreenMat.ambientColor.set(i[0],i[1],i[2]),t._camScreenMat.alpha=o,t._camScreen.setEnabled(!0))}}t._camLocBlock=e}(t,c)}(this),F("updateCamera"),this._engine.beginFrame(),F("beginFrame"),this._scene.render(),F("render"),O(),this._engine.endFrame(),F("endFrame"),F("end")},x.prototype.resize=function(t){A||(A=!0,setTimeout(()=>{this._engine.resize(),A=!1},this._resizeDebounce))};var A=!1;x.prototype.highlightBlockFace=function(t,e,n){var r=function(t){var e=t._highlightMesh;if(!e){e=k.a.CreatePlane("highlight",1,t._scene);var n=t.makeStandardMaterial("highlightMat");n.backFaceCulling=!1,n.emissiveColor=new w.e(1,1,1),n.alpha=.2,e.material=n;var r=.5,i=k.a.CreateLines("hightlightLines",[new w.y(r,r,0),new w.y(r,-r,0),new w.y(-r,-r,0),new w.y(-r,r,0),new w.y(r,r,0)],t._scene);i.color=new w.e(1,1,1),i.parent=e,t.addMeshToScene(e),t.addMeshToScene(i),t._highlightMesh=e}return e}(this);if(t){this.noa.globalToLocal(e,null,T);for(var i=.001+.001*S.dist(this.noa.camera._localGetPosition(),T),o=0;o<3;o++)0===n[o]?T[o]+=.5:T[o]+=n[o]>0?1+i:-i;r.position.copyFromFloats(T[0],T[1],T[2]),r.rotation.x=n[1]?Math.PI/2:0,r.rotation.y=n[0]?Math.PI/2:0}r.setEnabled(t)};var T=[];x.prototype.addMeshToScene=function(t,e,n,r){if(!t._noaContainingChunk&&!this._octree.dynamicContent.includes(t)){if(!t.parent){n||(n=[t.position.x,t.position.y,t.position.z]);var i=[];this.noa.globalToLocal(n,null,i),t.position.copyFromFloats(i[0],i[1],i[2])}var o=!1;if(e){var s=r||this.noa.world._getChunkByCoords(n[0],n[1],n[2]);o=!(!s||!s.octreeBlock)}o?(s.octreeBlock.entries.push(t),t._noaContainingChunk=s):this._octree.dynamicContent.push(t),e&&(t.freezeWorldMatrix(),t.freezeNormals());var a=this.removeMeshFromScene.bind(this,t);t.onDisposeObservable.add(a)}},x.prototype.removeMeshFromScene=function(t){t._noaContainingChunk&&t._noaContainingChunk.octreeBlock&&a(t._noaContainingChunk.octreeBlock.entries,t),t._noaContainingChunk=null,a(this._octree.dynamicContent,t)},x.prototype.makeStandardMaterial=function(t){var e=new _.a(t,this._scene);return e.specularColor.copyFromFloats(0,0,0),e.ambientColor.copyFromFloats(1,1,1),e.diffuseColor.copyFromFloats(1,1,1),e},x.prototype.prepareChunkForRendering=function(t){var e=t.size,n=[];this.noa.globalToLocal([t.x,t.y,t.z],null,n);var r=new w.y(n[0],n[1],n[2]),i=new w.y(n[0]+e,n[1]+e,n[2]+e);t.octreeBlock=new g.a(r,i,void 0,void 0,void 0,t=>{}),this._octree.blocks.push(t.octreeBlock)},x.prototype.disposeChunkForRendering=function(t){t.octreeBlock&&(a(this._octree.blocks,t.octreeBlock),t.octreeBlock.entries.length=0,t.octreeBlock=null)},x.prototype._rebaseOrigin=function(t){var e=new w.y(t[0],t[1],t[2]);this._scene.meshes.forEach(t=>{t.parent||(t.position.subtractInPlace(e),t._isWorldMatrixFrozen&&t.markAsDirty())}),this._octree.blocks.forEach(t=>{t.minPoint.subtractInPlace(e),t.maxPoint.subtractInPlace(e),t._boundingVectors.forEach(t=>{t.subtractInPlace(e)})})},x.prototype.debug_SceneCheck=function(){var t=this._scene.meshes,e=this._octree.dynamicContent,n=[],r=0,i=0,o=this._scene.materials,s=[];o.forEach(t=>{t.subMaterials?t.subMaterials.forEach(t=>s.push(t)):s.push(t)}),this._octree.blocks.forEach((function(t){r++,t.entries.forEach(t=>n.push(t))})),t.forEach((function(t){if(t._isDisposed&&u(t,"disposed mesh in scene"),0!==t.getIndices().length)if(l(t,e,n)&&u(t,"non-empty mesh missing from octree"),t.material){i+=t.subMeshes?t.subMeshes.length:1;var r=t.material.subMaterials||[t.material];r.forEach((function(t){l(t,r)&&u(t,"mesh material not in scene")}))}else u(t,"non-empty scene mesh with no material")}));var a=[];s.forEach(e=>{var n=!1;t.forEach(t=>{t.material===e&&(n=!0),t.material&&t.material.subMaterials&&t.material.subMaterials.includes(e)&&(n=!0)}),n||a.push(e.name)}),a.length&&console.warn("Materials unused by any mesh: ",a.join(", ")),e.forEach((function(e){l(e,t)&&u(e,"octree/dynamic mesh not in scene")})),n.forEach((function(e){l(e,t)&&u(e,"octree block mesh not in scene")}));var c=Math.round(10*n.length/r)/10;function u(t,e){console.warn(t.name+" --- "+e)}function l(t,e,n){return!!t&&(!e.includes(t)&&(!n||!n.includes(t)))}return console.log("meshes - octree:",n.length,"  dynamic:",e.length,"   subMeshes:",i,"   avg meshes/octreeBlock:",c),"done."},x.prototype.debug_MeshCount=function(){var t={};for(var e in this._scene.meshes.forEach(e=>{var n=e.name||"";n=(n=(n=(n=n.replace(/-\d+.*/,"#")).replace(/\d+.*/,"#")).replace(/(rotHolder|camHolder|camScreen)/,"rendering use")).replace(/atlas sprite .*/,"atlas sprites"),t[n]=t[n]||0,t[n]++}),t)console.log("   "+(t[e]+"       ").substr(0,7)+e)};var F=()=>{},O=function(){};var D=n(126),L=n.n(D),I=n(58),M=n(15),N=n(76),R=n(8),P=function(t){var e=new H(t),n=new q(t);this.meshChunk=function(r,i,o,s,a,c,u){V("start");var l=i||t.registry.getBlockFaceMaterial,f=o||t.registry._getMaterialVertexColor,p=void 0===a?t.rendering.useAO:a,d=c||t.rendering.aoVals,y=isNaN(u)?t.rendering.revAoVal:u,m=function(t){var e=t.voxels.shape[0],n=j;if(e+2!==n.shape[0]){var r=e+2;n=new L.a(new Uint16Array(r*r*r),[r,r,r]),j=n}var i=z[0],o=z[1],s=z[2],a=z[3],c=z[4],u=z[5],l=z[6];e!==B&&(B=e,function(t,e,n,r){for(var i=0;i<3;i++)e[i]=[t-1,0,0][i],n[i]=[1,t,1][i],r[i]=[0,1,t+1][i]}(e,c,u,l));for(var f=0;f<3;f++){i[0]=f;for(var p=0;p<3;p++){i[1]=p;for(var d=0;d<3;d++){i[2]=d;for(var y=0;y<3;y++){var m=i[y];o[y]=c[m],s[y]=u[m],a[y]=l[m]}var g=t._neighbors.get(f-1,p-1,d-1);h(g?g.voxels:null,n,o,s,a)}}}return n}(r);V("copy");var g,v=r.isFull||r.isEmpty,b=e.mesh(m,l,f,p,d,y,v);return b.length&&(g=n.build(r,b,s),V("terrain")),V("end"),g||null}};var B,j=new L.a(new Uint16Array(27),[3,3,3]),z=Array.from(Array(10)).map(t=>[0,0,0]);function U(t){this.id=0|t,this.positions=[],this.indices=[],this.normals=[],this.colors=[],this.uvs=[],this.mergeable=!1}function q(t){function e(t,e){for(var r=[],i=[],o=[],s=null,a=0;a<t.length;++a){var c=t[a];if(e||c.mergeable)if(r.push(c.positions.length),i.push(c.indices.length),o.push(c.id),s){var u=s.positions.length/3;n(s.positions,c.positions),n(s.normals,c.normals),n(s.colors,c.colors),n(s.uvs,c.uvs);for(var l=0,h=c.indices.length;l<h;++l)s.indices.push(c.indices[l]+u);t.splice(a,1),c.dispose(),a--}else s=c}return{vertices:r,indices:i,matIDs:o}}function n(t,e){for(var n=0;n<e.length;n++)t.push(e[n])}this.build=function(n,i,o){for(var s=0,a=0;a<i.length;a++){var c=i[a];if(o)c.mergeable=!0;else{var u=t.registry.getMaterialTexture(c.id),l=t.registry.getMaterialData(c.id);c.mergeable=!u&&1===l.alpha&&!l.renderMat}c.mergeable&&s++}s>1&&e(i,!1);var h=e(i,!0);return function(e,n,r,i,o){var s=t.rendering.getScene(),a=new k.a(n,s),c=new M.a;if(c.positions=e.positions,c.indices=e.indices,c.normals=e.normals,c.colors=e.colors,c.uvs=e.uvs,c.applyToMesh(a),e.dispose(),1===r.length)a.material=r[0];else{var u=new N.a("multimat "+n,s);a.subMeshes=[];for(var l=0,h=0,f=0;f<r.length;f++){u.subMaterials[f]=r[f];var p=new I.b(f,l,i[f],h,o[f],a);a.subMeshes[f]=p,l+=i[f],h+=o[f]}a.material=u}return a}(i[0],"chunk_"+n.id,h.matIDs.map(e=>function(e,n){if(n)return t.rendering.flatMaterial;var i="terrain mat "+e;r[i]||(r[i]=function(e){var n=t.registry.getMaterialData(e);if(n.renderMat)return n.renderMat;var r=t.registry.getMaterialTexture(e),i=n.alpha;if(!r&&1===i)return t.rendering.flatMaterial;var o=t.rendering.flatMaterial.clone("terrain"+e);if(r){var s=t.rendering.getScene(),a=new R.a(r,s,!0,!1,R.a.NEAREST_SAMPLINGMODE);n.textureAlpha&&(a.hasAlpha=!0),o.diffuseTexture=a}n.alpha<1&&(o.alpha=n.alpha);return o}(e));return r[i]}(e,o)),h.vertices,h.indices)};var r={}}function H(t){var e=new Int16Array(16),n=new Uint16Array(16),r=null,i=t.registry._solidityLookup,o=t.registry._opacityLookup;function s(t,i,o,s){for(var c=o.shape[1],u=e,l=n,h=0,f=2*i,p=o.data,d=o.index(t-1,0,0),y=o.stride[0],m=o.stride[1],g=o.stride[2],v=0;v<c;++v){var b=d;d+=g;for(var _=0;_<c;_++,h++,b+=m){var w=p[b],k=p[b+y];if(w!==k){var E=a(w,k,s,f);E&&(u[h]=E>0?s(w,f):-s(k,f+1),r&&(l[h]=E>0?r(o,t,t-1,_,v):r(o,t-1,t,_,v)))}}}}function a(t,e,n,r){var i=o[t],s=o[e];if(i&&s)return 0;if(i)return 1;if(s)return-1;var a=n(t,r),c=n(e,r+1);return a===c?0:0===a?-1:0===c?1:0}function c(t,r,i,o,s,a,c,p,d,y,m){for(var g=0,v=e,b=n,_=c?u:l,w=c?f:h,k=0;k<a;++k)for(var E=1,S=1,C=0;C<s;C+=E,g+=E){var x=0|v[g];if(x){var A=0|b[g];for(E=1;E<s-C&&_(g+E,v,x,b,A);++E);t:for(S=1;S<a-k;++S)for(var T=0;T<E;++T){if(!_(g+T+S*s,v,x,b,A))break t}var F=Math.abs(x);p[F]||(p[F]=new U(F));var O=p[F],D=w(O.colors,d(F),A,y,m),L=[0,0,0];L[r]=t,L[i]=C,L[o]=k;var I=[0,0,0],M=[0,0,0];I[i]=E,M[o]=S;var N=O.positions;N.push(L[0],L[1],L[2],L[0]+I[0],L[1]+I[1],L[2]+I[2],L[0]+I[0]+M[0],L[1]+I[1]+M[1],L[2]+I[2]+M[2],L[0]+M[0],L[1]+M[1],L[2]+M[2]);var R=x>0?1:-1;2===r?O.uvs.push(0,S,-R*E,S,-R*E,0,0,0):O.uvs.push(0,E,0,0,R*S,0,R*S,E);var P=N.length/3-4;x<0?D?O.indices.push(P,P+1,P+2,P,P+2,P+3):O.indices.push(P+1,P+2,P+3,P,P+1,P+3):D?O.indices.push(P,P+2,P+1,P,P+3,P+2):O.indices.push(P+3,P+1,P,P+3,P+2,P+1);var B=0===r?R:0,j=1===r?R:0,z=2===r?R:0;O.normals.push(B,j,z,B,j,z,B,j,z,B,j,z);for(var q=0;q<S;++q)for(var H=0;H<E;++H)v[g+H+q*s]=0}else E=1}}function u(t,e,n,r,i){return n===e[t]&&i===r[t]}function l(t,e,n,r,i){return n===e[t]}function h(t,e,n,r,i){return t.push(e[0],e[1],e[2],1),t.push(e[0],e[1],e[2],1),t.push(e[0],e[1],e[2],1),t.push(e[0],e[1],e[2],1),!0}function f(t,e,n,r,i){var o=y(n,0,0),s=y(n,1,0),a=y(n,1,1),c=y(n,0,1);m(t,e,o,r,i),m(t,e,s,r,i),m(t,e,a,r,i),m(t,e,c,r,i);return o===a?c!==s||2===c:c!==s&&o+a>c+s}function p(t,e,n,r,o){var s=1,a=1,c=1,u=1;return i[t.get(e,r+1,o)]&&(++c,++u),i[t.get(e,r-1,o)]&&(++s,++a),i[t.get(e,r,o+1)]&&(++a,++u),i[t.get(e,r,o-1)]&&(++s,++c),i[t.get(e,r,o)]?(u=3===u||i[t.get(e,r+1,o+1)]?3:2,a=3===a||i[t.get(e,r-1,o+1)]?3:2,c=3===c||i[t.get(e,r+1,o-1)]?3:2,s=3===s||i[t.get(e,r-1,o-1)]?3:2):(1===u&&i[t.get(e,r+1,o+1)]&&(u=2),1===a&&i[t.get(e,r-1,o+1)]&&(a=2),1===c&&i[t.get(e,r+1,o-1)]&&(c=2),1===s&&i[t.get(e,r-1,o-1)]&&(s=2)),u<<6|c<<4|a<<2|s}function d(t,e,n,r,o){var s=1,a=1,c=1,u=1;return i[t.get(e,r+1,o)]&&(++c,++u),i[t.get(e,r-1,o)]&&(++s,++a),i[t.get(e,r,o+1)]&&(++a,++u),i[t.get(e,r,o-1)]&&(++s,++c),i[t.get(e,r,o)]?(u=3===u||i[t.get(e,r+1,o+1)]?3:2,a=3===a||i[t.get(e,r-1,o+1)]?3:2,c=3===c||i[t.get(e,r+1,o-1)]?3:2,s=3===s||i[t.get(e,r-1,o-1)]?3:2):(1===u&&(i[t.get(e,r+1,o+1)]?u=2:i[t.get(n,r,o+1)]&&i[t.get(n,r+1,o)]&&i[t.get(n,r+1,o+1)]||(u=0)),1===c&&(i[t.get(e,r+1,o-1)]?c=2:i[t.get(n,r,o-1)]&&i[t.get(n,r+1,o)]&&i[t.get(n,r+1,o-1)]||(c=0)),1===a&&(i[t.get(e,r-1,o+1)]?a=2:i[t.get(n,r,o+1)]&&i[t.get(n,r-1,o)]&&i[t.get(n,r-1,o+1)]||(a=0)),1===s&&(i[t.get(e,r-1,o-1)]?s=2:i[t.get(n,r,o-1)]&&i[t.get(n,r-1,o)]&&i[t.get(n,r-1,o-1)]||(s=0))),u<<6|c<<4|a<<2|s}function y(t,e,n){return t>>(e?n?6:4:n?2:0)&3}function m(t,e,n,r,i){var o=0===n?i:r[n-1];t.push(e[0]*o,e[1]*o,e[2]*o,1)}this.mesh=function(a,u,l,h,f,y,m){i=t.registry._solidityLookup,o=t.registry._opacityLookup;var g={},v=y===f[0];r=h?v?p:d:null;for(var b=0;b<3;++b){var _=(b+1)%3,w=(b+2)%3,k=a.shape,E=a.transpose(b,_,w).lo(1,1,1).hi(k[b]-2,k[_]-2,k[w]-2),S=E.shape[0]-1,C=E.shape[1],x=E.shape[2];e.length<C*x&&(e=new Int16Array(C*x),n=new Uint16Array(C*x));for(var A=0;A<=S;++A)s(A,b,E,u),V("masks"),c(A,b,_,w,C,x,h,g,l,f,y),m&&(A+=S-1),V("submeshes")}return Object.keys(g).map(t=>g[t])}}U.prototype.dispose=function(){this.positions=null,this.indices=null,this.normals=null,this.colors=null,this.uvs=null};var V=p(500,"Terrain meshing"),W=n(191),Y=new function(){function t(t,e,n,r,i,o){var s=t._objectBlocks,a=new W.a("object_sps_"+t.id,e,{updatable:!1}),c=t.noa.registry._blockHandlerLookup,u=t.noa.registry._blockMeshLookup;for(var l in n){var h,f=u[l],p=n[l],d=p.length,y=c[l];y&&(h=y.onCustomMeshCreate);a.addShape(f,d,{positionFunction:function(t,e,n){var a=p[n],c=s[a];t.position.set(c.x+.5,c.y,c.z+.5),h&&h(t,r+c.x,i+c.y,o+c.z)}}),p.length=0}return a}this.initChunk=function(t){t._objectBlocks={},t._objectSystems=[]},this.disposeChunk=function(t){this.removeObjectMeshes(t),t._objectBlocks=null},this.addObjectBlock=function(t,e,n,r,i){var o=n+"|"+r+"|"+i;t._objectBlocks[o]=new Z(e,n,r,i,null)},this.removeObjectBlock=function(t,e,n,r){var i=e+"|"+n+"|"+r;t._objectBlocks[i]&&delete t._objectBlocks[i]},this.removeObjectMeshes=function(t){for(var e=t._objectSystems||[];e.length;){var n=e.pop();n.mesh&&n.mesh.dispose(),n.dispose()}},this.buildObjectMeshes=function(e){Q("start");var n=e.noa.rendering.getScene(),r=e.noa.registry._blockMeshLookup,i={};for(var o in e._objectBlocks){var s=e._objectBlocks[o].id,a=r[s].material,c=a?n.materials.indexOf(a):-1;i[c]||(i[c]={}),i[c][s]||(i[c][s]=[]),i[c][s].push(o)}Q("preprocess");var u=e.i*e.size,l=e.j*e.size,h=e.k*e.size,f=[];for(var p in i){var d=t(e,n,i[p],u,l,h);Q("made SPS");var y=d.buildMesh();Q("built mesh"),y.material=p>-1?n.materials[p]:null,f.push(y),e._objectSystems.push(d)}return Q("end"),f}};function Z(t,e,n,r){this.id=0|t,this.x=0|e,this.y=0|n,this.z=0|r}var X,G,$,J,K,Q=()=>{},tt=n(126),et=nt;function nt(t,e,n,r,i,o,s){this.id=e,this.requestID="",this.noa=t,this.isDisposed=!1,this.octreeBlock=null,this.voxels=s,this.i=n,this.j=r,this.k=i,this.size=o,this.x=n*o,this.y=r*o,this.z=i*o,this._terrainDirty=!1,this._objectsDirty=!1,X=t.registry._solidityLookup,G=t.registry._opacityLookup,$=t.registry._objectLookup,J=t.registry._blockHandlerLookup,this._terrainMesh=null,this._objectBlocks=null,this._objectSystems=null,Y.initChunk(this),this.isFull=!1,this.isEmpty=!1;var a=Array.from(Array(27)).map(()=>null);this._neighbors=new tt(a,[3,3,3]).lo(1,1,1),this._neighbors.set(0,0,0,this),this._neighborCount=0,this._maxMeshedNeighbors=0,this._timesMeshed=0,ot(this)}function rt(t,e,n,r,i,o){var s=J[e];if(s){var a=s[n];a&&a(t.x+r,t.y+i,t.z+o)}}function it(t){return 0!==t&&(!!X[t]||!$[t])}function ot(t){for(var e=!0,n=!0,r=!1,i=t.voxels,o=i.shape[0],s=0;s<o;++s)for(var a=0;a<o;++a)for(var c=i.index(s,a,0),u=0;u<o;++u,++c){var l=i.data[c];0!==l?(e=e&&G[l],n=!1,$[l]&&(st(t,l,s,a,u),r=!0),rt(t,l,"onLoad",s,a,u)):e=!1}t.isFull=e,t.isEmpty=n,t._terrainDirty=!t.isEmpty,t._objectsDirty=r}function st(t,e,n,r,i){Y.addObjectBlock(t,e,n,r,i),t._objectsDirty=!0}function at(t,e){for(var n=t.voxels,r=n.shape[0],i=0;i<r;++i)for(var o=0;o<r;++o)for(var s=0;s<r;++s){var a=n.get(i,o,s);a>0&&rt(t,a,e,i,o,s)}}nt._createVoxelArray=function(t){var e=new Uint16Array(t*t*t);return new tt(e,[t,t,t])},nt.prototype._updateVoxelArray=function(t){at(this,"onUnload"),Y.disposeChunk(this),this.voxels=t,this._terrainDirty=!1,this._objectsDirty=!1,Y.initChunk(this),ot(this)},nt.prototype.get=function(t,e,n){return this.voxels.get(t,e,n)},nt.prototype.getSolidityAt=function(t,e,n){return X[this.voxels.get(t,e,n)]},nt.prototype.set=function(t,e,n,r){var i=this.voxels.get(t,e,n),o=i;if(r!==o){this.voxels.set(t,e,n,r),$[i]&&function(t,e,n,r){Y.removeObjectBlock(t,e,n,r),t._objectsDirty=!0}(this,t,e,n),$[r]&&st(this,r,t,e,n),rt(this,o,"onUnset",t,e,n),rt(this,r,"onSet",t,e,n),G[r]||(this.isFull=!1),0!==r&&(this.isEmpty=!1),(it(r)||it(i))&&(this._terrainDirty=!0),(this._terrainDirty||this._objectsDirty)&&this.noa.world._queueChunkForRemesh(this);var s=!1;if(X[i]!==X[r]&&(s=!0),G[i]!==G[r]&&(s=!0),s){var a=this.size-1,c=0===t?-1:t<a?0:1,u=0===e?-1:e<a?0:1,l=0===n?-1:n<a?0:1;if(c|u|l){var h=u?[0,u]:[0],f=l?[0,l]:[0];(c?[0,c]:[0]).forEach(t=>{h.forEach(e=>{f.forEach(n=>{if(0!=(t|e|n)){var r=this._neighbors.get(t,e,n);r&&(r._terrainDirty=!0,this.noa.world._queueChunkForRemesh(r))}})})})}}}},nt.prototype.mesh=function(t,e,n,r,i){return K||(K=new P(this.noa)),K.meshChunk(this,t,e,n,r,i)},nt.prototype.updateMeshes=function(){var t=this.noa.rendering;if(this._terrainDirty){this._terrainMesh&&this._terrainMesh.dispose();var e=this.mesh();if(e&&e.getIndices().length>0){var n=[this.x,this.y,this.z];t.addMeshToScene(e,!0,n,this)}this._terrainMesh=e||null,this._terrainDirty=!1,this._timesMeshed++,this._maxMeshedNeighbors=Math.max(this._maxMeshedNeighbors,this._neighborCount)}if(this._objectsDirty){Y.removeObjectMeshes(this);var r=Y.buildObjectMeshes(this),i=[this.x,this.y,this.z];r.forEach(e=>t.addMeshToScene(e,!0,i,this)),this._objectsDirty=!1}},nt.prototype.dispose=function(){at(this,"onUnload"),Y.disposeChunk(this),this._terrainMesh&&this._terrainMesh.dispose(),this.voxels.data=null,this.voxels=null,this._neighbors.data=null,this._neighbors=null,this.isDisposed=!0};var ct=n(136).EventEmitter,ut={chunkSize:24,chunkAddDistance:3,chunkRemoveDistance:4,worldGenWhilePaused:!1,manuallyControlChunkLoading:!1};function lt(t,e){var n;this.noa=t,e=Object.assign({},ut,e),this.playerChunkLoaded=!1,this.Chunk=et,this.chunkSize=e.chunkSize,this.chunkAddDistance=e.chunkAddDistance,this.chunkRemoveDistance=e.chunkRemoveDistance,this.chunkRemoveDistance<this.chunkAddDistance&&(this.chunkRemoveDistance=this.chunkAddDistance),this.manuallyControlChunkLoading=!!e.manuallyControlChunkLoading,this.minNeighborsToMesh=6,this.maxChunksPendingCreation=10,this.maxChunksPendingMeshing=10,this.maxProcessingPerTick=9,this.maxProcessingPerRender=5,this.worldGenWhilePaused=e.worldGenWhilePaused,this._cachedWorldName="",this._lastPlayerChunkID="",this._chunkStorage={},(n=this)._chunkIDsKnown=new f,n._chunkIDsToRequest=new f,n._chunkIDsPending=new f,n._chunkIDsToMesh=new f,n._chunkIDsToMeshFirst=new f,n._chunkIDsToRemove=new f,n._queueChunkForRemesh=t=>{gt(n,t)},function(t){t._getChunk=(e,n,r)=>{var i=ft(e,n,r);return t._chunkStorage[i]||null},t._setChunk=(e,n,r,i)=>{var o=ft(e,n,r);i?t._chunkStorage[o]=i:delete t._chunkStorage[o]},t._getChunkByCoords=function(e,n,r){var i=t._worldCoordToChunkCoord(e),o=t._worldCoordToChunkCoord(n),s=t._worldCoordToChunkCoord(r);return t._getChunk(i,o,s)}}(this);var r=this.chunkSize;if(0==(r&r-1)){var i=0|Math.log2(r),o=r-1|0;this._worldCoordToChunkCoord=t=>t>>i|0,this._worldCoordToChunkIndex=t=>t&o|0}else this._worldCoordToChunkCoord=t=>0|Math.floor(t/r),this._worldCoordToChunkIndex=t=>(t%r+r)%r|0}lt.prototype=Object.create(ct.prototype),lt.prototype.getBlockID=function(t,e,n){var r=this._getChunkByCoords(t,e,n);return r?r.get(this._worldCoordToChunkIndex(t),this._worldCoordToChunkIndex(e),this._worldCoordToChunkIndex(n)):0},lt.prototype.getBlockSolidity=function(t,e,n){var r=this._getChunkByCoords(t,e,n);return!!r&&!!r.getSolidityAt(this._worldCoordToChunkIndex(t),this._worldCoordToChunkIndex(e),this._worldCoordToChunkIndex(n))},lt.prototype.getBlockOpacity=function(t,e,n){var r=this.getBlockID(t,e,n);return this.noa.registry.getBlockOpacity(r)},lt.prototype.getBlockFluidity=function(t,e,n){var r=this.getBlockID(t,e,n);return this.noa.registry.getBlockFluidity(r)},lt.prototype.getBlockProperties=function(t,e,n){var r=this.getBlockID(t,e,n);return this.noa.registry.getBlockProps(r)},lt.prototype.getBlockObjectMesh=function(t,e,n){var r=this._getChunkByCoords(t,e,n);return r?r.getObjectMeshAt(this._worldCoordToChunkIndex(t),this._worldCoordToChunkIndex(e),this._worldCoordToChunkIndex(n)):0},lt.prototype.setBlockID=function(t,e,n,r){var i=this._worldCoordToChunkCoord(e),o=this._worldCoordToChunkCoord(n),s=this._worldCoordToChunkCoord(r),a=this._worldCoordToChunkIndex(e),c=this._worldCoordToChunkIndex(n),u=this._worldCoordToChunkIndex(r),l=this._getChunk(i,o,s);l&&l.set(a,c,u,t)},lt.prototype.isBoxUnobstructed=function(t){for(var e=t.base,n=t.max,r=Math.floor(e[0]);r<n[0]+1;r++)for(var i=Math.floor(e[1]);i<n[1]+1;i++)for(var o=Math.floor(e[2]);o<n[2]+1;o++)if(this.getBlockSolidity(r,i,o))return!1;return!0},lt.prototype.setChunkData=function(t,e,n){!function(t,e,n,r){var i=e.split("|"),o=parseInt(i.shift()),s=parseInt(i.shift()),a=parseInt(i.shift()),c=i.join("|"),u=ft(o,s,a);if(t._chunkIDsPending.remove(u),c!==t.noa.worldName)return;if(!t._chunkIDsKnown.includes(u))return;if(t._chunkIDsToRemove.includes(u))return;var l=t._chunkStorage[u];if(l){l._updateVoxelArray(n),l._neighbors.data.forEach(e=>{e&&e!==l&&e._neighborCount>20&&gt(t,e)})}else{var h=t.chunkSize;l=new et(t.noa,u,o,s,a,h,n),t._setChunk(o,s,a,l),l.requestID=e,l.userData=r,bt(t,o,s,a,l),t.noa.rendering.prepareChunkForRendering(l),t.emit("chunkAdded",l)}gt(t,l),kt("receive")}(this,t,e,n)},lt.prototype.invalidateVoxelsInAABB=function(t){!function(t,e){var n=e.base.map(e=>Math.floor(t._worldCoordToChunkCoord(e))),r=e.max.map(e=>Math.floor(t._worldCoordToChunkCoord(e)));t._chunkIDsKnown.forEach(e=>{for(var i=pt(e),o=0;o<3;o++)if(i[o]<n[o]||i[o]>r[o])return;t._chunkIDsToRemove.includes(e)||t._chunkIDsToRequest.add(e)})}(this,t)},lt.prototype.manuallyLoadChunk=function(t,e,n){if(!this.manuallyControlChunkLoading)throw ht;var r=ft(this._worldCoordToChunkCoord(t),this._worldCoordToChunkCoord(e),this._worldCoordToChunkCoord(n));this._chunkIDsKnown.add(r),this._chunkIDsToRequest.add(r)},lt.prototype.manuallyUnloadChunk=function(t,e,n){if(!this.manuallyControlChunkLoading)throw ht;var r=ft(this._worldCoordToChunkCoord(t),this._worldCoordToChunkCoord(e),this._worldCoordToChunkCoord(n));this._chunkIDsToRemove.add(r),this._chunkIDsToRequest.remove(r),this._chunkIDsToMesh.remove(r),this._chunkIDsToMeshFirst.remove(r)};var ht="Set `noa.world.manuallyControlChunkLoading` if you need this API";function ft(t,e,n){return t+"|"+e+"|"+n}function pt(t){return t.split("|").map(t=>parseInt(t))}function dt(t){var e=t.noa.entities.getPosition(t.noa.playerEntity);return[t._worldCoordToChunkCoord(e[0]),t._worldCoordToChunkCoord(e[1]),t._worldCoordToChunkCoord(e[2])]}lt.prototype.tick=function(){var t=performance.now();this._cachedWorldName!==this.noa.worldName&&(!function(t){t._chunkIDsToRemove.copyFrom(t._chunkIDsKnown),t._chunkIDsToRequest.empty(),t._chunkIDsToMesh.empty(),t._chunkIDsToMeshFirst.empty();var e=dt(t);vt(t._chunkIDsToRemove,e[0],e[1],e[2])}(this),this._cachedWorldName=this.noa.worldName);var e,n,r,i,o,s,a=dt(this),h=ft(a[0],a[1],a[2]),f=h!=this._lastPlayerChunkID;if(f&&(this.emit("playerEnteredChunk",a[0],a[1],a[2]),this._lastPlayerChunkID=h),wt("start"),kt("start"),!this.manuallyControlChunkLoading){f&&(e=this,n=a[0],r=a[1],i=a[2],o=e.chunkRemoveDistance*e.chunkRemoveDistance,s=e._chunkIDsToRemove,e._chunkIDsKnown.forEach(t=>{if(!s.includes(t)){var a=pt(t),c=a[0]-n,u=a[1]-r,l=a[2]-i;c*c+u*u+l*l<o||(e._chunkIDsToRemove.add(t),e._chunkIDsToRequest.remove(t),e._chunkIDsToMesh.remove(t),e._chunkIDsToMeshFirst.remove(t))}}),vt(s,n,r,i),wt("remQueue"));var p=function(t){if(t===u)return l;for(var e=Math.ceil(t),n=0,r=t*t,i=-e;i<=e;++i)for(var o=-e;o<=e;++o)for(var s=-e;s<=e;++s){i*i+o*o+s*s<r&&n++}return u=t,l=n,n}(this.chunkAddDistance);(f||this._chunkIDsKnown.count()<p)&&(!function(t,e,n,r){for(var i=Math.ceil(t.chunkAddDistance),o=t.chunkAddDistance*t.chunkAddDistance,s=t._chunkIDsKnown,a=t._chunkIDsToRequest,c=e-i;c<=e+i;++c)for(var u=n-i;u<=n+i;++u)for(var l=r-i;l<=r+i;++l){var h=ft(c,u,l);if(!s.includes(h)){var f=c-e,p=u-n,d=l-r;f*f+p*p+d*d>o||(s.add(h),a.add(h))}}vt(a,e,n,r)}(this,a[0],a[1],a[2]),wt("addQueue"))}c(this.maxProcessingPerTick,()=>{var t=function(t){var e=t._chunkIDsToRequest;if(e.isEmpty())return!0;var n=t._chunkIDsPending.count(),r=t._chunkIDsToMesh.count();if(n>=t.maxChunksPendingCreation)return!0;if(r>=t.maxChunksPendingMeshing)return!0;var i=e.pop();return function(t,e){var n=pt(e),r=n[0],i=n[1],o=n[2],s=t.chunkSize,a=et._createVoxelArray(t.chunkSize),c=t.noa.worldName,u=[r,i,o,c].join("|"),l=r*s,h=i*s,f=o*s;t._chunkIDsPending.add(e),t.emit("worldDataNeeded",u,a,l,h,f,c),kt("request")}(t,i),e.isEmpty()}(this);return wt("requests"),t=t&&function(t){var e=t._chunkIDsToRemove;return!!e.isEmpty()||(function(t,e){var n=pt(e),r=t._getChunk(n[0],n[1],n[2]);r&&(t.emit("chunkBeingRemoved",r.requestID,r.voxels,r.userData),t.noa.rendering.disposeChunkForRendering(r),r.dispose(),kt("dispose"),bt(t,n[0],n[1],n[2],null));t._setChunk(n[0],n[1],n[2],null),t._chunkIDsKnown.remove(e),t._chunkIDsToMesh.remove(e),t._chunkIDsToMeshFirst.remove(e)}(t,e.pop()),e.isEmpty())}(this),wt("removes"),t=t&&mt(this,!1),wt("meshes"),t},t),performance.now()-t+2<this.maxProcessingPerTick&&(!function(t){for(var e=t._chunkIDsKnown.arr,n=Math.min(50,e.length),r=t._chunkIDsToMesh.count()+t._chunkIDsToMeshFirst.count(),i=0;i<n;i++){yt=(yt+1)%e.length;var o=e[yt],s=t._chunkStorage[o];if(s){var a=s._neighborCount;if(!(a<t.minNeighborsToMesh)&&!(a<=s._maxMeshedNeighbors)&&(gt(t,s),++r>10))return}}}(this),wt("looking"),c(this.maxProcessingPerTick,()=>{var t=mt(this,!1);return wt("meshes"),t},t));var d=this._getChunk(a[0],a[1],a[2]);this.playerChunkLoaded=!!d,kt("end",this),wt("end")},lt.prototype.render=function(){c(this.maxProcessingPerRender,()=>mt(this,!0))};var yt=-1;function mt(t,e){var n=t._chunkIDsToMeshFirst;if(n.isEmpty()&&!e&&(n=t._chunkIDsToMesh),n.isEmpty())return!0;var r=n.pop();if(!t._chunkIDsToRemove.includes(r)){var i=t._chunkStorage[r];i&&function(t,e){t._chunkIDsToMesh.remove(e.id),t._chunkIDsToMeshFirst.remove(e.id),e.updateMeshes(),kt("mesh")}(t,i)}}function gt(t,e){var n=e._neighborCount;n<Math.min(t.minNeighborsToMesh,26)||(e._terrainDirty=!0,(26===n?t._chunkIDsToMeshFirst:t._chunkIDsToMesh).add(e.id))}function vt(t,e,n,r){t.sort(t=>{var i=pt(t),o=i[0]-e,s=i[1]-n,a=i[2]-r;return o*o+a*a+Math.abs(s)})}function bt(t,e,n,r,i){for(var o=-1;o<=1;o++)for(var s=-1;s<=1;s++)for(var a=-1;a<=1;a++)if(0!=(o|s|a)){var c=ft(e+o,n+s,r+a),u=t._chunkStorage[c];u&&(i?(i._neighborCount++,i._neighbors.set(o,s,a,u),u._neighborCount++,u._neighbors.set(-o,-s,-a,i),26===u._neighborCount&&gt(t,u)):(u._neighborCount--,u._neighbors.set(-o,-s,-a,null)))}}function _t(t,e,n,r){var i=0,o=0,s=0,a=0,c=[];n.forEach(e=>{var n=t._chunkStorage[e];n&&(s++,c.push(n._timesMeshed),n.isFull&&i++,n.isEmpty&&o++,26===n._neighborCount&&a++)});var u=n.length.toString().padEnd(8);if(u+=("exist: "+s).padEnd(12),u+=("full: "+i).padEnd(12),u+=("empty: "+o).padEnd(12),u+=("surr: "+a).padEnd(12),r){var l=c.reduce((t,e)=>t+e,0),h=c.reduce((t,e)=>Math.max(t,e),0),f=c.reduce((t,e)=>Math.min(t,e),0);u+="times meshed: avg "+(l/s).toFixed(2),u+="  max "+h,u+="  min "+f}console.log(e,u)}lt.prototype.report=function(){console.log("World report - playerChunkLoaded: ",this.playerChunkLoaded),_t(this,"  known:     ",this._chunkIDsKnown.arr,!0),_t(this,"  to request:",this._chunkIDsToRequest.arr),_t(this,"  to remove: ",this._chunkIDsToRemove.arr),_t(this,"  creating:  ",this._chunkIDsPending.arr),_t(this,"  to mesh:   ",this._chunkIDsToMesh.arr.concat(this._chunkIDsToMeshFirst.arr))};var wt=()=>{},kt=()=>{};var Et=n(349),St=function(t,e,n){return function(t,e,n){e=Object.assign({},Ct,e);var r=Et(n,e),i=e.bindings;for(var o in i){var s=Array.isArray(i[o])?i[o]:[i[o]];s.unshift(o),r.bind.apply(r,s)}return r}(0,e,n)},Ct={bindings:{forward:["W","<up>"],left:["A","<left>"],backward:["S","<down>"],right:["D","<right>"],fire:"<mouse 1>","mid-fire":["<mouse 2>","Q"],"alt-fire":["<mouse 3>","E"],jump:"<space>",sprint:"<shift>",crouch:"<control>"}};var xt=n(352),At=function(t,e){return function(t,e){e=Object.assign({},Tt,e);var n=t.world,r=t.registry._solidityLookup,i=t.registry._fluidityLookup,o=t.worldOriginOffset;return xt(e,(t,e,i)=>{var s=n.getBlockID(t+o[0],e+o[1],i+o[2]);return r[s]},(t,e,r)=>{var s=n.getBlockID(t+o[0],e+o[1],r+o[2]);return i[s]})}(t,e)},Tt={gravity:[0,-10,0],airDrag:.1};var Ft=n(79),Ot=n(208),Dt=n(252),Lt={inverseX:!1,inverseY:!1,sensitivityX:10,sensitivityY:10,initialZoom:0,zoomSpeed:.2};function It(t,e){this.noa=t,e=Object.assign({},Lt,e),this.sensitivityX=e.sensitivityX,this.sensitivityY=e.sensitivityY,this.inverseX=e.inverseX,this.inverseY=e.inverseY,this.heading=0,this.pitch=0,this.cameraTarget=this.noa.ents.createEntity(["position"]);var n=.9*t.ents.getPositionData(t.playerEntity).height;t.ents.addComponent(this.cameraTarget,"followsEntity",{entity:t.playerEntity,offset:[0,n,0]}),this.zoomDistance=e.initialZoom,this.zoomSpeed=e.zoomSpeed,this.currentZoom=e.initialZoom,this._dirVector=Ft.fromValues(0,1,0)}It.prototype._localGetTargetPosition=function(){var t=this.noa.ents.getPositionData(this.cameraTarget);return Ft.copy(Mt,t._renderPosition)},It.prototype._localGetPosition=function(){var t=this._localGetTargetPosition();return 0===this.currentZoom?t:Ft.scaleAndAdd(t,t,this._dirVector,-this.currentZoom)};var Mt=Ft.create();It.prototype.getTargetPosition=function(){var t=this._localGetTargetPosition();return this.noa.localToGlobal(t,Nt)};var Nt=[];It.prototype.getPosition=function(){var t=this._localGetPosition();return this.noa.localToGlobal(t,Nt)},It.prototype.getDirection=function(){return this._dirVector},It.prototype.applyInputsToCamera=function(){var t=this.noa.inputs.state;!function(t){var e=t.dx,n=t.dy,r=document.body.clientWidth/6,i=document.body.clientHeight/6,o=Math.abs(e)>r&&e/qt<-1,s=Math.abs(n)>i&&n/Ht<-1;o||s?(t.dx=qt,t.dy=Ht,qt=e>0?1:-1,Ht=n>0?1:-1):(e&&(qt=e),n&&(Ht=n))}(t);var e=.0066*Math.PI/180,n=t.dy*this.sensitivityY*e,r=t.dx*this.sensitivityX*e;this.inverseY&&(n=-n),this.inverseX&&(r=-r);var i=2*Math.PI;this.heading+=r<0?r+i:r,this.heading>i&&(this.heading-=i);var o=Math.PI/2-.001;this.pitch=Math.max(-o,Math.min(o,this.pitch+n)),Ft.set(this._dirVector,0,0,1),Ft.rotateX(this._dirVector,this._dirVector,Rt,this.pitch),Ft.rotateY(this._dirVector,this._dirVector,Rt,this.heading)};var Rt=Ft.create();It.prototype.updateBeforeEntityRenderSystems=function(){this.currentZoom+=(this.zoomDistance-this.currentZoom)*this.zoomSpeed},It.prototype.updateAfterEntityRenderSystems=function(){var t=function(t){if(!Pt){var e=t.noa.worldOriginOffset;Pt=new Ot([0,0,0],Ft.clone(jt)),Bt=(n,r,i)=>t.noa.world.getBlockSolidity(n+e[0],r+e[1],i+e[2]),Ft.scale(jt,jt,-.5)}Pt.setPosition(t._localGetTargetPosition()),Pt.translate(jt);var n=Math.max(t.zoomDistance,t.currentZoom)+.1;return Ft.scale(zt,t.getDirection(),-n),Dt(Bt,Pt,zt,Ut,!0)}(this);this.currentZoom>t&&(this.currentZoom=t)};var Pt,Bt,jt=Ft.fromValues(.2,.2,.2),zt=Ft.create(),Ut=()=>!0;var qt=0,Ht=0,Vt={texturePath:""},Wt={solid:!0,opaque:!0,fluidDensity:1,viscosity:.5};function Yt(t,e){this.noa=t,e=Object.assign({},Vt,e);var n=[!1],r=[!1],i=[!1],o=[!1],s=[0,0,0,0,0,0],a=[null],c=[null],u=[null],l={},h=[null],f=e.texturePath;this.registerBlock=function(t,e){e=e||{},Wt.solid=!e.fluid,Wt.opaque=!e.fluid;var h=Object.assign({},Wt,e);if(t<1||t>65535)throw"Block id out of range: "+t;for(;t>n.length;)this.registerBlock(n.length,{});n[t]=!!h.solid,r[t]=!!h.opaque,i[t]=!!h.fluid,o[t]=!!h.blockMesh,c[t]=h.blockMesh||null;var f,p=h.material||null;if(p)if("string"==typeof p)f=[p,p,p,p,p,p];else if(p.length&&2==p.length)f=[p[1],p[1],p[0],p[0],p[1],p[1]];else if(p.length&&3==p.length)f=[p[2],p[2],p[0],p[1],p[2],p[2]];else{if(!p.length||6!=p.length)throw"Invalid material parameter: "+p;f=p}else f=[null,null,null,null,null,null];for(var d=0;d<6;++d)s[6*t+d]=Zt(this,l,f[d],!0);a[t]={},i[t]&&(a[t].fluidDensity=h.fluidDensity,a[t].viscosity=h.viscosity);var y=h.onLoad||h.onUnload||h.onSet||h.onUnset||h.onCustomMeshCreate;return u[t]=y?new Xt(h):null,t},this.registerMaterial=function(t,e,n,r,i){var o=l[t]||h.length;l[t]=o;var s=1;return e&&4==e.length&&(s=e.pop()),h[o]={color:e||[1,1,1],alpha:s,texture:n?f+n:"",textureAlpha:!!r,renderMat:i||null},o},this.getBlockSolidity=function(t){return n[t]},this.getBlockOpacity=function(t){return r[t]},this.getBlockFluidity=function(t){return i[t]},this.getBlockProps=function(t){return a[t]},this.getBlockFaceMaterial=function(t,e){return s[6*t+e]},this.getMaterialColor=function(t){return h[t].color},this.getMaterialTexture=function(t){return h[t].texture},this.getMaterialData=function(t){return h[t]},this._solidityLookup=n,this._opacityLookup=r,this._fluidityLookup=i,this._objectLookup=o,this._blockMeshLookup=c,this._blockHandlerLookup=u,this._getMaterialVertexColor=function(t){return h[t].texture?p:h[t].color};var p=[1,1,1];this.registerMaterial("dirt",[.4,.3,0],null),this.registerBlock(1,{material:"dirt"})}function Zt(t,e,n,r){if(!n)return 0;var i=e[n];return void 0===i&&r&&(i=t.registerMaterial(n)),i}function Xt(t){this.onLoad=t.onLoad||null,this.onUnload=t.onUnload||null,this.onSet=t.onSet||null,this.onUnset=t.onUnset||null,this.onCustomMeshCreate=t.onCustomMeshCreate||null}var Gt=n(217),$t=n(218),Jt=n(79),Kt=n(354),Qt={shadowDistance:10};function te(t,e){Kt.call(this),this.noa=t,e=Object.assign({},Qt,e),this.names={};var r={shadow:e.shadowDistance},i=n(356);i.keys().forEach(e=>{var n=/\.\/(.*)\.js/.exec(e)[1],o=r[n]||void 0,s=i(e);s.default&&(s=s.default);var a=s(t,o),c=this.createComponent(a);this.names[n]=c}),this.isPlayer=function(e){return e===t.playerEntity},this.hasPhysics=this.getComponentAccessor(this.names.physics),this.cameraSmoothed=this.getComponentAccessor(this.names.smoothCamera),this.hasMesh=this.getComponentAccessor(this.names.mesh),this.hasPosition=this.getComponentAccessor(this.names.position);var o=this.getStateAccessor(this.names.position);function s(e,n){Jt.copy(n._renderPosition,n._localPosition),Jt.add(n.position,n._localPosition,t.worldOriginOffset),Object(Gt.updatePositionExtents)(n);var r=a(e);r&&Object($t.setPhysicsFromPosition)(r,n)}this.getPositionData=o,this._localGetPosition=function(t){return o(t)._localPosition},this.getPosition=function(t){return o(t).position},this._localSetPosition=function(t,e){var n=o(t);Jt.copy(n._localPosition,e),s(t,n)},this.setPosition=(e,n,r,i)=>{"number"==typeof n&&(n=[n,r,i]);var o=t.globalToLocal(n,null,[]);this._localSetPosition(e,o)},this.setEntitySize=function(t,e,n,r){var i=o(t);i.width=(e+r)/2,i.height=n,s(t,i)},this._rebaseOrigin=function(t){this.getStatesList(this.names.position).forEach(e=>{Jt.subtract(e._localPosition,e._localPosition,t),s(e.__id,e)})};var a=this.getStateAccessor(this.names.physics);this.getPhysics=a,this.getPhysicsBody=function(t){return a(t).body},this.getMeshData=this.getStateAccessor(this.names.mesh),this.getMovement=this.getStateAccessor(this.names.movement),this.getCollideTerrain=this.getStateAccessor(this.names.collideTerrain),this.getCollideEntities=this.getStateAccessor(this.names.collideEntities),this.onPairwiseEntityCollision=function(t,e){}}function ee(t,e){return!(t[0]>e[3])&&(!(t[1]>e[4])&&(!(t[2]>e[5])&&(!(t[3]<e[0])&&(!(t[4]<e[1])&&!(t[5]<e[2])))))}te.prototype=Object.create(Kt.prototype),te.prototype.constructor=te,te.prototype.addComponentAgain=function(t,e,n){this.hasComponent(t,e)&&this.removeComponent(t,e,!0),this.addComponent(t,e,n)},te.prototype.isTerrainBlocked=function(t,e,n){for(var r=this.noa.worldOriginOffset,i=Math.floor(t-r[0]),o=Math.floor(e-r[1]),s=Math.floor(n-r[2]),a=[i+.001,o+.001,s+.001,i+.999,o+.999,s+.999],c=this.getStatesList(this.names.collideTerrain),u=0;u<c.length;u++){var l=c[u].__id;if(ee(a,this.getPositionData(l)._extents))return!0}return!1},te.prototype.getEntitiesInAABB=function(t,e){var n=this.noa.worldOriginOffset,r=[t.base[0]+n[0],t.base[1]+n[1],t.base[2]+n[2],t.max[0]+n[0],t.max[1]+n[1],t.max[2]+n[2]],i=e?this.getStatesList(e).map(t=>this.getPositionData(t.__id)):this.getStatesList(this.names.position),o=[];return i.forEach(t=>{ee(r,t._extents)&&o.push(t.__id)}),o},te.prototype.add=function(t,e,n,r,i,o,s){var a=this,c=this.createEntity();if(this.addComponent(c,this.names.position,{position:t||[0,0,0],width:e,height:n}),o){this.addComponent(c,this.names.physics);var u=this.getPhysicsBody(c),l=this.names.smoothCamera;u.onStep=function(){a.addComponentAgain(c,l)}}return r&&(i||(i=Jt.create()),this.addComponent(c,this.names.mesh,{mesh:r,offset:i})),s&&this.addComponent(c,this.names.shadow,{size:e}),c}
/*!
 * noa: an experimental voxel game engine.
 * @url      github.com/andyhall/noa
 * @author   Andy Hall <andy@fenomas.com>
 * @license  MIT
 */;var ne=n(79),re=n(126),ie=n(336),oe=n(136).EventEmitter,se=ce,ae={debug:!1,silent:!1,playerHeight:1.8,playerWidth:.6,playerStart:[0,10,0],playerAutoStep:!1,tickRate:33,blockTestDistance:10,stickyPointerLock:!0,dragCameraOutsidePointerLock:!0,skipDefaultHighlighting:!1,originRebaseDistance:25};function ce(t){if(!(this instanceof ce))return new ce(t);this.version=n(373).version,t=Object.assign({},ae,t),this._tickRate=t.tickRate,this._lastRenderTime=0,this._paused=!1,this._dragOutsideLock=t.dragCameraOutsidePointerLock;var e=this;if(!t.silent){var r=t.debug?" (debug)":"";console.log(`noa-engine v${this.version}${r}`)}this.worldOriginOffset=[0,0,0],this._originRebaseDistance=t.originRebaseDistance,this.vec3=ne,this.positionInCurrentTick=0,this.worldName="default",this.container=function(t,e){return new o(t,e)}(this,t),this.inputs=St(0,t,this.container.element),this.registry=function(t,e){return new Yt(t,e)}(this,t),this.world=function(t,e){return new lt(t,e)}(this,t),this.rendering=function(t,e,n){return new x(t,e,n)}(this,t,this.container.canvas),this.physics=At(this,t),this.entities=function(t,e){return new te(t,e)}(this,t),this.ents=this.entities;var i=this.ents;this.playerEntity=i.add(t.playerStart,t.playerWidth,t.playerHeight,null,null,!0,!0),i.addComponent(this.playerEntity,i.names.collideTerrain),i.addComponent(this.playerEntity,i.names.collideEntities);var s=i.getPhysicsBody(this.playerEntity);s.gravityMultiplier=2,s.autoStep=t.playerAutoStep,i.addComponent(this.playerEntity,i.names.receivesInputs),i.addComponent(this.playerEntity,i.names.fadeOnZoom);i.addComponent(this.playerEntity,i.names.movement,{airJumps:1}),this.camera=function(t,e){return new It(t,e)}(this,t),this.blockTestDistance=t.blockTestDistance,this.blockTargetIdCheck=this.registry.getBlockSolidity,this.targetedBlock=null,t.skipDefaultHighlighting||(this.defaultBlockHighlightFunction=function(t){t?e.rendering.highlightBlockFace(!0,t.position,t.normal):e.rendering.highlightBlockFace(!1)},this.on("targetBlockChanged",this.defaultBlockHighlightFunction)),t.debug&&(window.noa=this,window.scene=this.rendering._scene,window.ndarray=re,window.vec3=ne,i.getMovement(1).airJumps=999,this.setViewDistance=function(t){var e=this.world.chunkSize;this.world.chunkAddDistance=t/e,this.world.chunkRemoveDistance=t/e+1,this.world._lastPlayerChunkID=""}),function(t){var e="0.27",n=(t,n,r)=>{var i=()=>{throw`This property changed in ${e} - ${r}`};Object.defineProperty(t,n,{get:i,set:i})};n(t,"getPlayerEyePosition","to get the camera/player offset see API docs for `noa.camera.cameraTarget`"),n(t,"setPlayerEyePosition","to set the camera/player offset see API docs for `noa.camera.cameraTarget`"),n(t,"getPlayerPosition","use `noa.ents.getPosition(noa.playerEntity)` or similar"),n(t,"getCameraVector","use `noa.camera.getDirection`"),n(t,"getPlayerMesh","use `noa.ents.getMeshData(noa.playerEntity).mesh` or similar"),n(t,"playerBody","use `noa.ents.getPhysicsBody(noa.playerEntity)`"),n(t.rendering,"zoomDistance","use `noa.camera.zoomDistance`"),n(t.rendering,"_currentZoom","use `noa.camera.currentZoom`"),n(t.rendering,"_cameraZoomSpeed","use `noa.camera.zoomSpeed`"),n(t.rendering,"getCameraVector","use `noa.camera.getDirection`"),n(t.rendering,"getCameraPosition","use `noa.camera.getLocalPosition`"),n(t.rendering,"getCameraRotation","use `noa.camera.heading` and `noa.camera.pitch`"),n(t.rendering,"setCameraRotation","to customize camera behavior see API docs for `noa.camera`"),e="0.28",n(t.rendering,"makeMeshInstance","removed, use Babylon's `mesh.createInstance`"),n(t.world,"_maxChunksPendingCreation",'use `maxChunksPendingCreation` (no "_")'),n(t.world,"_maxChunksPendingMeshing",'use `maxChunksPendingMeshing` (no "_")'),n(t.world,"_maxProcessingPerTick",'use `maxProcessingPerTick` (no "_")'),n(t.world,"_maxProcessingPerRender",'use `maxProcessingPerRender` (no "_")'),e="0.29",n(t,"_constants","removed, voxel IDs are no longer packed with bit flags")}(this)}ce.prototype=Object.create(oe.prototype),ce.prototype.tick=function(){if(this._paused)this.world.worldGenWhilePaused&&this.world.tick(t);else{pe("start"),function(t){var e=t.ents.getPositionData(t.playerEntity)._localPosition,n=t._originRebaseDistance;if(ne.sqrLen(e)<n*n)return;for(var r=[],i=0;i<3;i++){var o=Math.floor(e[i]);r[i]=o,t.worldOriginOffset[i]+=o}t.rendering._rebaseOrigin(r),t.entities._rebaseOrigin(r)}(this);var t=this._tickRate;if(this.world.tick(t),pe("world"),this.world.playerChunkLoaded){this.physics.tick(t),pe("physics"),this.rendering.tick(t),pe("rendering"),function(t){var e="",n=t.blockTargetIdCheck||t.registry.getBlockSolidity,r=t._localPick(null,null,null,n);if(r){var i=he;ne.floor(i.adjacent,r.position),ne.copy(i.normal,r.normal),ne.sub(i.position,i.adjacent,i.normal),i.blockID=t.world.getBlockID(i.position[0],i.position[1],i.position[2]),t.targetedBlock=i,e=i.position.join("|")+i.normal.join("|")+"|"+i.blockID}else t.targetedBlock=null;e!=fe&&(t.emit("targetBlockChanged",t.targetedBlock),fe=e)}(this),pe("targets"),this.entities.tick(t),pe("entities"),this.emit("tick",t),pe("tick event"),pe("end");var e=this.inputs.state;e.scrollx=e.scrolly=e.scrollz=0}else this.rendering.tick(t)}},ce.prototype.render=function(t){this.positionInCurrentTick=t;var e=performance.now(),n=e-(this._lastRenderTime||e-16);this._lastRenderTime=e,this._paused?this.world.worldGenWhilePaused&&this.world.render():(de("start"),(this.container.hasPointerLock||!this.container.supportsPointerLock||this._dragOutsideLock&&this.inputs.state.fire)&&this.camera.applyInputsToCamera(),de("init"),this.world.render(n),de("meshing"),this.camera.updateBeforeEntityRenderSystems(),this.entities.render(n),this.camera.updateAfterEntityRenderSystems(),de("entities"),this.emit("beforeRender",n),de("before render"),this.rendering.render(n),de("render"),this.emit("afterRender",n),de("after render"),de("end"),this.inputs.state.dx=this.inputs.state.dy=0)},ce.prototype.globalToLocal=function(t,e,n){var r=this.worldOriginOffset;if(e){for(var i=0;i<3;i++){var o=t[i]-r[i];o+=e[i],n[i]=o}return n}return ne.sub(n,t,r)},ce.prototype.localToGlobal=function(t,e,n){var r=this.worldOriginOffset;if(n){for(var i=0;i<3;i++){var o=Math.floor(t[i]);e[i]=o+r[i],n[i]=t[i]-o}return e}return ne.add(e,t,r)},ce.prototype.setPaused=function(t){this._paused=!!t,t||(this.inputs.state.dx=this.inputs.state.dy=0)},ce.prototype.getBlock=function(t,e,n){return t.length?this.world.getBlockID(t[0],t[1],t[2]):this.world.getBlockID(t,e,n)},ce.prototype.setBlock=function(t,e,n,r){return e.length?this.world.setBlockID(t,e[0],e[1],e[2]):this.world.setBlockID(t,e,n,r)},ce.prototype.addBlock=function(t,e,n,r){if(e.length){if(this.entities.isTerrainBlocked(e[0],e[1],e[2]))return;return this.world.setBlockID(t,e[0],e[1],e[2]),t}if(!this.entities.isTerrainBlocked(e,n,r))return this.world.setBlockID(t,e,n,r),t},ce.prototype.pick=function(t,e,n,r){return 0===n?null:(t&&(this.globalToLocal(t,null,ue),t=ue),this._localPick(t,e,n,r))};var ue=ne.create();ce.prototype._localPick=function(t,e,n,r){if(0===n)return null;var i=r||this.registry.getBlockSolidity,o=this.world,s=this.worldOriginOffset;t||(t=this.camera._localGetTargetPosition()),e=e||this.camera.getDirection(),n=n||this.blockTestDistance;var a=le._localPosition,c=le.normal;return ie((function(t,e,n){var r=o.getBlockID(t+s[0],e+s[1],n+s[2]);return i(r)}),t,e,n,a,c)?(ne.scaleAndAdd(a,a,c,.01),this.localToGlobal(a,le.position),le):null};var le={_localPosition:ne.create(),position:[0,0,0],normal:[0,0,0]};var he={blockID:0,position:[],normal:[],adjacent:[]},fe="";var pe=()=>{},de=()=>{},ye=n(81),me=n(73),ge=(n(374),n(219));var ve,be={},_e={};var we="{}";async function ke(t){if(null==t.id)return"";var e="";if(t.count==1/0?e="Inf":1!=t.count&&(e=t.count),"block"==items[t.id].type){var n=blockIDs[t.id],r=new Array(3),i=new Array(3);try{var o=blocks[n].texture;i[0]=o[o.length-1],i[1]=o[o.length-1],i[2]=o[0]}catch{i[0]="error",i[1]="error",i[2]="error"}for(var s=0;s<3;s++)(i[s].startsWith("http://")||i[s].startsWith("https://"))&&1==game.allowCustom?r[s]=i[s]:r[s]="textures/"+i[s]+".png";return s='<div class="item_icon"><div class="cube"><div class="cube_face cube_face-right" style="background-image: url('+r[0]+'"></div><div class="cube_face cube_face-left" style="background-image: url('+r[1]+'"></div><div class="cube_face cube_face-top" style="background-image: url('+r[2]+'"></div></div></div><div class="item_count float-right">'+e+"</div>"}try{o=items[t.id].texture}catch{o="error"}if((o.startsWith("http://")||o.startsWith("https://"))&&1==game.allowCustom)r=o;else r="textures/"+o+".png";return'<div class="item_icon" style="background-image: url('+r+'"></div><div class="item_count float-right">'+e+"</div>"}var Ee=n(269),Se=n.n(Ee);const Ce=n(375)({html:!0,linkify:!0,breaks:!0,typographer:!0}).use(n(431));var xe,Ae,Te,Fe=Ce.renderer.rules.link_open||function(t,e,n,r,i){return i.renderToken(t,e,n)};function Oe(t){return t=(t=t.replace("<","&lt;")).replace(">","&gt;"),Se.a.sanitize(Ce.render(t))}Ce.renderer.rules.link_open=function(t,e,n,r,i){var o=t[e].attrIndex("target");return o<0?t[e].attrPush(["target","_blank"]):t[e].attrs[o][1]="_blank",Fe(t,e,n,r,i)};n(221);function De(t,e,n,r,i){var o;!function(t,e,n){var r=t.playerEntity,i=t.entities.getPositionData(r),o=document.createElement("div");o.id="game_version",document.body.appendChild(o);var s=document.createElement("span");s.innerHTML=game.name+" "+game.version+"<br>Noa: "+t.version,o.appendChild(s);var a=document.createElement("span");a.innerHTML="<br>Server: "+n.name+" ["+e+"]",o.appendChild(a);var c=document.createElement("span");c.innerHTML="<br>X: "+Math.round(i.position[0])+" Y: "+Math.round(i.position[1])+" Z: "+Math.round(i.position[2]),o.appendChild(c);var u=document.createElement("span");u.innerHTML="<br>Chunk: 0|0|0",o.appendChild(u);var l=0;t.on("tick",(function(){if(2==l){l=0,c.innerHTML="<br>X: "+Math.round(i.position[0])+" Y: "+Math.round(i.position[1])+" Z: "+Math.round(i.position[2]);try{u.innerHTML="<br>Chunk: "+t.world._getChunkByCoords(i.position[0],i.position[1],i.position[2]).id}catch{u.innerHTML="<br>Chunk: ???"}}else l++}))}(t,e,i),(o=document.createElement("div")).id="game_cross",document.body.appendChild(o),function(t,e){var n=t.playerEntity,r=t.ents.getState(n,"inventory");game.hotbarsize=ye.isMobile?7:9;var i=document.createElement("table");i.classList.add("hotbar"),i.id="game_hotbar",document.body.appendChild(i);for(var o=document.createElement("tr"),s={},a=0;a<game.hotbarsize;a++)s[a]=document.createElement("th"),s[a].id=a,s[a].addEventListener("click",(function(){e.emit("inventory-click",{slot:parseInt(this.id),type:"select"}),t.ents.getState(n,"inventory").selected=parseInt(this.id)})),s[a].classList.add("hotbar_item"),o.appendChild(s[a]);if(ye.isMobile){var c=document.createElement("th");c.id="hotbar_invbutton",c.addEventListener("click",(function(){var t=document.getElementById("game_inventory_screen");"none"!=document.getElementById("game_chatinput").style.display||"none"==t.style.display&&(t.style.display="initial")})),o.appendChild(c)}i.appendChild(o);var u={},l=r.selected;t.on("tick",(async function(){var t=r.selected,e=Object.values(r.main);if(t!=l||JSON.stringify(u)!=JSON.stringify(e)){u=Object.values(r.main),l=r.selected;for(var n=0;n<game.hotbarsize;n++)n!=l||s[n].classList.contains("hotbar_selected")?n!=l&&s[n].classList.contains("hotbar_selected")&&s[n].classList.remove("hotbar_selected"):s[n].classList.add("hotbar_selected"),s[n].innerHTML=await ke(u[n])}}))}(t,n),async function(t,e){var n=t.ents.getState(1,"inventory"),r=Object.entries(n.main),i=n.main;n.bin={};var o=document.createElement("div");ve=o,o.id="game_inventory_screen",o.style.display="none",document.body.appendChild(o);var s=document.createElement("table");s.id="game_inventory",o.appendChild(s);var a=9,c=document.createElement("div");if(c.id="game_inventory_backpack",s.appendChild(c),(be=document.createElement("div")).id="tempslot",be.classList.add("align-bottom"),be.classList.add("inventory_temp"),be.innerHTML=await ke(n.tempslot),o.appendChild(be),ye.isMobile){var u=document.createElement("div");u.id="game_inventory_exit",u.addEventListener("click",(function(){document.getElementById("game_inventory_screen").style.display="none"})),o.appendChild(u)}for(var l=0;l<r.length/9-1;l++){var h=document.createElement("tr");c.appendChild(h);for(var f=0;f<9;f++)_e[a]=document.createElement("th"),_e[a].id=a,_e[a].addEventListener("click",(function(){e.emit("inventory-click",{type:"left",slot:parseInt(this.id)})})),_e[a].addEventListener("contextmenu",(function(){return e.emit("inventory-click",{type:"right",slot:parseInt(this.id)}),!1})),_e[a].classList.add("inventory_item"),_e[a].innerHTML=await ke(i[a]),h.appendChild(_e[a]),a+=1}var p=document.createElement("tr");for(p.id="game_inventory_hotbar",s.appendChild(p),l=0;l<9;l++)_e[l]=document.createElement("th"),_e[l].id=l,_e[l].classList.add("inventory_item_hotbar"),_e[l].addEventListener("click",(function(){e.emit("inventory-click",{type:"left",slot:parseInt(this.id)})})),_e[l].addEventListener("contextmenu",(function(){return e.emit("inventory-click",{type:"right",slot:parseInt(this.id)}),!1})),_e[l].innerHTML=await ke(i[l]),p.appendChild(_e[l]);var d=document.createElement("div");d.id="game_tooltip",d.classList.add("item_tooltip"),o.appendChild(d),window.addEventListener("mousemove",(function(e){if("none"!=o.style.display){be.style.left=e.x+"px",be.style.top=e.y+"px";var n=document.elementFromPoint(e.x,e.y).id,r=t.ents.getState(1,"inventory").main;null!=r[n]&&null!=r[n].id?(d.style.left=e.x+20+"px",d.style.top=e.y-10+"px",d.innerHTML=items[r[n].id].name,d.style.display="initial"):d.style.display="none"}}))}(t,n),(xe=document.createElement("div")).id="game_chatbox",xe.classList.add("col-5"),(Ae=document.createElement("input")).id="game_chatinput",Ae.classList.add("col-5"),Ae.style.display="none",document.body.appendChild(Ae),document.body.appendChild(xe),(Te=document.createElement("div")).classList.add("tab_screen"),Te.id="game_tab",Te.style.display="none",document.body.appendChild(Te),function(t){var e=t.rendering.getScene(),n=new me.c.CreatePlane("cloudMesh",{height:2e3,width:2e3},e),r=new me.e("cloud",e),i=new me.f("./textures/environment/clouds.png",e,!0,!0,me.f.NEAREST_SAMPLINGMODE);r.diffuseTexture=i,r.diffuseTexture.hasAlpha=!0,r.opacityTexture=i,r.backFaceCulling=!1,r.emissiveColor=new me.a(1,1,1),n.rotation.x=-Math.PI/2,n.material=r,t.rendering.addMeshToScene(n,!1),n.setPositionWithLocalVector(new me.g(0,0,120)),n.setParent(t.ents.getState(t.playerEntity,t.ents.names.mesh).mesh);var o=[...t.camera.getPosition()];t.on("beforeRender",(function(){r.diffuseTexture.vOffset+=1e-5+(o[2]-t.camera.getPosition()[2])/1e4,r.diffuseTexture.uOffset-=(o[0]-t.camera.getPosition()[0])/1e4,o=[...t.camera.getPosition()],n.setPositionWithLocalVector(new me.g(0,0,120-t.camera.getPosition()[1]))}))}(t),ye.isMobile&&function(t){console.log("Using mobile controls");var e=0,n=0,r=null,i=null,o=[0,0];t.container.canvas.ontouchstart=function(s){o=[event.clientX,event.clientY],s.target==t.container.canvas&&(s.preventDefault(),null!=r&&(clearInterval(r),clearInterval(i)),!0,n=(new Date).getTime()/1e3,r=setInterval((function(){e=(new Date).getTime()/1e3-n}),2),i=setInterval((function(){e>.7&&t.inputs.down.emit("fire")}),400))},t.container.canvas.ontouchmove=function(t){t.preventDefault(),console.log(event);var e=Math.abs(o[0]-event.targetTouches[0].clientX),r=Math.abs(o[1]-event.targetTouches[0].clientY);(e>3||r>3)&&(n=(new Date).getTime()/1e3+.5),o=[event.targetTouches[0].clientX,event.targetTouches[0].clientY]},t.container.canvas.ontouchend=function(n){n.target==t.container.canvas&&(n.preventDefault(),0<=e&&e<.7&&t.inputs.down.emit("alt-fire"),null!=r&&(clearInterval(r),clearInterval(i)),!1,e=0)},t.container.canvas.ontouchcancel=function(n){n.target==t.container.canvas&&(n.preventDefault(),null!=r&&(clearInterval(r),clearInterval(i)),!1,e=0)};var s=document.createElement("div");s.id="game_mobile_controls",document.body.appendChild(s);let a=null,c={x:0,y:0};var u=document.createElement("div");function l(e,n){e=Math.round(e/50),0==(n=Math.round(n/50))?(t.inputs.state.forward=!1,t.inputs.state.backward=!1):n>0?(t.inputs.state.forward=!1,t.inputs.state.backward=!0):n<0&&(t.inputs.state.forward=!0,t.inputs.state.backward=!1),0==e?(t.inputs.state.left=!1,t.inputs.state.right=!1):e>0?(t.inputs.state.left=!1,t.inputs.state.right=!0):e<0&&(t.inputs.state.left=!0,t.inputs.state.right=!1)}u.id="game_mobile_joystick",u.ontouchstart=function(t){t.target==u&&(t.preventDefault(),u.style.transition="0s",a=t.changedTouches?{x:t.targetTouches[0].clientX,y:t.targetTouches[0].clientY}:{x:t.clientX,y:t.clientY})},u.ontouchmove=function(t){if(t.target!=u)return;if(null===a)return;t.preventDefault(),t.targetTouches&&(t.clientX=t.targetTouches[0].clientX,t.clientY=t.targetTouches[0].clientY);const e=t.clientX-a.x,n=t.clientY-a.y,r=Math.atan2(n,e),i=Math.min(50,Math.hypot(e,n)),o=i*Math.cos(r),s=i*Math.sin(r);u.style.transform="translate("+(o+16)+"px, "+(s+16)+"px)",c={x:o,y:s},l(o,s)},u.ontouchend=function(){event.target==u&&(event.preventDefault(),null!==a&&(u.style.transition=".1s",u.style.transform="translate(16px, 16px)",a=null,c={x:0,y:0},l(0,0)))},s.appendChild(u);var h=document.createElement("div");h.id="game_mobile_jump",h.ontouchstart=function(){t.inputs.state.jump=!0},h.ontouchend=function(){t.inputs.state.jump=!1},h.ontouchcancel=function(){t.inputs.state.jump=!1},document.body.appendChild(h);var f=document.createElement("div");f.id="game_mobile_chat",f.innerHTML="T",f.ontouchstart=function(e){e.preventDefault(),t.inputs.down.emit("chat")},document.body.appendChild(f)}(t)}var Le=n(126);var Ie,Me=null;function Ne(t){var e={};t.on("beforeRender",(function(){null!=(Me=null!=navigator.getGamepads()[0]?navigator.getGamepads()[0]:null)&&(!function(e,n,r,i){e=Math.round(e),0==(n=Math.round(n))?(t.inputs.state.forward=!1,t.inputs.state.backward=!1):n>0?(t.inputs.state.forward=!1,t.inputs.state.backward=!0):n<0&&(t.inputs.state.forward=!0,t.inputs.state.backward=!1);0==e?(t.inputs.state.left=!1,t.inputs.state.right=!1):e>0?(t.inputs.state.left=!1,t.inputs.state.right=!0):e<0&&(t.inputs.state.left=!0,t.inputs.state.right=!1);t.camera.heading=t.camera.heading+Math.trunc(10*r)/500,t.camera.pitch=t.camera.pitch+Math.trunc(10*i)/500}(Me.axes[0],Me.axes[1],Me.axes[2],Me.axes[3]),t.inputs.state.jump=Me.buttons[0].pressed,Me.buttons[13].pressed&&t.inputs.down.emit("mid-fire"),Me.buttons[2].pressed&&1!=e.inventory&&(t.inputs.down.emit("inventory"),e.inventory=!0,setTimeout((function(){e.inventory=!1}),200)),Me.buttons[6].pressed&&1!=e.altfire&&(t.inputs.down.emit("alt-fire"),e.altfire=!0,setTimeout((function(){e.altfire=!1}),200)),Me.buttons[7].pressed&&1!=e.fire&&(t.inputs.down.emit("fire"),e.fire=!0,setTimeout((function(){e.fire=!1}),200)))})),setInterval((function(){null!=Me&&(Me.buttons[4].pressed?t.inputs.state.scrolly=-1:Me.buttons[5].pressed?t.inputs.state.scrolly=1:t.inputs.state.scrolly=0)}),140)}function Re(t,e){var r=t.playerEntity;t.blockTargetIdCheck=function(t){return null!=blocks[t]&&1!=blocks[t].options.fluid},t.inputs.preventDefaults=!0,t.inputs.down.on("fire",(function(){t.targetedBlock&&e.emit("block-break",t.targetedBlock.position)})),t.inputs.up.on("fire",(function(){})),t.inputs.down.on("alt-fire",(function(){if(null!=t.targetedBlock){var n=t.targetedBlock.adjacent;0==t.ents.isTerrainBlocked(n[0],n[1],n[2])&&e.emit("block-place",n)}})),t.inputs.down.on("mid-fire",(function(){if(t.targetedBlock&&0!=t.targetedBlock.blockID){var n=blocks[t.targetedBlock.blockID].name,i=function(t,e,n){var r=Ie.ents.getState(t,"inventory"),i=Object.entries(r.main);for(var[o,s]of i)if(s.id==e&&s.count>=n)return parseInt(o);return-1}(t.playerEntity,n,1),o=t.ents.getState(r,"inventory").selected;-1!=i&&i<9?(e.emit("inventory-click",{type:"select",slot:i}),t.ents.getState(r,"inventory").selected=i):-1!=i&&e.emit("inventory-click",{type:"switch",slot:i,slot2:o})}})),t.inputs.down.on("thirdprsn",(function(){})),t.inputs.down.on("inventory",(function(){var e=document.getElementById("game_inventory_screen");"none"!=document.getElementById("game_chatinput").style.display||("none"==e.style.display?(document.exitPointerLock(),e.style.display="initial"):(t.container.canvas.requestPointerLock(),e.style.display="none"))})),t.inputs.down.on("chat",(function(){var n=document.getElementById("game_chatinput");"none"==n.style.display&&(document.exitPointerLock(),t.inputs.preventDefaults=!1,n.style.display="initial",n.focus(),setInterval((function(){if("game_chatinput"!=document.activeElement.id)return n.style.display="none",void(t.inputs.preventDefaults=!0)}),500)),t.inputs.down.on("chatenter",(function(){var n=document.getElementById("game_chatinput");"none"!=n.style.display&&(!function(t){var e=Ae.value;t.emit("chat-send",e),Ae.value=""}(e),t.container.canvas.requestPointerLock(),n.style.display="none",t.setPaused(!1))}))})),t.inputs.down.on("tab",(function(){document.getElementById("game_tab").style.display="initial"})),t.inputs.up.on("tab",(function(){document.getElementById("game_tab").style.display="none"}));var i=!1,o=t.rendering.getScene();t.inputs.bind("debug","Z"),t.inputs.down.on("debug",()=>{n.e(2).then(n.t.bind(null,461,7)).then(t=>{(i=!i)?o.debugLayer.show():o.debugLayer.hide()})}),t.on("tick",(async function(){var n=t.inputs.state.scrolly;if(0!==n){var i=t.ents.getState(r,"inventory").selected;(i+=n>0?1:-1)>=game.hotbarsize?i=0:i<0&&(i=8),e.emit("inventory-click",{slot:i,type:"select"}),t.ents.getState(t.playerEntity,"inventory").selected=i}})),"true"==localStorage.getItem("gamepad")&&Ne(t)}var Pe={};n(45);var Be,je={};function ze(t,e){console.log("Building model...");for(var n=Be.rendering.getScene(),r=t.textureSize,i=new BABYLON.Mesh("main",n),o=t.models,s={},a=0;a<o.length;a++){for(var c=o[a],u=c.translate,l=c.boxes,h=new Array(l.length),f=0;f<l.length;f++){var p=0;null!=l[f].sizeAdd&&(p=l[f].sizeAdd);var d=new Array(6),y=l[f].coordinates,m=l[f].textureOffset;d[0]=new BABYLON.Vector4((m[0]+y[5])/r[0],(r[1]-y[4]-y[5]-m[1])/r[1],(y[3]+y[5]+m[0])/r[0],(r[1]-y[5]-m[1])/r[1]),d[1]=new BABYLON.Vector4((m[0]+2*y[5]+y[3])/r[0],(r[1]-y[4]-y[5]-m[1])/r[1],(2*y[5]+2*y[3]+m[0])/r[0],(r[1]-y[5]-m[1])/r[1]),d[2]=new BABYLON.Vector4(m[0]/r[0],(r[1]-y[4]-y[5]-m[1])/r[1],(m[0]+y[5])/r[0],(r[1]-y[5]-m[1])/r[1]),d[3]=new BABYLON.Vector4((m[0]+y[5]+y[3])/r[0],(r[1]-y[4]-y[5]-m[1])/r[1],(y[5]+2*y[3]+m[0])/r[0],(r[1]-y[5]-m[1])/r[1]),d[4]=new BABYLON.Vector4((y[3]+y[5]+m[0])/r[0],(r[1]-y[5]-m[1])/r[1],(m[0]+y[5])/r[0],(r[1]-m[1])/r[1]),d[5]=new BABYLON.Vector4((2*y[3]+y[5]+m[0])/r[0],(r[1]-y[5]-m[1])/r[1],(m[0]+y[5]+y[3])/r[0],(r[1]-m[1])/r[1]),h[f]=new BABYLON.MeshBuilder.CreateBox("part-"+c.id+"-"+f,{height:(y[4]+2*p)/1,width:(y[3]+2*p)/1,depth:(y[5]+2*p)/1,faceUV:d,wrap:!0},n),h[f].setPivotMatrix(BABYLON.Matrix.Translation(u[0],u[1],u[2])),h[f].setPositionWithLocalVector(new BABYLON.Vector3((y[0]+y[3]/2+p/2)/1,(y[1]+y[4]/2+p/2)/1,(y[2]+y[5]/2+p/2)/1));var g=Be.rendering.makeStandardMaterial("modelmaterial-"+c.id+"-"+f);h[f].material=g,(e.startsWith("http://")||e.startsWith("https://"))&&1==game.allowCustom?g.diffuseTexture=new BABYLON.Texture(e,n,!0,!0,BABYLON.Texture.NEAREST_SAMPLINGMODE):g.diffuseTexture=new BABYLON.Texture("textures/"+e+".png",n,!0,!0,BABYLON.Texture.NEAREST_SAMPLINGMODE),h[f].opaque=!1,g.diffuseTexture.hasAlpha=!0}var v=BABYLON.Mesh.MergeMeshes(h,!0,!0,void 0,!0,!0);v.setParent(i),v.scaling=new BABYLON.Vector3(.06,.06,.06),s[c.id]=v,Be.rendering.addMeshToScene(v)}return{main:i,models:s}}function Ue(t,e,n){var r=Be.rendering.getScene(),i="bold 96px 'lato'",o=new BABYLON.DynamicTexture("DynamicTexture",64,r).getContext();o.font=i;var s=o.measureText(e).width+8,a=s*(.3/144),c=new BABYLON.DynamicTexture("DynamicTexture",{width:s,height:144},r,!1),u=Be.rendering.makeStandardMaterial("nametag");u.diffuseTexture=c,u.emissiveTexture=u.diffuseTexture,u.diffuseTexture.hasAlpha=!0,u.opacityTexture=u.diffuseTexture,c.drawText(e,null,null,i,"#eeeeee","#00000066",!0);var l=BABYLON.MeshBuilder.CreatePlane("plane",{width:a,height:.3},r);return l.material=u,l.setPositionWithLocalVector(new BABYLON.Vector3(0,n+.2,0)),l.opaque=!1,l.setParent(t),Be.rendering.addMeshToScene(l),l}const qe=n(273),He=n(300),Ve=n(126);var We=n(79);const Ye=n(136),Ze={debug:!0,showFPS:!0,inverseY:!1,inverseX:!1,sensitivityX:ye.isMobile?50:15,sensitivityY:ye.isMobile?50:15,chunkSize:24,chunkAddDistance:5.5,chunkRemoveDistance:6,blockTestDistance:7,tickRate:ye.isMobile?65:50,texturePath:"",playerStart:[0,100,0],playerHeight:1.85,playerWidth:.5,playerAutoStep:"true"==localStorage.getItem("autostep"),clearColor:[.8,.9,1],ambientColor:[1,1,1],lightDiffuse:[1,1,1],lightSpecular:[1,1,1],groundLightColor:[.5,.5,.5],useAO:!0,AOmultipliers:[.93,.8,.5],reverseAOmultiplier:1,preserveDrawingBuffer:!0,gravity:[0,-14,0],bindings:{forward:["W"],left:["A"],backward:["S"],right:["D"],fire:"<mouse 1>","mid-fire":["<mouse 2>"],"alt-fire":["<mouse 3>"],jump:"<space>",inventory:["E","I"],pause:["P"],muteMusic:["O"],thirdprsn:["M"],chatenter:["<enter>"],chat:["T"],tab:["<tab>"]}};function Xe(t,e,n){if("string"==typeof e)var r=new qe("ws://"+e,{reconnection:!1});else{const t=new Ye;t.emit2=t.emit,e.onmessage=function(e){t.emit2(e.data[0],e.data[1])},t.emit=function(t,n){e.postMessage([t,n])};r=t}var i;console.log("Username: "+t,"Server: "+e),r.on("login-request",(function(n){r.emit("login",{username:t,protocol:1,mobile:ye.isMobile}),r.on("kick",(function(t){console.log("You has been kicked from server \nReason: "+t),i=t}));var o=0,s={};r.on("entity-ignore",(function(t){console.log("Ignoring player-entity: "+t),o=t,null!=s[t]&&noa.ents.deleteEntity(s[t]),delete s[t]})),r.on("login-success",(function(t){document.body.innerHTML="",null!=t.pos&&(Ze.playerStart=t.pos);var i=new se(Ze),a=(i.inputs.state,{}),c=0,u=[];Object(ge.a)(i,t.blocks,t.blockIDs),Object(ge.b)(i,t.items),(Be=i).ents.createComponent({name:"model",state:{models:{}}}),Re(i,r),function(t,e){var n=(Ie=t).playerEntity,r=Ie.entities.getPositionData(n),i=(r.width,r.height),o=(Ie.ents.getPositionData(Ie.playerEntity).height,[0,i/2,0]);Ie.rendering.getScene().cameras[0].fov=1;var s=Ie.entities.getMovement(n);if(s.jumpForce=6,s.jumpImpulse=8.5,s.maxSpeed=7.5,Ie.ents.createComponent({name:"inventory",state:{main:{},selected:0,tempslot:{}}}),null!=e)Ie.ents.addComponent(n,"inventory",e);else{for(var a={},c=0;c<36;c++)a[c]={};Ie.ents.addComponent(n,"inventory",{main:a})}0==game.mode&&(s.airJumps=0),Ie.entities.addComponent(n,Ie.entities.names.mesh,{mesh:new BABYLON.Mesh("main",scene),offset:o})}(i,t.inv),De(i,e,r,0,n),r.on("chunkdata",(function(t){var e=He.decode(Object.values(t.chunk),new Uint16Array(69120)),n=new Ve(e,[24,120,24]);u.push([t.id,n])})),r.on("block-update",(function(t){i.setBlock(t.id,t.pos)})),r.on("inventory-update",(function(t){i.ents.getState(i.playerEntity,"inventory").main=t.main,i.ents.getState(i.playerEntity,"inventory").tempslot=t.tempslot,async function(t){if("none"!=ve.style.display){var e=t.ents.getState(t.playerEntity,"inventory"),n=e.main,r=JSON.stringify(n);if(r!=we){we=r;for(var i=0;i<Object.entries(n).length;i++)_e[i].innerHTML=await ke(n[i]);be.innerHTML=await ke(e.tempslot)}}}(i)})),r.on("chat",(function(t){var e,n;e=t,(n=document.createElement("div")).classList.add("chat_line"),n.innerHTML=Oe(e),xe.insertBefore(n,xe.firstElementChild),console.log("Chat: "+t)})),r.on("tab-update",(function(t){!async function(t){Te.innerHTML=Oe(t)}(t)})),r.on("teleport",(function(t){i.ents.setPosition(i.playerEntity,t),console.log("Teleport: ",t)})),r.on("movement-change",(function(t){i.ents.getMovement(i.playerEntity)})),r.on("skybox-colors",(function(t){})),r.on("entity-spawn",(async function(t){o!=t.id&&(s[t.id]=i.ents.add(Object.values(t.data.position),1,2,null,null,!1,!0),function(t,e,n,r,i,o){if(null==je[e])fetch("./models/"+e+".jem").then(t=>t.json()).then((function(e){var s=ze(e,n);i&&(s.nametag=Ue(s.main,o,Be.ents.getPositionData(t).height)),Be.ents.addComponent(t,"model",s),Be.entities.addComponent(t,Be.entities.names.mesh,{mesh:s.main,offset:r})}));else{var s=ze(je[e],n);i&&(s.nametag=Ue(s.main,o,Be.ents.getPositionData(t).height)),Be.ents.addComponent(t,"model",s),Be.entities.addComponent(t,Be.entities.names.mesh,{mesh:s.main,offset:r})}}(s[t.id],t.data.model,t.data.texture,t.data.offset,t.data.nametag,t.data.name))})),r.on("entity-despawn",(function(t){null!=s[t]&&i.ents.deleteEntity(s[t]),delete s[t]})),r.on("entity-move",(function(t){if(null!=s[t.id]){Object.values(t.data.pos);i.ents.getState(s[t.id],"position").newPosition=t.data.pos,i.ents.getState(s[t.id],"position").rotation=2*t.data.rot}})),r.on("sound-play",(function(t){!function(t,e,n,r){var i=Object.keys(Pe)[Object.keys(Pe).length-1]+1,o=e/10;if(0>e?o=0:1<e&&(o=.1),console.log("Playing: "+t,"Volume: "+e,"Position: "+n),t.startsWith("http://")||t.startsWith("https://")&&1==game.allowCustom)var s=t;else s="audio/"+t;function a(){Pe[i].play()}null!=n?(Pe[i]=new me.d("Sound",s,r.rendering.getScene(),a,{volume:o,spatialSound:!0,maxDistance:100}),Pe[i].setPosition(new me.g(n[0],n[1],n[2]))):Pe[i]=new me.d("Sound",s,r.rendering.getScene(),a,{volume:o}),Pe[i].onended=function(){delete Pe[i]}}(t.sound,t.volume,t.position,i)})),r.emit("move",{pos:i.ents.getState(i.playerEntity,"position").position,rot:i.camera.heading});var l=0;setTimeout((function(){setInterval((async function(){0!=u.length&&(!function(t,e,n){for(var r=0;r<5;r++){for(var i=new Le(new Uint16Array(13824),[24,24,24]),o=t[0]+"|"+r+"|"+t[1]+"|default",s=0;s<24;s++)for(var a=0;a<24;a++)for(var c=0;c<24;c++){var u=e.get(s,c+24*r,a);i.set(s,c,a,u)}n.world.setChunkData(o,i)}var l=new Le(new Uint16Array(13824),[24,24,24]);for(o=t[0]+"|"+"-1|"+t[1]+"|default",s=0;s<24;s++)for(a=0;a<24;a++)for(c=0;c<24;c++)l.set(s,c,a,blockIDs.barrier);n.world.setChunkData(o,l);var h=new Le(new Uint16Array(13824),[24,24,24]),f=t[0]+"|5|"+t[1]+"|default";for(s=0;s<24;s++)for(a=0;a<24;a++)for(c=0;c<24;c++)h.set(s,c,a,blockIDs.barrier);n.world.setChunkData(f,h)}(u[0][0],u[0][1],i),u.shift())}),50)}),500),i.on("tick",(function(){if(1==(l+=1)){l=0;var t=i.ents.getState(i.playerEntity,"position").position,e=i.camera.heading;JSON.stringify(a)==JSON.stringify(t)&&JSON.stringify(c)==JSON.stringify(e)||(a=[...t],c=JSON.parse(JSON.stringify(e)),r.emit("move",{pos:t,rot:e}))}})),i.on("beforeRender",(async function(){Object.values(s).forEach((async function(t){var e=i.ents.getState(t,"position").position,n=i.ents.getState(t,"position").newPosition;if(null!=i.ents.getState(t,i.entities.names.mesh)&&null!=n&&null!=e){var r=We.create();We.lerp(r,e,n,.1);var o=i.ents.getState(t,"position").rotation;i.ents.setPosition(t,r);var s=i.ents.getState(t,i.entities.names.mesh).mesh.rotation.y;i.ents.getState(t,i.entities.names.mesh).mesh.rotation.y=o/2-s>5?o/2:(o/2+s)/2,null!=i.ents.getState(t,"model").nametag&&(i.ents.getState(t,"model").nametag.rotation.y=i.camera.heading-i.ents.getState(t,i.entities.names.mesh).mesh.rotation.y,i.ents.getState(t,"model").nametag.rotation.x=i.camera.pitch)}}))}))}))})),r.once("disconnect",(function(){document.body.innerHTML="";var t=document.createElement("div");t.style="position:fixed; bottom:50%; left:50%; z-index:2;color:white; height:auto; width:auto; text-shadow: 1px 1px #000000;font-size:20px; padding:3px; text-aling:center;min-width:2em; transform: translate(-50%, 50%);";var e=document.createElement("h3");e.innerText="Disconnected!";var n=document.createElement("div");n.innerHTML=null!=i?Oe(i):"Connection has been closed",t.appendChild(e),t.appendChild(n),document.body.appendChild(t)}))}},,,,function(t,e){var n,r;n=this,r=function(){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=19)}([function(t,e,n){"use strict";var r=n(6),i=Object.keys||function(t){var e=[];for(var n in t)e.push(n);return e};t.exports=h;var o=Object.create(n(3));o.inherits=n(1);var s=n(14),a=n(12);o.inherits(h,s);for(var c=i(a.prototype),u=0;u<c.length;u++){var l=c[u];h.prototype[l]||(h.prototype[l]=a.prototype[l])}function h(t){if(!(this instanceof h))return new h(t);s.call(this,t),a.call(this,t),t&&!1===t.readable&&(this.readable=!1),t&&!1===t.writable&&(this.writable=!1),this.allowHalfOpen=!0,t&&!1===t.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",f)}function f(){this.allowHalfOpen||this._writableState.ended||r.nextTick(p,this)}function p(t){t.end()}Object.defineProperty(h.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(h.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set:function(t){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=t,this._writableState.destroyed=t)}}),h.prototype._destroy=function(t,e){this.push(null),this.end(),r.nextTick(e,t)}},function(t,e){"function"==typeof Object.create?t.exports=function(t,e){e&&(t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:t.exports=function(t,e){if(e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}}},function(t,e,n){"use strict";var r=new(n(22)),i={};function o(t){i[t]||("function"==typeof r[t]?i[t]=function(){return r[t].apply(r,arguments)}:i[t]=r[t])}for(var s in r)o(s);i.initializeTTYs=function(){null===r.stdin&&(r.initializeTTYs(),i.stdin=r.stdin,i.stdout=r.stdout,i.stderr=r.stderr)},r.nextTick((function(){i.initializeTTYs()})),t.exports=i},function(t,e,n){(function(t){function n(t){return Object.prototype.toString.call(t)}e.isArray=function(t){return Array.isArray?Array.isArray(t):"[object Array]"===n(t)},e.isBoolean=function(t){return"boolean"==typeof t},e.isNull=function(t){return null===t},e.isNullOrUndefined=function(t){return null==t},e.isNumber=function(t){return"number"==typeof t},e.isString=function(t){return"string"==typeof t},e.isSymbol=function(t){return"symbol"==typeof t},e.isUndefined=function(t){return void 0===t},e.isRegExp=function(t){return"[object RegExp]"===n(t)},e.isObject=function(t){return"object"==typeof t&&null!==t},e.isDate=function(t){return"[object Date]"===n(t)},e.isError=function(t){return"[object Error]"===n(t)||t instanceof Error},e.isFunction=function(t){return"function"==typeof t},e.isPrimitive=function(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"==typeof t||void 0===t},e.isBuffer=t.isBuffer}).call(this,n(9))},function(t,e){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){"use strict";var r,i="object"==typeof Reflect?Reflect:null,o=i&&"function"==typeof i.apply?i.apply:function(t,e,n){return Function.prototype.apply.call(t,e,n)};r=i&&"function"==typeof i.ownKeys?i.ownKeys:Object.getOwnPropertySymbols?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:function(t){return Object.getOwnPropertyNames(t)};var s=Number.isNaN||function(t){return t!=t};function a(){a.init.call(this)}t.exports=a,a.EventEmitter=a,a.prototype._events=void 0,a.prototype._eventsCount=0,a.prototype._maxListeners=void 0;var c=10;function u(t){if("function"!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}function l(t){return void 0===t._maxListeners?a.defaultMaxListeners:t._maxListeners}function h(t,e,n,r){var i,o,s;if(u(n),void 0===(o=t._events)?(o=t._events=Object.create(null),t._eventsCount=0):(void 0!==o.newListener&&(t.emit("newListener",e,n.listener?n.listener:n),o=t._events),s=o[e]),void 0===s)s=o[e]=n,++t._eventsCount;else if("function"==typeof s?s=o[e]=r?[n,s]:[s,n]:r?s.unshift(n):s.push(n),(i=l(t))>0&&s.length>i&&!s.warned){s.warned=!0;var a=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");a.name="MaxListenersExceededWarning",a.emitter=t,a.type=e,a.count=s.length,function(t){console&&console.warn&&console.warn(t)}(a)}return t}function f(t,e,n){var r={fired:!1,wrapFn:void 0,target:t,type:e,listener:n},i=function(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}.bind(r);return i.listener=n,r.wrapFn=i,i}function p(t,e,n){var r=t._events;if(void 0===r)return[];var i=r[e];return void 0===i?[]:"function"==typeof i?n?[i.listener||i]:[i]:n?function(t){for(var e=new Array(t.length),n=0;n<e.length;++n)e[n]=t[n].listener||t[n];return e}(i):y(i,i.length)}function d(t){var e=this._events;if(void 0!==e){var n=e[t];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function y(t,e){for(var n=new Array(e),r=0;r<e;++r)n[r]=t[r];return n}Object.defineProperty(a,"defaultMaxListeners",{enumerable:!0,get:function(){return c},set:function(t){if("number"!=typeof t||t<0||s(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");c=t}}),a.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},a.prototype.setMaxListeners=function(t){if("number"!=typeof t||t<0||s(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this},a.prototype.getMaxListeners=function(){return l(this)},a.prototype.emit=function(t){for(var e=[],n=1;n<arguments.length;n++)e.push(arguments[n]);var r="error"===t,i=this._events;if(void 0!==i)r=r&&void 0===i.error;else if(!r)return!1;if(r){var s;if(e.length>0&&(s=e[0]),s instanceof Error)throw s;var a=new Error("Unhandled error."+(s?" ("+s.message+")":""));throw a.context=s,a}var c=i[t];if(void 0===c)return!1;if("function"==typeof c)o(c,this,e);else{var u=c.length,l=y(c,u);for(n=0;n<u;++n)o(l[n],this,e)}return!0},a.prototype.addListener=function(t,e){return h(this,t,e,!1)},a.prototype.on=a.prototype.addListener,a.prototype.prependListener=function(t,e){return h(this,t,e,!0)},a.prototype.once=function(t,e){return u(e),this.on(t,f(this,t,e)),this},a.prototype.prependOnceListener=function(t,e){return u(e),this.prependListener(t,f(this,t,e)),this},a.prototype.removeListener=function(t,e){var n,r,i,o,s;if(u(e),void 0===(r=this._events))return this;if(void 0===(n=r[t]))return this;if(n===e||n.listener===e)0==--this._eventsCount?this._events=Object.create(null):(delete r[t],r.removeListener&&this.emit("removeListener",t,n.listener||e));else if("function"!=typeof n){for(i=-1,o=n.length-1;o>=0;o--)if(n[o]===e||n[o].listener===e){s=n[o].listener,i=o;break}if(i<0)return this;0===i?n.shift():function(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}(n,i),1===n.length&&(r[t]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",t,s||e)}return this},a.prototype.off=a.prototype.removeListener,a.prototype.removeAllListeners=function(t){var e,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[t]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[t]),this;if(0===arguments.length){var i,o=Object.keys(n);for(r=0;r<o.length;++r)"removeListener"!==(i=o[r])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(e=n[t]))this.removeListener(t,e);else if(void 0!==e)for(r=e.length-1;r>=0;r--)this.removeListener(t,e[r]);return this},a.prototype.listeners=function(t){return p(this,t,!0)},a.prototype.rawListeners=function(t){return p(this,t,!1)},a.listenerCount=function(t,e){return"function"==typeof t.listenerCount?t.listenerCount(e):d.call(t,e)},a.prototype.listenerCount=d,a.prototype.eventNames=function(){return this._eventsCount>0?r(this._events):[]}},function(t,e,n){"use strict";(function(e){void 0===e||!e.version||0===e.version.indexOf("v0.")||0===e.version.indexOf("v1.")&&0!==e.version.indexOf("v1.8.")?t.exports={nextTick:function(t,n,r,i){if("function"!=typeof t)throw new TypeError('"callback" argument must be a function');var o,s,a=arguments.length;switch(a){case 0:case 1:return e.nextTick(t);case 2:return e.nextTick((function(){t.call(null,n)}));case 3:return e.nextTick((function(){t.call(null,n,r)}));case 4:return e.nextTick((function(){t.call(null,n,r,i)}));default:for(o=new Array(a-1),s=0;s<o.length;)o[s++]=arguments[s];return e.nextTick((function(){t.apply(null,o)}))}}}:t.exports=e}).call(this,n(2))},function(t,e,n){var r=n(10),i=r.Buffer;function o(t,e){for(var n in t)e[n]=t[n]}function s(t,e,n){return i(t,e,n)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?t.exports=r:(o(r,e),e.Buffer=s),o(i,s),s.from=function(t,e,n){if("number"==typeof t)throw new TypeError("Argument must not be a number");return i(t,e,n)},s.alloc=function(t,e,n){if("number"!=typeof t)throw new TypeError("Argument must be a number");var r=i(t);return void 0!==e?"string"==typeof n?r.fill(e,n):r.fill(e):r.fill(0),r},s.allocUnsafe=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return i(t)},s.allocUnsafeSlow=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return r.SlowBuffer(t)}},function(t,e,n){"use strict";var r="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;function i(t,e){return Object.prototype.hasOwnProperty.call(t,e)}e.assign=function(t){for(var e=Array.prototype.slice.call(arguments,1);e.length;){var n=e.shift();if(n){if("object"!=typeof n)throw new TypeError(n+"must be non-object");for(var r in n)i(n,r)&&(t[r]=n[r])}}return t},e.shrinkBuf=function(t,e){return t.length===e?t:t.subarray?t.subarray(0,e):(t.length=e,t)};var o={arraySet:function(t,e,n,r,i){if(e.subarray&&t.subarray)t.set(e.subarray(n,n+r),i);else for(var o=0;o<r;o++)t[i+o]=e[n+o]},flattenChunks:function(t){var e,n,r,i,o,s;for(r=0,e=0,n=t.length;e<n;e++)r+=t[e].length;for(s=new Uint8Array(r),i=0,e=0,n=t.length;e<n;e++)o=t[e],s.set(o,i),i+=o.length;return s}},s={arraySet:function(t,e,n,r,i){for(var o=0;o<r;o++)t[i+o]=e[n+o]},flattenChunks:function(t){return[].concat.apply([],t)}};e.setTyped=function(t){t?(e.Buf8=Uint8Array,e.Buf16=Uint16Array,e.Buf32=Int32Array,e.assign(e,o)):(e.Buf8=Array,e.Buf16=Array,e.Buf32=Array,e.assign(e,s))},e.setTyped(r)},function(t,e,n){t.exports=n(10).Buffer},function(t,e,n){"use strict";
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var r=n(20),i=n(21);e.Buffer=a,e.SlowBuffer=function(t){return+t!=t&&(t=0),a.alloc(+t)},e.INSPECT_MAX_BYTES=50;var o=2147483647;function s(t){if(t>o)throw new RangeError("Invalid typed array length");var e=new Uint8Array(t);return e.__proto__=a.prototype,e}function a(t,e,n){if("number"==typeof t){if("string"==typeof e)throw new Error("If encoding is specified then the first argument must be a string");return l(t)}return c(t,e,n)}function c(t,e,n){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return z(t)||t&&z(t.buffer)?function(t,e,n){if(e<0||t.byteLength<e)throw new RangeError('"offset" is outside of buffer bounds');if(t.byteLength<e+(n||0))throw new RangeError('"length" is outside of buffer bounds');var r;return(r=void 0===e&&void 0===n?new Uint8Array(t):void 0===n?new Uint8Array(t,e):new Uint8Array(t,e,n)).__proto__=a.prototype,r}(t,e,n):"string"==typeof t?function(t,e){if("string"==typeof e&&""!==e||(e="utf8"),!a.isEncoding(e))throw new TypeError("Unknown encoding: "+e);var n=0|p(t,e),r=s(n),i=r.write(t,e);return i!==n&&(r=r.slice(0,i)),r}(t,e):function(t){if(a.isBuffer(t)){var e=0|f(t.length),n=s(e);return 0===n.length||t.copy(n,0,0,e),n}if(t){if(ArrayBuffer.isView(t)||"length"in t)return"number"!=typeof t.length||U(t.length)?s(0):h(t);if("Buffer"===t.type&&Array.isArray(t.data))return h(t.data)}throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object.")}(t)}function u(t){if("number"!=typeof t)throw new TypeError('"size" argument must be of type number');if(t<0)throw new RangeError('"size" argument must not be negative')}function l(t){return u(t),s(t<0?0:0|f(t))}function h(t){for(var e=t.length<0?0:0|f(t.length),n=s(e),r=0;r<e;r+=1)n[r]=255&t[r];return n}function f(t){if(t>=o)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o.toString(16)+" bytes");return 0|t}function p(t,e){if(a.isBuffer(t))return t.length;if(ArrayBuffer.isView(t)||z(t))return t.byteLength;"string"!=typeof t&&(t=""+t);var n=t.length;if(0===n)return 0;for(var r=!1;;)switch(e){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return P(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return B(t).length;default:if(r)return P(t).length;e=(""+e).toLowerCase(),r=!0}}function d(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}function y(t,e,n,r,i){if(0===t.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),U(n=+n)&&(n=i?0:t.length-1),n<0&&(n=t.length+n),n>=t.length){if(i)return-1;n=t.length-1}else if(n<0){if(!i)return-1;n=0}if("string"==typeof e&&(e=a.from(e,r)),a.isBuffer(e))return 0===e.length?-1:m(t,e,n,r,i);if("number"==typeof e)return e&=255,"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(t,e,n):Uint8Array.prototype.lastIndexOf.call(t,e,n):m(t,[e],n,r,i);throw new TypeError("val must be string, number or Buffer")}function m(t,e,n,r,i){var o,s=1,a=t.length,c=e.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(t.length<2||e.length<2)return-1;s=2,a/=2,c/=2,n/=2}function u(t,e){return 1===s?t[e]:t.readUInt16BE(e*s)}if(i){var l=-1;for(o=n;o<a;o++)if(u(t,o)===u(e,-1===l?0:o-l)){if(-1===l&&(l=o),o-l+1===c)return l*s}else-1!==l&&(o-=o-l),l=-1}else for(n+c>a&&(n=a-c),o=n;o>=0;o--){for(var h=!0,f=0;f<c;f++)if(u(t,o+f)!==u(e,f)){h=!1;break}if(h)return o}return-1}function g(t,e,n,r){n=Number(n)||0;var i=t.length-n;r?(r=Number(r))>i&&(r=i):r=i;var o=e.length;r>o/2&&(r=o/2);for(var s=0;s<r;++s){var a=parseInt(e.substr(2*s,2),16);if(U(a))return s;t[n+s]=a}return s}function v(t,e,n,r){return j(P(e,t.length-n),t,n,r)}function b(t,e,n,r){return j(function(t){for(var e=[],n=0;n<t.length;++n)e.push(255&t.charCodeAt(n));return e}(e),t,n,r)}function _(t,e,n,r){return b(t,e,n,r)}function w(t,e,n,r){return j(B(e),t,n,r)}function k(t,e,n,r){return j(function(t,e){for(var n,r,i,o=[],s=0;s<t.length&&!((e-=2)<0);++s)r=(n=t.charCodeAt(s))>>8,i=n%256,o.push(i),o.push(r);return o}(e,t.length-n),t,n,r)}function E(t,e,n){return 0===e&&n===t.length?r.fromByteArray(t):r.fromByteArray(t.slice(e,n))}function S(t,e,n){n=Math.min(t.length,n);for(var r=[],i=e;i<n;){var o,s,a,c,u=t[i],l=null,h=u>239?4:u>223?3:u>191?2:1;if(i+h<=n)switch(h){case 1:u<128&&(l=u);break;case 2:128==(192&(o=t[i+1]))&&(c=(31&u)<<6|63&o)>127&&(l=c);break;case 3:o=t[i+1],s=t[i+2],128==(192&o)&&128==(192&s)&&(c=(15&u)<<12|(63&o)<<6|63&s)>2047&&(c<55296||c>57343)&&(l=c);break;case 4:o=t[i+1],s=t[i+2],a=t[i+3],128==(192&o)&&128==(192&s)&&128==(192&a)&&(c=(15&u)<<18|(63&o)<<12|(63&s)<<6|63&a)>65535&&c<1114112&&(l=c)}null===l?(l=65533,h=1):l>65535&&(l-=65536,r.push(l>>>10&1023|55296),l=56320|1023&l),r.push(l),i+=h}return function(t){var e=t.length;if(e<=C)return String.fromCharCode.apply(String,t);for(var n="",r=0;r<e;)n+=String.fromCharCode.apply(String,t.slice(r,r+=C));return n}(r)}e.kMaxLength=o,a.TYPED_ARRAY_SUPPORT=function(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()}catch(t){return!1}}(),a.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(a.prototype,"parent",{get:function(){if(this instanceof a)return this.buffer}}),Object.defineProperty(a.prototype,"offset",{get:function(){if(this instanceof a)return this.byteOffset}}),"undefined"!=typeof Symbol&&Symbol.species&&a[Symbol.species]===a&&Object.defineProperty(a,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),a.poolSize=8192,a.from=function(t,e,n){return c(t,e,n)},a.prototype.__proto__=Uint8Array.prototype,a.__proto__=Uint8Array,a.alloc=function(t,e,n){return function(t,e,n){return u(t),t<=0?s(t):void 0!==e?"string"==typeof n?s(t).fill(e,n):s(t).fill(e):s(t)}(t,e,n)},a.allocUnsafe=function(t){return l(t)},a.allocUnsafeSlow=function(t){return l(t)},a.isBuffer=function(t){return null!=t&&!0===t._isBuffer},a.compare=function(t,e){if(!a.isBuffer(t)||!a.isBuffer(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var n=t.length,r=e.length,i=0,o=Math.min(n,r);i<o;++i)if(t[i]!==e[i]){n=t[i],r=e[i];break}return n<r?-1:r<n?1:0},a.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(t,e){if(!Array.isArray(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return a.alloc(0);var n;if(void 0===e)for(e=0,n=0;n<t.length;++n)e+=t[n].length;var r=a.allocUnsafe(e),i=0;for(n=0;n<t.length;++n){var o=t[n];if(ArrayBuffer.isView(o)&&(o=a.from(o)),!a.isBuffer(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(r,i),i+=o.length}return r},a.byteLength=p,a.prototype._isBuffer=!0,a.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)d(this,e,e+1);return this},a.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)d(this,e,e+3),d(this,e+1,e+2);return this},a.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)d(this,e,e+7),d(this,e+1,e+6),d(this,e+2,e+5),d(this,e+3,e+4);return this},a.prototype.toString=function(){var t=this.length;return 0===t?"":0===arguments.length?S(this,0,t):function(t,e,n){var r=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return T(this,e,n);case"utf8":case"utf-8":return S(this,e,n);case"ascii":return x(this,e,n);case"latin1":case"binary":return A(this,e,n);case"base64":return E(this,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return F(this,e,n);default:if(r)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),r=!0}}.apply(this,arguments)},a.prototype.toLocaleString=a.prototype.toString,a.prototype.equals=function(t){if(!a.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===a.compare(this,t)},a.prototype.inspect=function(){var t="",n=e.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(t+=" ... ")),"<Buffer "+t+">"},a.prototype.compare=function(t,e,n,r,i){if(!a.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(void 0===e&&(e=0),void 0===n&&(n=t?t.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),e<0||n>t.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&e>=n)return 0;if(r>=i)return-1;if(e>=n)return 1;if(this===t)return 0;for(var o=(i>>>=0)-(r>>>=0),s=(n>>>=0)-(e>>>=0),c=Math.min(o,s),u=this.slice(r,i),l=t.slice(e,n),h=0;h<c;++h)if(u[h]!==l[h]){o=u[h],s=l[h];break}return o<s?-1:s<o?1:0},a.prototype.includes=function(t,e,n){return-1!==this.indexOf(t,e,n)},a.prototype.indexOf=function(t,e,n){return y(this,t,e,n,!0)},a.prototype.lastIndexOf=function(t,e,n){return y(this,t,e,n,!1)},a.prototype.write=function(t,e,n,r){if(void 0===e)r="utf8",n=this.length,e=0;else if(void 0===n&&"string"==typeof e)r=e,n=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e>>>=0,isFinite(n)?(n>>>=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var i=this.length-e;if((void 0===n||n>i)&&(n=i),t.length>0&&(n<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var o=!1;;)switch(r){case"hex":return g(this,t,e,n);case"utf8":case"utf-8":return v(this,t,e,n);case"ascii":return b(this,t,e,n);case"latin1":case"binary":return _(this,t,e,n);case"base64":return w(this,t,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return k(this,t,e,n);default:if(o)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),o=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var C=4096;function x(t,e,n){var r="";n=Math.min(t.length,n);for(var i=e;i<n;++i)r+=String.fromCharCode(127&t[i]);return r}function A(t,e,n){var r="";n=Math.min(t.length,n);for(var i=e;i<n;++i)r+=String.fromCharCode(t[i]);return r}function T(t,e,n){var r=t.length;(!e||e<0)&&(e=0),(!n||n<0||n>r)&&(n=r);for(var i="",o=e;o<n;++o)i+=R(t[o]);return i}function F(t,e,n){for(var r=t.slice(e,n),i="",o=0;o<r.length;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1]);return i}function O(t,e,n){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>n)throw new RangeError("Trying to access beyond buffer length")}function D(t,e,n,r,i,o){if(!a.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>i||e<o)throw new RangeError('"value" argument is out of bounds');if(n+r>t.length)throw new RangeError("Index out of range")}function L(t,e,n,r,i,o){if(n+r>t.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function I(t,e,n,r,o){return e=+e,n>>>=0,o||L(t,0,n,4),i.write(t,e,n,r,23,4),n+4}function M(t,e,n,r,o){return e=+e,n>>>=0,o||L(t,0,n,8),i.write(t,e,n,r,52,8),n+8}a.prototype.slice=function(t,e){var n=this.length;(t=~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),(e=void 0===e?n:~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),e<t&&(e=t);var r=this.subarray(t,e);return r.__proto__=a.prototype,r},a.prototype.readUIntLE=function(t,e,n){t>>>=0,e>>>=0,n||O(t,e,this.length);for(var r=this[t],i=1,o=0;++o<e&&(i*=256);)r+=this[t+o]*i;return r},a.prototype.readUIntBE=function(t,e,n){t>>>=0,e>>>=0,n||O(t,e,this.length);for(var r=this[t+--e],i=1;e>0&&(i*=256);)r+=this[t+--e]*i;return r},a.prototype.readUInt8=function(t,e){return t>>>=0,e||O(t,1,this.length),this[t]},a.prototype.readUInt16LE=function(t,e){return t>>>=0,e||O(t,2,this.length),this[t]|this[t+1]<<8},a.prototype.readUInt16BE=function(t,e){return t>>>=0,e||O(t,2,this.length),this[t]<<8|this[t+1]},a.prototype.readUInt32LE=function(t,e){return t>>>=0,e||O(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},a.prototype.readUInt32BE=function(t,e){return t>>>=0,e||O(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},a.prototype.readIntLE=function(t,e,n){t>>>=0,e>>>=0,n||O(t,e,this.length);for(var r=this[t],i=1,o=0;++o<e&&(i*=256);)r+=this[t+o]*i;return r>=(i*=128)&&(r-=Math.pow(2,8*e)),r},a.prototype.readIntBE=function(t,e,n){t>>>=0,e>>>=0,n||O(t,e,this.length);for(var r=e,i=1,o=this[t+--r];r>0&&(i*=256);)o+=this[t+--r]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*e)),o},a.prototype.readInt8=function(t,e){return t>>>=0,e||O(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},a.prototype.readInt16LE=function(t,e){t>>>=0,e||O(t,2,this.length);var n=this[t]|this[t+1]<<8;return 32768&n?4294901760|n:n},a.prototype.readInt16BE=function(t,e){t>>>=0,e||O(t,2,this.length);var n=this[t+1]|this[t]<<8;return 32768&n?4294901760|n:n},a.prototype.readInt32LE=function(t,e){return t>>>=0,e||O(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},a.prototype.readInt32BE=function(t,e){return t>>>=0,e||O(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},a.prototype.readFloatLE=function(t,e){return t>>>=0,e||O(t,4,this.length),i.read(this,t,!0,23,4)},a.prototype.readFloatBE=function(t,e){return t>>>=0,e||O(t,4,this.length),i.read(this,t,!1,23,4)},a.prototype.readDoubleLE=function(t,e){return t>>>=0,e||O(t,8,this.length),i.read(this,t,!0,52,8)},a.prototype.readDoubleBE=function(t,e){return t>>>=0,e||O(t,8,this.length),i.read(this,t,!1,52,8)},a.prototype.writeUIntLE=function(t,e,n,r){t=+t,e>>>=0,n>>>=0,r||D(this,t,e,n,Math.pow(2,8*n)-1,0);var i=1,o=0;for(this[e]=255&t;++o<n&&(i*=256);)this[e+o]=t/i&255;return e+n},a.prototype.writeUIntBE=function(t,e,n,r){t=+t,e>>>=0,n>>>=0,r||D(this,t,e,n,Math.pow(2,8*n)-1,0);var i=n-1,o=1;for(this[e+i]=255&t;--i>=0&&(o*=256);)this[e+i]=t/o&255;return e+n},a.prototype.writeUInt8=function(t,e,n){return t=+t,e>>>=0,n||D(this,t,e,1,255,0),this[e]=255&t,e+1},a.prototype.writeUInt16LE=function(t,e,n){return t=+t,e>>>=0,n||D(this,t,e,2,65535,0),this[e]=255&t,this[e+1]=t>>>8,e+2},a.prototype.writeUInt16BE=function(t,e,n){return t=+t,e>>>=0,n||D(this,t,e,2,65535,0),this[e]=t>>>8,this[e+1]=255&t,e+2},a.prototype.writeUInt32LE=function(t,e,n){return t=+t,e>>>=0,n||D(this,t,e,4,4294967295,0),this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t,e+4},a.prototype.writeUInt32BE=function(t,e,n){return t=+t,e>>>=0,n||D(this,t,e,4,4294967295,0),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},a.prototype.writeIntLE=function(t,e,n,r){if(t=+t,e>>>=0,!r){var i=Math.pow(2,8*n-1);D(this,t,e,n,i-1,-i)}var o=0,s=1,a=0;for(this[e]=255&t;++o<n&&(s*=256);)t<0&&0===a&&0!==this[e+o-1]&&(a=1),this[e+o]=(t/s>>0)-a&255;return e+n},a.prototype.writeIntBE=function(t,e,n,r){if(t=+t,e>>>=0,!r){var i=Math.pow(2,8*n-1);D(this,t,e,n,i-1,-i)}var o=n-1,s=1,a=0;for(this[e+o]=255&t;--o>=0&&(s*=256);)t<0&&0===a&&0!==this[e+o+1]&&(a=1),this[e+o]=(t/s>>0)-a&255;return e+n},a.prototype.writeInt8=function(t,e,n){return t=+t,e>>>=0,n||D(this,t,e,1,127,-128),t<0&&(t=255+t+1),this[e]=255&t,e+1},a.prototype.writeInt16LE=function(t,e,n){return t=+t,e>>>=0,n||D(this,t,e,2,32767,-32768),this[e]=255&t,this[e+1]=t>>>8,e+2},a.prototype.writeInt16BE=function(t,e,n){return t=+t,e>>>=0,n||D(this,t,e,2,32767,-32768),this[e]=t>>>8,this[e+1]=255&t,e+2},a.prototype.writeInt32LE=function(t,e,n){return t=+t,e>>>=0,n||D(this,t,e,4,2147483647,-2147483648),this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24,e+4},a.prototype.writeInt32BE=function(t,e,n){return t=+t,e>>>=0,n||D(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},a.prototype.writeFloatLE=function(t,e,n){return I(this,t,e,!0,n)},a.prototype.writeFloatBE=function(t,e,n){return I(this,t,e,!1,n)},a.prototype.writeDoubleLE=function(t,e,n){return M(this,t,e,!0,n)},a.prototype.writeDoubleBE=function(t,e,n){return M(this,t,e,!1,n)},a.prototype.copy=function(t,e,n,r){if(!a.isBuffer(t))throw new TypeError("argument should be a Buffer");if(n||(n=0),r||0===r||(r=this.length),e>=t.length&&(e=t.length),e||(e=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),t.length-e<r-n&&(r=t.length-e+n);var i=r-n;if(this===t&&"function"==typeof Uint8Array.prototype.copyWithin)this.copyWithin(e,n,r);else if(this===t&&n<e&&e<r)for(var o=i-1;o>=0;--o)t[o+e]=this[o+n];else Uint8Array.prototype.set.call(t,this.subarray(n,r),e);return i},a.prototype.fill=function(t,e,n,r){if("string"==typeof t){if("string"==typeof e?(r=e,e=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!a.isEncoding(r))throw new TypeError("Unknown encoding: "+r);if(1===t.length){var i=t.charCodeAt(0);("utf8"===r&&i<128||"latin1"===r)&&(t=i)}}else"number"==typeof t&&(t&=255);if(e<0||this.length<e||this.length<n)throw new RangeError("Out of range index");if(n<=e)return this;var o;if(e>>>=0,n=void 0===n?this.length:n>>>0,t||(t=0),"number"==typeof t)for(o=e;o<n;++o)this[o]=t;else{var s=a.isBuffer(t)?t:new a(t,r),c=s.length;if(0===c)throw new TypeError('The value "'+t+'" is invalid for argument "value"');for(o=0;o<n-e;++o)this[o+e]=s[o%c]}return this};var N=/[^+/0-9A-Za-z-_]/g;function R(t){return t<16?"0"+t.toString(16):t.toString(16)}function P(t,e){var n;e=e||1/0;for(var r=t.length,i=null,o=[],s=0;s<r;++s){if((n=t.charCodeAt(s))>55295&&n<57344){if(!i){if(n>56319){(e-=3)>-1&&o.push(239,191,189);continue}if(s+1===r){(e-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(n<56320){(e-=3)>-1&&o.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(e-=3)>-1&&o.push(239,191,189);if(i=null,n<128){if((e-=1)<0)break;o.push(n)}else if(n<2048){if((e-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((e-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function B(t){return r.toByteArray(function(t){if((t=(t=t.split("=")[0]).trim().replace(N,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function j(t,e,n,r){for(var i=0;i<r&&!(i+n>=e.length||i>=t.length);++i)e[i+n]=t[i];return i}function z(t){return t instanceof ArrayBuffer||null!=t&&null!=t.constructor&&"ArrayBuffer"===t.constructor.name&&"number"==typeof t.byteLength}function U(t){return t!=t}},function(t,e,n){(e=t.exports=n(14)).Stream=e,e.Readable=e,e.Writable=n(12),e.Duplex=n(0),e.Transform=n(18),e.PassThrough=n(30)},function(t,e,n){"use strict";(function(e,r){var i=n(6);function o(t){var e=this;this.next=null,this.entry=null,this.finish=function(){!function(t,e,n){var r=t.entry;for(t.entry=null;r;){var i=r.callback;e.pendingcb--,i(void 0),r=r.next}e.corkedRequestsFree?e.corkedRequestsFree.next=t:e.corkedRequestsFree=t}(e,t)}}t.exports=g;var s,a=!e.browser&&["v0.10","v0.9."].indexOf(e.version.slice(0,5))>-1?setImmediate:i.nextTick;g.WritableState=m;var c=Object.create(n(3));c.inherits=n(1);var u,l={deprecate:n(29)},h=n(15),f=n(7).Buffer,p=r.Uint8Array||function(){},d=n(16);function y(){}function m(t,e){s=s||n(0),t=t||{};var r=e instanceof s;this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.writableObjectMode);var c=t.highWaterMark,u=t.writableHighWaterMark,l=this.objectMode?16:16384;this.highWaterMark=c||0===c?c:r&&(u||0===u)?u:l,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var h=!1===t.decodeStrings;this.decodeStrings=!h,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(t){!function(t,e){var n=t._writableState,r=n.sync,o=n.writecb;if(function(t){t.writing=!1,t.writecb=null,t.length-=t.writelen,t.writelen=0}(n),e)!function(t,e,n,r,o){--e.pendingcb,n?(i.nextTick(o,r),i.nextTick(E,t,e),t._writableState.errorEmitted=!0,t.emit("error",r)):(o(r),t._writableState.errorEmitted=!0,t.emit("error",r),E(t,e))}(t,n,r,e,o);else{var s=w(n);s||n.corked||n.bufferProcessing||!n.bufferedRequest||_(t,n),r?a(b,t,n,s,o):b(t,n,s,o)}}(e,t)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new o(this)}function g(t){if(s=s||n(0),!(u.call(g,this)||this instanceof s))return new g(t);this._writableState=new m(t,this),this.writable=!0,t&&("function"==typeof t.write&&(this._write=t.write),"function"==typeof t.writev&&(this._writev=t.writev),"function"==typeof t.destroy&&(this._destroy=t.destroy),"function"==typeof t.final&&(this._final=t.final)),h.call(this)}function v(t,e,n,r,i,o,s){e.writelen=r,e.writecb=s,e.writing=!0,e.sync=!0,n?t._writev(i,e.onwrite):t._write(i,o,e.onwrite),e.sync=!1}function b(t,e,n,r){n||function(t,e){0===e.length&&e.needDrain&&(e.needDrain=!1,t.emit("drain"))}(t,e),e.pendingcb--,r(),E(t,e)}function _(t,e){e.bufferProcessing=!0;var n=e.bufferedRequest;if(t._writev&&n&&n.next){var r=e.bufferedRequestCount,i=new Array(r),s=e.corkedRequestsFree;s.entry=n;for(var a=0,c=!0;n;)i[a]=n,n.isBuf||(c=!1),n=n.next,a+=1;i.allBuffers=c,v(t,e,!0,e.length,i,"",s.finish),e.pendingcb++,e.lastBufferedRequest=null,s.next?(e.corkedRequestsFree=s.next,s.next=null):e.corkedRequestsFree=new o(e),e.bufferedRequestCount=0}else{for(;n;){var u=n.chunk,l=n.encoding,h=n.callback;if(v(t,e,!1,e.objectMode?1:u.length,u,l,h),n=n.next,e.bufferedRequestCount--,e.writing)break}null===n&&(e.lastBufferedRequest=null)}e.bufferedRequest=n,e.bufferProcessing=!1}function w(t){return t.ending&&0===t.length&&null===t.bufferedRequest&&!t.finished&&!t.writing}function k(t,e){t._final((function(n){e.pendingcb--,n&&t.emit("error",n),e.prefinished=!0,t.emit("prefinish"),E(t,e)}))}function E(t,e){var n=w(e);return n&&(function(t,e){e.prefinished||e.finalCalled||("function"==typeof t._final?(e.pendingcb++,e.finalCalled=!0,i.nextTick(k,t,e)):(e.prefinished=!0,t.emit("prefinish")))}(t,e),0===e.pendingcb&&(e.finished=!0,t.emit("finish"))),n}c.inherits(g,h),m.prototype.getBuffer=function(){for(var t=this.bufferedRequest,e=[];t;)e.push(t),t=t.next;return e},function(){try{Object.defineProperty(m.prototype,"buffer",{get:l.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(t){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(u=Function.prototype[Symbol.hasInstance],Object.defineProperty(g,Symbol.hasInstance,{value:function(t){return!!u.call(this,t)||this===g&&t&&t._writableState instanceof m}})):u=function(t){return t instanceof this},g.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},g.prototype.write=function(t,e,n){var r=this._writableState,o=!1,s=!r.objectMode&&function(t){return f.isBuffer(t)||t instanceof p}(t);return s&&!f.isBuffer(t)&&(t=function(t){return f.from(t)}(t)),"function"==typeof e&&(n=e,e=null),s?e="buffer":e||(e=r.defaultEncoding),"function"!=typeof n&&(n=y),r.ended?function(t,e){var n=new Error("write after end");t.emit("error",n),i.nextTick(e,n)}(this,n):(s||function(t,e,n,r){var o=!0,s=!1;return null===n?s=new TypeError("May not write null values to stream"):"string"==typeof n||void 0===n||e.objectMode||(s=new TypeError("Invalid non-string/buffer chunk")),s&&(t.emit("error",s),i.nextTick(r,s),o=!1),o}(this,r,t,n))&&(r.pendingcb++,o=function(t,e,n,r,i,o){if(!n){var s=function(t,e,n){return t.objectMode||!1===t.decodeStrings||"string"!=typeof e||(e=f.from(e,n)),e}(e,r,i);r!==s&&(n=!0,i="buffer",r=s)}var a=e.objectMode?1:r.length;e.length+=a;var c=e.length<e.highWaterMark;if(c||(e.needDrain=!0),e.writing||e.corked){var u=e.lastBufferedRequest;e.lastBufferedRequest={chunk:r,encoding:i,isBuf:n,callback:o,next:null},u?u.next=e.lastBufferedRequest:e.bufferedRequest=e.lastBufferedRequest,e.bufferedRequestCount+=1}else v(t,e,!1,a,r,i,o);return c}(this,r,s,t,e,n)),o},g.prototype.cork=function(){this._writableState.corked++},g.prototype.uncork=function(){var t=this._writableState;t.corked&&(t.corked--,t.writing||t.corked||t.finished||t.bufferProcessing||!t.bufferedRequest||_(this,t))},g.prototype.setDefaultEncoding=function(t){if("string"==typeof t&&(t=t.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((t+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+t);return this._writableState.defaultEncoding=t,this},Object.defineProperty(g.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),g.prototype._write=function(t,e,n){n(new Error("_write() is not implemented"))},g.prototype._writev=null,g.prototype.end=function(t,e,n){var r=this._writableState;"function"==typeof t?(n=t,t=null,e=null):"function"==typeof e&&(n=e,e=null),null!=t&&this.write(t,e),r.corked&&(r.corked=1,this.uncork()),r.ending||r.finished||function(t,e,n){e.ending=!0,E(t,e),n&&(e.finished?i.nextTick(n):t.once("finish",n)),e.ended=!0,t.writable=!1}(this,r,n)},Object.defineProperty(g.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(t){this._writableState&&(this._writableState.destroyed=t)}}),g.prototype.destroy=d.destroy,g.prototype._undestroy=d.undestroy,g.prototype._destroy=function(t,e){this.end(),e(t)}}).call(this,n(2),n(4))},function(t,e,n){"use strict";(function(e){var n=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,r=function(){function t(){}return t.normalize=function(e){""===e&&(e=".");for(var n=e.charAt(0)===t.sep,r=(e=t._removeDuplicateSeps(e)).split(t.sep),i=[],o=0;o<r.length;o++){var s=r[o];"."!==s&&(".."===s&&(n||!n&&i.length>0&&".."!==i[0])?i.pop():i.push(s))}if(!n&&i.length<2)switch(i.length){case 1:""===i[0]&&i.unshift(".");break;default:i.push(".")}return e=i.join(t.sep),n&&e.charAt(0)!==t.sep&&(e=t.sep+e),e},t.join=function(){for(var e=[],n=0;n<arguments.length;n++)e[n-0]=arguments[n];for(var r=[],i=0;i<e.length;i++){var o=e[i];if("string"!=typeof o)throw new TypeError("Invalid argument type to path.join: "+typeof o);""!==o&&r.push(o)}return t.normalize(r.join(t.sep))},t.resolve=function(){for(var n=[],r=0;r<arguments.length;r++)n[r-0]=arguments[r];for(var i=[],o=0;o<n.length;o++){var s=n[o];if("string"!=typeof s)throw new TypeError("Invalid argument type to path.join: "+typeof s);""!==s&&(s.charAt(0)===t.sep&&(i=[]),i.push(s))}var a=t.normalize(i.join(t.sep));if(a.length>1&&a.charAt(a.length-1)===t.sep)return a.substr(0,a.length-1);if(a.charAt(0)!==t.sep){"."!==a.charAt(0)||1!==a.length&&a.charAt(1)!==t.sep||(a=1===a.length?"":a.substr(2));var c=e.cwd();a=""!==a?this.normalize(c+("/"!==c?t.sep:"")+a):c}return a},t.relative=function(e,n){var r;e=t.resolve(e),n=t.resolve(n);var i=e.split(t.sep),o=n.split(t.sep);o.shift(),i.shift();var s=0,a=[];for(r=0;r<i.length;r++)if(i[r]!==o[r]){s=i.length-r;break}a=o.slice(r),1===i.length&&""===i[0]&&(s=0),s>i.length&&(s=i.length);var c="";for(r=0;r<s;r++)c+="../";return(c+=a.join(t.sep)).length>1&&c.charAt(c.length-1)===t.sep&&(c=c.substr(0,c.length-1)),c},t.dirname=function(e){var n=(e=t._removeDuplicateSeps(e)).charAt(0)===t.sep,r=e.split(t.sep);return""===r.pop()&&r.length>0&&r.pop(),r.length>1||1===r.length&&!n?r.join(t.sep):n?t.sep:"."},t.basename=function(e,n){if(void 0===n&&(n=""),""===e)return e;var r=(e=t.normalize(e)).split(t.sep),i=r[r.length-1];return""===i&&r.length>1?r[r.length-2]:n.length>0&&i.substr(i.length-n.length)===n?i.substr(0,i.length-n.length):i},t.extname=function(e){var n=(e=t.normalize(e)).split(t.sep);if(""===(e=n.pop())&&n.length>0&&(e=n.pop()),".."===e)return"";var r=e.lastIndexOf(".");return-1===r||0===r?"":e.substr(r)},t.isAbsolute=function(e){return e.length>0&&e.charAt(0)===t.sep},t._makeLong=function(t){return t},t.parse=function(t){var e=function(t){var e=n.exec(t);return e.shift(),e}(t);return{root:e[0],dir:e[0]+e[1].slice(0,-1),base:e[2],ext:e[3],name:e[2].slice(0,e[2].length-e[3].length)}},t.format=function(e){if(null===e||"object"!=typeof e)throw new TypeError("Parameter 'pathObject' must be an object, not "+typeof e);if("string"!=typeof(e.root||""))throw new TypeError("'pathObject.root' must be a string or undefined, not "+typeof e.root);return(e.dir?e.dir+t.sep:"")+(e.base||"")},t._removeDuplicateSeps=function(t){return t.replace(this._replaceRegex,this.sep)},t.sep="/",t._replaceRegex=new RegExp("//+","g"),t.delimiter=":",t.posix=t,t.win32=t,t}();t.exports=r}).call(this,n(2))},function(t,e,n){"use strict";(function(e,r){var i=n(6);t.exports=b;var o,s=n(25);b.ReadableState=v,n(5).EventEmitter;var a=function(t,e){return t.listeners(e).length},c=n(15),u=n(7).Buffer,l=e.Uint8Array||function(){},h=Object.create(n(3));h.inherits=n(1);var f=n(26),p=void 0;p=f&&f.debuglog?f.debuglog("stream"):function(){};var d,y=n(27),m=n(16);h.inherits(b,c);var g=["error","close","destroy","pause","resume"];function v(t,e){t=t||{};var r=e instanceof(o=o||n(0));this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.readableObjectMode);var i=t.highWaterMark,s=t.readableHighWaterMark,a=this.objectMode?16:16384;this.highWaterMark=i||0===i?i:r&&(s||0===s)?s:a,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new y,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(d||(d=n(17).StringDecoder),this.decoder=new d(t.encoding),this.encoding=t.encoding)}function b(t){if(o=o||n(0),!(this instanceof b))return new b(t);this._readableState=new v(t,this),this.readable=!0,t&&("function"==typeof t.read&&(this._read=t.read),"function"==typeof t.destroy&&(this._destroy=t.destroy)),c.call(this)}function _(t,e,n,r,i){var o,s=t._readableState;return null===e?(s.reading=!1,function(t,e){if(!e.ended){if(e.decoder){var n=e.decoder.end();n&&n.length&&(e.buffer.push(n),e.length+=e.objectMode?1:n.length)}e.ended=!0,S(t)}}(t,s)):(i||(o=function(t,e){var n;return function(t){return u.isBuffer(t)||t instanceof l}(e)||"string"==typeof e||void 0===e||t.objectMode||(n=new TypeError("Invalid non-string/buffer chunk")),n}(s,e)),o?t.emit("error",o):s.objectMode||e&&e.length>0?("string"==typeof e||s.objectMode||Object.getPrototypeOf(e)===u.prototype||(e=function(t){return u.from(t)}(e)),r?s.endEmitted?t.emit("error",new Error("stream.unshift() after end event")):w(t,s,e,!0):s.ended?t.emit("error",new Error("stream.push() after EOF")):(s.reading=!1,s.decoder&&!n?(e=s.decoder.write(e),s.objectMode||0!==e.length?w(t,s,e,!1):x(t,s)):w(t,s,e,!1))):r||(s.reading=!1)),function(t){return!t.ended&&(t.needReadable||t.length<t.highWaterMark||0===t.length)}(s)}function w(t,e,n,r){e.flowing&&0===e.length&&!e.sync?(t.emit("data",n),t.read(0)):(e.length+=e.objectMode?1:n.length,r?e.buffer.unshift(n):e.buffer.push(n),e.needReadable&&S(t)),x(t,e)}Object.defineProperty(b.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(t){this._readableState&&(this._readableState.destroyed=t)}}),b.prototype.destroy=m.destroy,b.prototype._undestroy=m.undestroy,b.prototype._destroy=function(t,e){this.push(null),e(t)},b.prototype.push=function(t,e){var n,r=this._readableState;return r.objectMode?n=!0:"string"==typeof t&&((e=e||r.defaultEncoding)!==r.encoding&&(t=u.from(t,e),e=""),n=!0),_(this,t,e,!1,n)},b.prototype.unshift=function(t){return _(this,t,null,!0,!1)},b.prototype.isPaused=function(){return!1===this._readableState.flowing},b.prototype.setEncoding=function(t){return d||(d=n(17).StringDecoder),this._readableState.decoder=new d(t),this._readableState.encoding=t,this};var k=8388608;function E(t,e){return t<=0||0===e.length&&e.ended?0:e.objectMode?1:t!=t?e.flowing&&e.length?e.buffer.head.data.length:e.length:(t>e.highWaterMark&&(e.highWaterMark=function(t){return t>=k?t=k:(t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t++),t}(t)),t<=e.length?t:e.ended?e.length:(e.needReadable=!0,0))}function S(t){var e=t._readableState;e.needReadable=!1,e.emittedReadable||(p("emitReadable",e.flowing),e.emittedReadable=!0,e.sync?i.nextTick(C,t):C(t))}function C(t){p("emit readable"),t.emit("readable"),O(t)}function x(t,e){e.readingMore||(e.readingMore=!0,i.nextTick(A,t,e))}function A(t,e){for(var n=e.length;!e.reading&&!e.flowing&&!e.ended&&e.length<e.highWaterMark&&(p("maybeReadMore read 0"),t.read(0),n!==e.length);)n=e.length;e.readingMore=!1}function T(t){p("readable nexttick read 0"),t.read(0)}function F(t,e){e.reading||(p("resume read 0"),t.read(0)),e.resumeScheduled=!1,e.awaitDrain=0,t.emit("resume"),O(t),e.flowing&&!e.reading&&t.read(0)}function O(t){var e=t._readableState;for(p("flow",e.flowing);e.flowing&&null!==t.read(););}function D(t,e){return 0===e.length?null:(e.objectMode?n=e.buffer.shift():!t||t>=e.length?(n=e.decoder?e.buffer.join(""):1===e.buffer.length?e.buffer.head.data:e.buffer.concat(e.length),e.buffer.clear()):n=function(t,e,n){var r;return t<e.head.data.length?(r=e.head.data.slice(0,t),e.head.data=e.head.data.slice(t)):r=t===e.head.data.length?e.shift():n?function(t,e){var n=e.head,r=1,i=n.data;for(t-=i.length;n=n.next;){var o=n.data,s=t>o.length?o.length:t;if(s===o.length?i+=o:i+=o.slice(0,t),0==(t-=s)){s===o.length?(++r,n.next?e.head=n.next:e.head=e.tail=null):(e.head=n,n.data=o.slice(s));break}++r}return e.length-=r,i}(t,e):function(t,e){var n=u.allocUnsafe(t),r=e.head,i=1;for(r.data.copy(n),t-=r.data.length;r=r.next;){var o=r.data,s=t>o.length?o.length:t;if(o.copy(n,n.length-t,0,s),0==(t-=s)){s===o.length?(++i,r.next?e.head=r.next:e.head=e.tail=null):(e.head=r,r.data=o.slice(s));break}++i}return e.length-=i,n}(t,e),r}(t,e.buffer,e.decoder),n);var n}function L(t){var e=t._readableState;if(e.length>0)throw new Error('"endReadable()" called on non-empty stream');e.endEmitted||(e.ended=!0,i.nextTick(I,e,t))}function I(t,e){t.endEmitted||0!==t.length||(t.endEmitted=!0,e.readable=!1,e.emit("end"))}function M(t,e){for(var n=0,r=t.length;n<r;n++)if(t[n]===e)return n;return-1}b.prototype.read=function(t){p("read",t),t=parseInt(t,10);var e=this._readableState,n=t;if(0!==t&&(e.emittedReadable=!1),0===t&&e.needReadable&&(e.length>=e.highWaterMark||e.ended))return p("read: emitReadable",e.length,e.ended),0===e.length&&e.ended?L(this):S(this),null;if(0===(t=E(t,e))&&e.ended)return 0===e.length&&L(this),null;var r,i=e.needReadable;return p("need readable",i),(0===e.length||e.length-t<e.highWaterMark)&&p("length less than watermark",i=!0),e.ended||e.reading?p("reading or ended",i=!1):i&&(p("do read"),e.reading=!0,e.sync=!0,0===e.length&&(e.needReadable=!0),this._read(e.highWaterMark),e.sync=!1,e.reading||(t=E(n,e))),null===(r=t>0?D(t,e):null)?(e.needReadable=!0,t=0):e.length-=t,0===e.length&&(e.ended||(e.needReadable=!0),n!==t&&e.ended&&L(this)),null!==r&&this.emit("data",r),r},b.prototype._read=function(t){this.emit("error",new Error("_read() is not implemented"))},b.prototype.pipe=function(t,e){var n=this,o=this._readableState;switch(o.pipesCount){case 0:o.pipes=t;break;case 1:o.pipes=[o.pipes,t];break;default:o.pipes.push(t)}o.pipesCount+=1,p("pipe count=%d opts=%j",o.pipesCount,e);var c=e&&!1===e.end||t===r.stdout||t===r.stderr?v:u;function u(){p("onend"),t.end()}o.endEmitted?i.nextTick(c):n.once("end",c),t.on("unpipe",(function e(r,i){p("onunpipe"),r===n&&i&&!1===i.hasUnpiped&&(i.hasUnpiped=!0,p("cleanup"),t.removeListener("close",m),t.removeListener("finish",g),t.removeListener("drain",l),t.removeListener("error",y),t.removeListener("unpipe",e),n.removeListener("end",u),n.removeListener("end",v),n.removeListener("data",d),h=!0,!o.awaitDrain||t._writableState&&!t._writableState.needDrain||l())}));var l=function(t){return function(){var e=t._readableState;p("pipeOnDrain",e.awaitDrain),e.awaitDrain&&e.awaitDrain--,0===e.awaitDrain&&a(t,"data")&&(e.flowing=!0,O(t))}}(n);t.on("drain",l);var h=!1,f=!1;function d(e){p("ondata"),f=!1,!1!==t.write(e)||f||((1===o.pipesCount&&o.pipes===t||o.pipesCount>1&&-1!==M(o.pipes,t))&&!h&&(p("false write response, pause",n._readableState.awaitDrain),n._readableState.awaitDrain++,f=!0),n.pause())}function y(e){p("onerror",e),v(),t.removeListener("error",y),0===a(t,"error")&&t.emit("error",e)}function m(){t.removeListener("finish",g),v()}function g(){p("onfinish"),t.removeListener("close",m),v()}function v(){p("unpipe"),n.unpipe(t)}return n.on("data",d),function(t,e,n){if("function"==typeof t.prependListener)return t.prependListener(e,n);t._events&&t._events[e]?s(t._events[e])?t._events[e].unshift(n):t._events[e]=[n,t._events[e]]:t.on(e,n)}(t,"error",y),t.once("close",m),t.once("finish",g),t.emit("pipe",n),o.flowing||(p("pipe resume"),n.resume()),t},b.prototype.unpipe=function(t){var e=this._readableState,n={hasUnpiped:!1};if(0===e.pipesCount)return this;if(1===e.pipesCount)return t&&t!==e.pipes||(t||(t=e.pipes),e.pipes=null,e.pipesCount=0,e.flowing=!1,t&&t.emit("unpipe",this,n)),this;if(!t){var r=e.pipes,i=e.pipesCount;e.pipes=null,e.pipesCount=0,e.flowing=!1;for(var o=0;o<i;o++)r[o].emit("unpipe",this,n);return this}var s=M(e.pipes,t);return-1===s||(e.pipes.splice(s,1),e.pipesCount-=1,1===e.pipesCount&&(e.pipes=e.pipes[0]),t.emit("unpipe",this,n)),this},b.prototype.on=function(t,e){var n=c.prototype.on.call(this,t,e);if("data"===t)!1!==this._readableState.flowing&&this.resume();else if("readable"===t){var r=this._readableState;r.endEmitted||r.readableListening||(r.readableListening=r.needReadable=!0,r.emittedReadable=!1,r.reading?r.length&&S(this):i.nextTick(T,this))}return n},b.prototype.addListener=b.prototype.on,b.prototype.resume=function(){var t=this._readableState;return t.flowing||(p("resume"),t.flowing=!0,function(t,e){e.resumeScheduled||(e.resumeScheduled=!0,i.nextTick(F,t,e))}(this,t)),this},b.prototype.pause=function(){return p("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(p("pause"),this._readableState.flowing=!1,this.emit("pause")),this},b.prototype.wrap=function(t){var e=this,n=this._readableState,r=!1;for(var i in t.on("end",(function(){if(p("wrapped end"),n.decoder&&!n.ended){var t=n.decoder.end();t&&t.length&&e.push(t)}e.push(null)})),t.on("data",(function(i){p("wrapped data"),n.decoder&&(i=n.decoder.write(i)),(!n.objectMode||null!=i)&&(n.objectMode||i&&i.length)&&(e.push(i)||(r=!0,t.pause()))})),t)void 0===this[i]&&"function"==typeof t[i]&&(this[i]=function(e){return function(){return t[e].apply(t,arguments)}}(i));for(var o=0;o<g.length;o++)t.on(g[o],this.emit.bind(this,g[o]));return this._read=function(e){p("wrapped _read",e),r&&(r=!1,t.resume())},this},Object.defineProperty(b.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),b._fromList=D}).call(this,n(4),n(2))},function(t,e,n){t.exports=n(5).EventEmitter},function(t,e,n){"use strict";var r=n(6);function i(t,e){t.emit("error",e)}t.exports={destroy:function(t,e){var n=this,o=this._readableState&&this._readableState.destroyed,s=this._writableState&&this._writableState.destroyed;return o||s?(e?e(t):!t||this._writableState&&this._writableState.errorEmitted||r.nextTick(i,this,t),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,(function(t){!e&&t?(r.nextTick(i,n,t),n._writableState&&(n._writableState.errorEmitted=!0)):e&&e(t)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},function(t,e,n){"use strict";var r=n(7).Buffer,i=r.isEncoding||function(t){switch((t=""+t)&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function o(t){var e;switch(this.encoding=function(t){var e=function(t){if(!t)return"utf8";for(var e;;)switch(t){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return t;default:if(e)return;t=(""+t).toLowerCase(),e=!0}}(t);if("string"!=typeof e&&(r.isEncoding===i||!i(t)))throw new Error("Unknown encoding: "+t);return e||t}(t),this.encoding){case"utf16le":this.text=c,this.end=u,e=4;break;case"utf8":this.fillLast=a,e=4;break;case"base64":this.text=l,this.end=h,e=3;break;default:return this.write=f,void(this.end=p)}this.lastNeed=0,this.lastTotal=0,this.lastChar=r.allocUnsafe(e)}function s(t){return t<=127?0:t>>5==6?2:t>>4==14?3:t>>3==30?4:t>>6==2?-1:-2}function a(t){var e=this.lastTotal-this.lastNeed,n=function(t,e,n){if(128!=(192&e[0]))return t.lastNeed=0,"�";if(t.lastNeed>1&&e.length>1){if(128!=(192&e[1]))return t.lastNeed=1,"�";if(t.lastNeed>2&&e.length>2&&128!=(192&e[2]))return t.lastNeed=2,"�"}}(this,t);return void 0!==n?n:this.lastNeed<=t.length?(t.copy(this.lastChar,e,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(t.copy(this.lastChar,e,0,t.length),void(this.lastNeed-=t.length))}function c(t,e){if((t.length-e)%2==0){var n=t.toString("utf16le",e);if(n){var r=n.charCodeAt(n.length-1);if(r>=55296&&r<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1],n.slice(0,-1)}return n}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=t[t.length-1],t.toString("utf16le",e,t.length-1)}function u(t){var e=t&&t.length?this.write(t):"";if(this.lastNeed){var n=this.lastTotal-this.lastNeed;return e+this.lastChar.toString("utf16le",0,n)}return e}function l(t,e){var n=(t.length-e)%3;return 0===n?t.toString("base64",e):(this.lastNeed=3-n,this.lastTotal=3,1===n?this.lastChar[0]=t[t.length-1]:(this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1]),t.toString("base64",e,t.length-n))}function h(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+this.lastChar.toString("base64",0,3-this.lastNeed):e}function f(t){return t.toString(this.encoding)}function p(t){return t&&t.length?this.write(t):""}e.StringDecoder=o,o.prototype.write=function(t){if(0===t.length)return"";var e,n;if(this.lastNeed){if(void 0===(e=this.fillLast(t)))return"";n=this.lastNeed,this.lastNeed=0}else n=0;return n<t.length?e?e+this.text(t,n):this.text(t,n):e||""},o.prototype.end=function(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+"�":e},o.prototype.text=function(t,e){var n=function(t,e,n){var r=e.length-1;if(r<n)return 0;var i=s(e[r]);return i>=0?(i>0&&(t.lastNeed=i-1),i):--r<n||-2===i?0:(i=s(e[r]))>=0?(i>0&&(t.lastNeed=i-2),i):--r<n||-2===i?0:(i=s(e[r]))>=0?(i>0&&(2===i?i=0:t.lastNeed=i-3),i):0}(this,t,e);if(!this.lastNeed)return t.toString("utf8",e);this.lastTotal=n;var r=t.length-(n-this.lastNeed);return t.copy(this.lastChar,0,r),t.toString("utf8",e,r)},o.prototype.fillLast=function(t){if(this.lastNeed<=t.length)return t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,t.length),this.lastNeed-=t.length}},function(t,e,n){"use strict";t.exports=o;var r=n(0),i=Object.create(n(3));function o(t){if(!(this instanceof o))return new o(t);r.call(this,t),this._transformState={afterTransform:function(t,e){var n=this._transformState;n.transforming=!1;var r=n.writecb;if(!r)return this.emit("error",new Error("write callback called multiple times"));n.writechunk=null,n.writecb=null,null!=e&&this.push(e),r(t);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,t&&("function"==typeof t.transform&&(this._transform=t.transform),"function"==typeof t.flush&&(this._flush=t.flush)),this.on("prefinish",s)}function s(){var t=this;"function"==typeof this._flush?this._flush((function(e,n){a(t,e,n)})):a(this,null,null)}function a(t,e,n){if(e)return t.emit("error",e);if(null!=n&&t.push(n),t._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(t._transformState.transforming)throw new Error("Calling transform done when still transforming");return t.push(null)}i.inherits=n(1),i.inherits(o,r),o.prototype.push=function(t,e){return this._transformState.needTransform=!1,r.prototype.push.call(this,t,e)},o.prototype._transform=function(t,e,n){throw new Error("_transform() is not implemented")},o.prototype._write=function(t,e,n){var r=this._transformState;if(r.writecb=n,r.writechunk=t,r.writeencoding=e,!r.transforming){var i=this._readableState;(r.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},o.prototype._read=function(t){var e=this._transformState;null!==e.writechunk&&e.writecb&&!e.transforming?(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform)):e.needTransform=!0},o.prototype._destroy=function(t,e){var n=this;r.prototype._destroy.call(this,t,(function(t){e(t),n.emit("close")}))}},function(t,e,n){"use strict";(function(t,r,i,o){Object.defineProperty(e,"__esModule",{value:!0});var s,a=n(13),c=n(10);!function(t){t[t.EPERM=1]="EPERM",t[t.ENOENT=2]="ENOENT",t[t.EIO=5]="EIO",t[t.EBADF=9]="EBADF",t[t.EACCES=13]="EACCES",t[t.EBUSY=16]="EBUSY",t[t.EEXIST=17]="EEXIST",t[t.ENOTDIR=20]="ENOTDIR",t[t.EISDIR=21]="EISDIR",t[t.EINVAL=22]="EINVAL",t[t.EFBIG=27]="EFBIG",t[t.ENOSPC=28]="ENOSPC",t[t.EROFS=30]="EROFS",t[t.ENOTEMPTY=39]="ENOTEMPTY",t[t.ENOTSUP=95]="ENOTSUP"}(s||(s={}));var u={};u[s.EPERM]="Operation not permitted.",u[s.ENOENT]="No such file or directory.",u[s.EIO]="Input/output error.",u[s.EBADF]="Bad file descriptor.",u[s.EACCES]="Permission denied.",u[s.EBUSY]="Resource busy or locked.",u[s.EEXIST]="File exists.",u[s.ENOTDIR]="File is not a directory.",u[s.EISDIR]="File is a directory.",u[s.EINVAL]="Invalid argument.",u[s.EFBIG]="File is too big.",u[s.ENOSPC]="No space left on disk.",u[s.EROFS]="Cannot modify a read-only file system.",u[s.ENOTEMPTY]="Directory is not empty.",u[s.ENOTSUP]="Operation is not supported.";var l,h=function(e){function n(t,n,r){void 0===n&&(n=u[t]),e.call(this,n),this.syscall="",this.errno=t,this.code=s[t],this.path=r,this.stack=(new e).stack,this.message="Error: "+this.code+": "+n+(this.path?", '"+this.path+"'":"")}return e&&(n.__proto__=e),n.prototype=Object.create(e&&e.prototype),n.prototype.constructor=n,n.fromJSON=function(t){var e=new n(0);return e.errno=t.errno,e.code=t.code,e.path=t.path,e.stack=t.stack,e.message=t.message,e},n.fromBuffer=function(t,e){return void 0===e&&(e=0),n.fromJSON(JSON.parse(t.toString("utf8",e+4,e+4+t.readUInt32LE(e))))},n.FileError=function(t,e){return new n(t,u[t],e)},n.ENOENT=function(t){return this.FileError(s.ENOENT,t)},n.EEXIST=function(t){return this.FileError(s.EEXIST,t)},n.EISDIR=function(t){return this.FileError(s.EISDIR,t)},n.ENOTDIR=function(t){return this.FileError(s.ENOTDIR,t)},n.EPERM=function(t){return this.FileError(s.EPERM,t)},n.ENOTEMPTY=function(t){return this.FileError(s.ENOTEMPTY,t)},n.prototype.toString=function(){return this.message},n.prototype.toJSON=function(){return{errno:this.errno,code:this.code,path:this.path,stack:this.stack,message:this.message}},n.prototype.writeToBuffer=function(e,n){void 0===e&&(e=t.alloc(this.bufferSize())),void 0===n&&(n=0);var r=e.write(JSON.stringify(this.toJSON()),n+4);return e.writeUInt32LE(r,n),e},n.prototype.bufferSize=function(){return 4+t.byteLength(JSON.stringify(this.toJSON()))},n}(Error),f=Object.freeze({get ErrorCode(){return s},ErrorStrings:u,ApiError:h});!function(t){t[t.NOP=0]="NOP",t[t.THROW_EXCEPTION=1]="THROW_EXCEPTION",t[t.TRUNCATE_FILE=2]="TRUNCATE_FILE",t[t.CREATE_FILE=3]="CREATE_FILE"}(l||(l={}));var p,d=function t(e){if(this.flagStr=e,t.validFlagStrs.indexOf(e)<0)throw new h(s.EINVAL,"Invalid flag: "+e)};d.getFileFlag=function(t){return d.flagCache.hasOwnProperty(t)?d.flagCache[t]:d.flagCache[t]=new d(t)},d.prototype.getFlagString=function(){return this.flagStr},d.prototype.isReadable=function(){return-1!==this.flagStr.indexOf("r")||-1!==this.flagStr.indexOf("+")},d.prototype.isWriteable=function(){return-1!==this.flagStr.indexOf("w")||-1!==this.flagStr.indexOf("a")||-1!==this.flagStr.indexOf("+")},d.prototype.isTruncating=function(){return-1!==this.flagStr.indexOf("w")},d.prototype.isAppendable=function(){return-1!==this.flagStr.indexOf("a")},d.prototype.isSynchronous=function(){return-1!==this.flagStr.indexOf("s")},d.prototype.isExclusive=function(){return-1!==this.flagStr.indexOf("x")},d.prototype.pathExistsAction=function(){return this.isExclusive()?l.THROW_EXCEPTION:this.isTruncating()?l.TRUNCATE_FILE:l.NOP},d.prototype.pathNotExistsAction=function(){return(this.isWriteable()||this.isAppendable())&&"r+"!==this.flagStr?l.CREATE_FILE:l.THROW_EXCEPTION},d.flagCache={},d.validFlagStrs=["r","r+","rs","rs+","w","wx","w+","wx+","a","ax","a+","ax+"],function(t){t[t.FILE=32768]="FILE",t[t.DIRECTORY=16384]="DIRECTORY",t[t.SYMLINK=40960]="SYMLINK"}(p||(p={}));var y=function(t,e,n,r,i,o,s){this.dev=0,this.ino=0,this.rdev=0,this.nlink=1,this.blksize=4096,this.uid=0,this.gid=0,this.fileData=null,this.size=e;var a=0;if("number"!=typeof r&&(r=a=Date.now()),"number"!=typeof i&&(a||(a=Date.now()),i=a),"number"!=typeof o&&(a||(a=Date.now()),o=a),"number"!=typeof s&&(a||(a=Date.now()),s=a),this.atimeMs=r,this.ctimeMs=o,this.mtimeMs=i,this.birthtimeMs=s,n)this.mode=n;else switch(t){case p.FILE:this.mode=420;break;case p.DIRECTORY:default:this.mode=511}this.blocks=Math.ceil(e/512),this.mode<4096&&(this.mode|=t)},m={atime:{configurable:!0},mtime:{configurable:!0},ctime:{configurable:!0},birthtime:{configurable:!0}};y.fromBuffer=function(t){var e=t.readUInt32LE(0),n=t.readUInt32LE(4),r=t.readDoubleLE(8),i=t.readDoubleLE(16),o=t.readDoubleLE(24);return new y(61440&n,e,4095&n,r,i,o)},y.clone=function(t){return new y(61440&t.mode,t.size,4095&t.mode,t.atimeMs,t.mtimeMs,t.ctimeMs,t.birthtimeMs)},m.atime.get=function(){return new Date(this.atimeMs)},m.mtime.get=function(){return new Date(this.mtimeMs)},m.ctime.get=function(){return new Date(this.ctimeMs)},m.birthtime.get=function(){return new Date(this.birthtimeMs)},y.prototype.toBuffer=function(){var e=t.alloc(32);return e.writeUInt32LE(this.size,0),e.writeUInt32LE(this.mode,4),e.writeDoubleLE(this.atime.getTime(),8),e.writeDoubleLE(this.mtime.getTime(),16),e.writeDoubleLE(this.ctime.getTime(),24),e},y.prototype.isFile=function(){return(61440&this.mode)===p.FILE},y.prototype.isDirectory=function(){return(61440&this.mode)===p.DIRECTORY},y.prototype.isSymbolicLink=function(){return(61440&this.mode)===p.SYMLINK},y.prototype.chmod=function(t){this.mode=61440&this.mode|t},y.prototype.isSocket=function(){return!1},y.prototype.isBlockDevice=function(){return!1},y.prototype.isCharacterDevice=function(){return!1},y.prototype.isFIFO=function(){return!1},Object.defineProperties(y.prototype,m);var g,v="undefined"!=typeof window?window:"undefined"!=typeof self?self:r;if("undefined"!=typeof setImmediate)g=setImmediate;else{var b=v,_=[];if(function(){if(void 0!==b.importScripts||!b.postMessage)return!1;var t=!0,e=b.onmessage;return b.onmessage=function(){t=!1},b.postMessage("","*"),b.onmessage=e,t}()){g=function(t){_.push(t),b.postMessage("zero-timeout-message","*")};var w=function(t){if(t.source===self&&"zero-timeout-message"===t.data&&(t.stopPropagation?t.stopPropagation():t.cancelBubble=!0,_.length>0))return _.shift()()};b.addEventListener?b.addEventListener("message",w,!0):b.attachEvent("onmessage",w)}else if(b.MessageChannel){var k=new b.MessageChannel;k.port1.onmessage=function(t){if(_.length>0)return _.shift()()},g=function(t){_.push(t),k.port2.postMessage("")}}else g=function(t){return setTimeout(t,0)}}var E=g,S=function(t,e){return t};function C(t,e){if("function"!=typeof t)throw new Error("Callback must be a function.");var n=S(t,e);switch(e){case 1:return function(t){E((function(){return n(t)}))};case 2:return function(t,e){E((function(){return n(t,e)}))};case 3:return function(t,e,r){E((function(){return n(t,e,r)}))};default:throw new Error("Invalid invocation of wrapCb.")}}function x(t){if(t)return t;throw new h(s.EIO,"Initialize BrowserFS with a file system using BrowserFS.initialize(filesystem)")}function A(t,e){switch(typeof t){case"number":return t;case"string":var n=parseInt(t,8);return isNaN(n)?e:n;default:return e}}function T(t){if(t instanceof Date)return t;if("number"==typeof t)return new Date(1e3*t);throw new h(s.EINVAL,"Invalid time.")}function F(t){if(t.indexOf("\0")>=0)throw new h(s.EINVAL,"Path must be a string without null bytes.");if(""===t)throw new h(s.EINVAL,"Path must not be empty.");return a.resolve(t)}function O(t,e,n,r){switch(null===t?"null":typeof t){case"object":return{encoding:void 0!==t.encoding?t.encoding:e,flag:void 0!==t.flag?t.flag:n,mode:A(t.mode,r)};case"string":return{encoding:t,flag:n,mode:r};case"null":case"undefined":case"function":return{encoding:e,flag:n,mode:r};default:throw new TypeError('"options" must be a string or an object, got '+typeof t+" instead.")}}function D(){}var L=function(){this.F_OK=0,this.R_OK=4,this.W_OK=2,this.X_OK=1,this.root=null,this.fdMap={},this.nextFd=100};L.prototype.initialize=function(t){if(!t.constructor.isAvailable())throw new h(s.EINVAL,"Tried to instantiate BrowserFS with an unavailable file system.");return this.root=t},L.prototype._toUnixTimestamp=function(t){if("number"==typeof t)return t;if(t instanceof Date)return t.getTime()/1e3;throw new Error("Cannot parse time: "+t)},L.prototype.getRootFS=function(){return this.root?this.root:null},L.prototype.rename=function(t,e,n){void 0===n&&(n=D);var r=C(n,1);try{x(this.root).rename(F(t),F(e),r)}catch(t){r(t)}},L.prototype.renameSync=function(t,e){x(this.root).renameSync(F(t),F(e))},L.prototype.exists=function(t,e){void 0===e&&(e=D);var n=C(e,1);try{return x(this.root).exists(F(t),n)}catch(t){return n(!1)}},L.prototype.existsSync=function(t){try{return x(this.root).existsSync(F(t))}catch(t){return!1}},L.prototype.stat=function(t,e){void 0===e&&(e=D);var n=C(e,2);try{return x(this.root).stat(F(t),!1,n)}catch(t){return n(t)}},L.prototype.statSync=function(t){return x(this.root).statSync(F(t),!1)},L.prototype.lstat=function(t,e){void 0===e&&(e=D);var n=C(e,2);try{return x(this.root).stat(F(t),!0,n)}catch(t){return n(t)}},L.prototype.lstatSync=function(t){return x(this.root).statSync(F(t),!0)},L.prototype.truncate=function(t,e,n){void 0===e&&(e=0),void 0===n&&(n=D);var r=0;"function"==typeof e?n=e:"number"==typeof e&&(r=e);var i=C(n,1);try{if(r<0)throw new h(s.EINVAL);return x(this.root).truncate(F(t),r,i)}catch(t){return i(t)}},L.prototype.truncateSync=function(t,e){if(void 0===e&&(e=0),e<0)throw new h(s.EINVAL);return x(this.root).truncateSync(F(t),e)},L.prototype.unlink=function(t,e){void 0===e&&(e=D);var n=C(e,1);try{return x(this.root).unlink(F(t),n)}catch(t){return n(t)}},L.prototype.unlinkSync=function(t){return x(this.root).unlinkSync(F(t))},L.prototype.open=function(t,e,n,r){var i=this;void 0===r&&(r=D);var o=A(n,420),s=C(r="function"==typeof n?n:r,2);try{x(this.root).open(F(t),d.getFileFlag(e),o,(function(t,e){e?s(t,i.getFdForFile(e)):s(t)}))}catch(t){s(t)}},L.prototype.openSync=function(t,e,n){return void 0===n&&(n=420),this.getFdForFile(x(this.root).openSync(F(t),d.getFileFlag(e),A(n,420)))},L.prototype.readFile=function(t,e,n){void 0===e&&(e={}),void 0===n&&(n=D);var r=O(e,null,"r",null),i=C(n="function"==typeof e?e:n,2);try{var o=d.getFileFlag(r.flag);return o.isReadable()?x(this.root).readFile(F(t),r.encoding,o,i):i(new h(s.EINVAL,"Flag passed to readFile must allow for reading."))}catch(t){return i(t)}},L.prototype.readFileSync=function(t,e){void 0===e&&(e={});var n=O(e,null,"r",null),r=d.getFileFlag(n.flag);if(!r.isReadable())throw new h(s.EINVAL,"Flag passed to readFile must allow for reading.");return x(this.root).readFileSync(F(t),n.encoding,r)},L.prototype.writeFile=function(t,e,n,r){void 0===n&&(n={}),void 0===r&&(r=D);var i=O(n,"utf8","w",420),o=C(r="function"==typeof n?n:r,1);try{var a=d.getFileFlag(i.flag);return a.isWriteable()?x(this.root).writeFile(F(t),e,i.encoding,a,i.mode,o):o(new h(s.EINVAL,"Flag passed to writeFile must allow for writing."))}catch(t){return o(t)}},L.prototype.writeFileSync=function(t,e,n){var r=O(n,"utf8","w",420),i=d.getFileFlag(r.flag);if(!i.isWriteable())throw new h(s.EINVAL,"Flag passed to writeFile must allow for writing.");return x(this.root).writeFileSync(F(t),e,r.encoding,i,r.mode)},L.prototype.appendFile=function(t,e,n,r){void 0===r&&(r=D);var i=O(n,"utf8","a",420),o=C(r="function"==typeof n?n:r,1);try{var a=d.getFileFlag(i.flag);if(!a.isAppendable())return o(new h(s.EINVAL,"Flag passed to appendFile must allow for appending."));x(this.root).appendFile(F(t),e,i.encoding,a,i.mode,o)}catch(t){o(t)}},L.prototype.appendFileSync=function(t,e,n){var r=O(n,"utf8","a",420),i=d.getFileFlag(r.flag);if(!i.isAppendable())throw new h(s.EINVAL,"Flag passed to appendFile must allow for appending.");return x(this.root).appendFileSync(F(t),e,r.encoding,i,r.mode)},L.prototype.fstat=function(t,e){void 0===e&&(e=D);var n=C(e,2);try{this.fd2file(t).stat(n)}catch(t){n(t)}},L.prototype.fstatSync=function(t){return this.fd2file(t).statSync()},L.prototype.close=function(t,e){var n=this;void 0===e&&(e=D);var r=C(e,1);try{this.fd2file(t).close((function(e){e||n.closeFd(t),r(e)}))}catch(t){r(t)}},L.prototype.closeSync=function(t){this.fd2file(t).closeSync(),this.closeFd(t)},L.prototype.ftruncate=function(t,e,n){void 0===n&&(n=D);var r="number"==typeof e?e:0,i=C(n="function"==typeof e?e:n,1);try{var o=this.fd2file(t);if(r<0)throw new h(s.EINVAL);o.truncate(r,i)}catch(t){i(t)}},L.prototype.ftruncateSync=function(t,e){void 0===e&&(e=0);var n=this.fd2file(t);if(e<0)throw new h(s.EINVAL);n.truncateSync(e)},L.prototype.fsync=function(t,e){void 0===e&&(e=D);var n=C(e,1);try{this.fd2file(t).sync(n)}catch(t){n(t)}},L.prototype.fsyncSync=function(t){this.fd2file(t).syncSync()},L.prototype.fdatasync=function(t,e){void 0===e&&(e=D);var n=C(e,1);try{this.fd2file(t).datasync(n)}catch(t){n(t)}},L.prototype.fdatasyncSync=function(t){this.fd2file(t).datasyncSync()},L.prototype.write=function(e,n,r,i,o,a){void 0===a&&(a=D);var c,u,l,f=null;if("string"==typeof n){var p="utf8";switch(typeof r){case"function":a=r;break;case"number":f=r,p="string"==typeof i?i:"utf8",a="function"==typeof o?o:a;break;default:return(a="function"==typeof i?i:"function"==typeof o?o:a)(new h(s.EINVAL,"Invalid arguments."))}u=0,l=(c=t.from(n,p)).length}else c=n,u=r,l=i,f="number"==typeof o?o:null,a="function"==typeof o?o:a;var d=C(a,3);try{var y=this.fd2file(e);null!=f||(f=y.getPos()),y.write(c,u,l,f,d)}catch(t){d(t)}},L.prototype.writeSync=function(e,n,r,i,o){var s,a,c,u=0;if("string"==typeof n){c="number"==typeof r?r:null;var l="string"==typeof i?i:"utf8";u=0,a=(s=t.from(n,l)).length}else s=n,u=r,a=i,c="number"==typeof o?o:null;var h=this.fd2file(e);return null!=c||(c=h.getPos()),h.writeSync(s,u,a,c)},L.prototype.read=function(e,n,r,i,o,s){var a,c,u,l,h;if(void 0===s&&(s=D),"number"==typeof n){u=n,a=r;var f=i;s="function"==typeof o?o:s,c=0,l=t.alloc(u),h=C((function(t,e,n){if(t)return s(t);s(t,n.toString(f),e)}),3)}else l=n,c=r,u=i,a=o,h=C(s,3);try{var p=this.fd2file(e);null!=a||(a=p.getPos()),p.read(l,c,u,a,h)}catch(t){h(t)}},L.prototype.readSync=function(e,n,r,i,o){var s,a,c,u,l=!1,h="utf8";"number"==typeof n?(c=n,u=r,h=i,a=0,s=t.alloc(c),l=!0):(s=n,a=r,c=i,u=o);var f=this.fd2file(e);null!=u||(u=f.getPos());var p=f.readSync(s,a,c,u);return l?[s.toString(h),p]:p},L.prototype.fchown=function(t,e,n,r){void 0===r&&(r=D);var i=C(r,1);try{this.fd2file(t).chown(e,n,i)}catch(t){i(t)}},L.prototype.fchownSync=function(t,e,n){this.fd2file(t).chownSync(e,n)},L.prototype.fchmod=function(t,e,n){var r=C(n,1);try{var i="string"==typeof e?parseInt(e,8):e;this.fd2file(t).chmod(i,r)}catch(t){r(t)}},L.prototype.fchmodSync=function(t,e){var n="string"==typeof e?parseInt(e,8):e;this.fd2file(t).chmodSync(n)},L.prototype.futimes=function(t,e,n,r){void 0===r&&(r=D);var i=C(r,1);try{var o=this.fd2file(t);"number"==typeof e&&(e=new Date(1e3*e)),"number"==typeof n&&(n=new Date(1e3*n)),o.utimes(e,n,i)}catch(t){i(t)}},L.prototype.futimesSync=function(t,e,n){this.fd2file(t).utimesSync(T(e),T(n))},L.prototype.rmdir=function(t,e){void 0===e&&(e=D);var n=C(e,1);try{t=F(t),x(this.root).rmdir(t,n)}catch(t){n(t)}},L.prototype.rmdirSync=function(t){return t=F(t),x(this.root).rmdirSync(t)},L.prototype.mkdir=function(t,e,n){void 0===n&&(n=D),"function"==typeof e&&(n=e,e=511);var r=C(n,1);try{t=F(t),x(this.root).mkdir(t,e,r)}catch(t){r(t)}},L.prototype.mkdirSync=function(t,e){x(this.root).mkdirSync(F(t),A(e,511))},L.prototype.readdir=function(t,e){void 0===e&&(e=D);var n=C(e,2);try{t=F(t),x(this.root).readdir(t,n)}catch(t){n(t)}},L.prototype.readdirSync=function(t){return t=F(t),x(this.root).readdirSync(t)},L.prototype.link=function(t,e,n){void 0===n&&(n=D);var r=C(n,1);try{t=F(t),e=F(e),x(this.root).link(t,e,r)}catch(t){r(t)}},L.prototype.linkSync=function(t,e){return t=F(t),e=F(e),x(this.root).linkSync(t,e)},L.prototype.symlink=function(t,e,n,r){void 0===r&&(r=D);var i="string"==typeof n?n:"file",o=C(r="function"==typeof n?n:r,1);try{if("file"!==i&&"dir"!==i)return o(new h(s.EINVAL,"Invalid type: "+i));t=F(t),e=F(e),x(this.root).symlink(t,e,i,o)}catch(t){o(t)}},L.prototype.symlinkSync=function(t,e,n){if(n){if("file"!==n&&"dir"!==n)throw new h(s.EINVAL,"Invalid type: "+n)}else n="file";return t=F(t),e=F(e),x(this.root).symlinkSync(t,e,n)},L.prototype.readlink=function(t,e){void 0===e&&(e=D);var n=C(e,2);try{t=F(t),x(this.root).readlink(t,n)}catch(t){n(t)}},L.prototype.readlinkSync=function(t){return t=F(t),x(this.root).readlinkSync(t)},L.prototype.chown=function(t,e,n,r){void 0===r&&(r=D);var i=C(r,1);try{t=F(t),x(this.root).chown(t,!1,e,n,i)}catch(t){i(t)}},L.prototype.chownSync=function(t,e,n){t=F(t),x(this.root).chownSync(t,!1,e,n)},L.prototype.lchown=function(t,e,n,r){void 0===r&&(r=D);var i=C(r,1);try{t=F(t),x(this.root).chown(t,!0,e,n,i)}catch(t){i(t)}},L.prototype.lchownSync=function(t,e,n){t=F(t),x(this.root).chownSync(t,!0,e,n)},L.prototype.chmod=function(t,e,n){void 0===n&&(n=D);var r=C(n,1);try{var i=A(e,-1);if(i<0)throw new h(s.EINVAL,"Invalid mode.");x(this.root).chmod(F(t),!1,i,r)}catch(t){r(t)}},L.prototype.chmodSync=function(t,e){var n=A(e,-1);if(n<0)throw new h(s.EINVAL,"Invalid mode.");t=F(t),x(this.root).chmodSync(t,!1,n)},L.prototype.lchmod=function(t,e,n){void 0===n&&(n=D);var r=C(n,1);try{var i=A(e,-1);if(i<0)throw new h(s.EINVAL,"Invalid mode.");x(this.root).chmod(F(t),!0,i,r)}catch(t){r(t)}},L.prototype.lchmodSync=function(t,e){var n=A(e,-1);if(n<1)throw new h(s.EINVAL,"Invalid mode.");x(this.root).chmodSync(F(t),!0,n)},L.prototype.utimes=function(t,e,n,r){void 0===r&&(r=D);var i=C(r,1);try{x(this.root).utimes(F(t),T(e),T(n),i)}catch(t){i(t)}},L.prototype.utimesSync=function(t,e,n){x(this.root).utimesSync(F(t),T(e),T(n))},L.prototype.realpath=function(t,e,n){void 0===n&&(n=D);var r="object"==typeof e?e:{},i=C(n="function"==typeof e?e:D,2);try{t=F(t),x(this.root).realpath(t,r,i)}catch(t){i(t)}},L.prototype.realpathSync=function(t,e){return void 0===e&&(e={}),t=F(t),x(this.root).realpathSync(t,e)},L.prototype.watchFile=function(t,e,n){throw void 0===n&&(n=D),new h(s.ENOTSUP)},L.prototype.unwatchFile=function(t,e){throw void 0===e&&(e=D),new h(s.ENOTSUP)},L.prototype.watch=function(t,e,n){throw void 0===n&&(n=D),new h(s.ENOTSUP)},L.prototype.access=function(t,e,n){throw void 0===n&&(n=D),new h(s.ENOTSUP)},L.prototype.accessSync=function(t,e){throw new h(s.ENOTSUP)},L.prototype.createReadStream=function(t,e){throw new h(s.ENOTSUP)},L.prototype.createWriteStream=function(t,e){throw new h(s.ENOTSUP)},L.prototype.wrapCallbacks=function(t){S=t},L.prototype.getFdForFile=function(t){var e=this.nextFd++;return this.fdMap[e]=t,e},L.prototype.fd2file=function(t){var e=this.fdMap[t];if(e)return e;throw new h(s.EBADF,"Invalid file descriptor.")},L.prototype.closeFd=function(t){delete this.fdMap[t]},L.Stats=y;var I=new L,M={},N=L.prototype;function R(t,e,n,r,i){return t<e||n<e?t>n?n+1:t+1:r===i?e:e+1}Object.keys(N).forEach((function(t){"function"==typeof I[t]?M[t]=function(){return I[t].apply(I,arguments)}:M[t]=I[t]})),M.changeFSModule=function(t){I=t},M.getFSModule=function(){return I},M.FS=L,M.Stats=L.Stats;var P="undefined"!=typeof navigator&&!(!/(msie) ([\w.]+)/.exec(navigator.userAgent.toLowerCase())&&-1===navigator.userAgent.indexOf("Trident")),B="undefined"==typeof window;function j(){throw new Error("BFS has reached an impossible code path; please file a bug.")}function z(t,e,n){n.existsSync(t)||(z(a.dirname(t),e,n),n.mkdirSync(t,e))}function U(t){var e=q(t),n=e.byteOffset,r=e.byteLength;return 0===n&&r===e.buffer.byteLength?e.buffer:e.buffer.slice(n,n+r)}function q(t){return t instanceof Uint8Array?t:new Uint8Array(t)}function H(e){return e instanceof t?e:e instanceof Uint8Array?V(e):t.from(e)}function V(e){return e instanceof t?e:0===e.byteOffset&&e.byteLength===e.buffer.byteLength?W(e.buffer):t.from(e.buffer,e.byteOffset,e.byteLength)}function W(e){return t.from(e)}function Y(t,e,n){if(void 0===e&&(e=0),void 0===n&&(n=t.length),e<0||n<0||n>t.length||e>n)throw new TypeError("Invalid slice bounds on buffer of length "+t.length+": ["+e+", "+n+"]");if(0===t.length)return X();var r=q(t),i=t[0],o=(i+1)%255;return t[0]=o,r[0]===o?(r[0]=i,V(r.slice(e,n))):(t[0]=i,V(r.subarray(e,n)))}var Z=null;function X(){return Z||(Z=t.alloc(0))}function G(e,n){t.isBuffer(e)?n():n(new h(s.EINVAL,"option must be a Buffer."))}function $(t,e,n){var r=t.Options,i=t.Name,o=0,a=!1,c=!1;function u(t){a||(t&&(a=!0,n(t)),0==--o&&c&&n())}var l=function(t){if(r.hasOwnProperty(t)){var c=r[t],l=e[t];if(null==l){if(!c.optional){var f=Object.keys(e).filter((function(t){return!(t in r)})).map((function(e){return{str:e,distance:function(t,e){if(t===e)return 0;if(t.length>e.length){var n=t;t=e,e=n}for(var r=t.length,i=e.length;r>0&&t.charCodeAt(r-1)===e.charCodeAt(i-1);)r--,i--;for(var o=0;o<r&&t.charCodeAt(o)===e.charCodeAt(o);)o++;if(i-=o,0==(r-=o)||1===i)return i;for(var s,a,c,u,l,h=new Array(r<<1),f=0;f<r;)h[r+f]=t.charCodeAt(o+f),h[f]=++f;for(s=0;s+3<i;)for(var p=e.charCodeAt(o+(a=s)),d=e.charCodeAt(o+(c=s+1)),y=e.charCodeAt(o+(u=s+2)),m=e.charCodeAt(o+(l=s+3)),g=s+=4,v=0;v<r;){var b=h[r+v],_=h[v];g=R(u=R(c=R(a=R(_,a,c,p,b),c,u,d,b),u,l,y,b),l,g,m,b),h[v++]=g,l=u,u=c,c=a,a=_}for(var w=0;s<i;){var k=e.charCodeAt(o+(a=s));w=++s;for(var E=0;E<r;E++){var S=h[E];h[E]=w=S<a||w<a?S>w?w+1:S+1:k===h[r+E]?a:a+1,a=S}}return w}(t,e)}})).filter((function(t){return t.distance<5})).sort((function(t,e){return t.distance-e.distance}));return a?{}:(a=!0,{v:n(new h(s.EINVAL,"["+i+"] Required option '"+t+"' not provided."+(f.length>0?" You provided unrecognized option '"+f[0].str+"'; perhaps you meant to type '"+t+"'.":"")+"\nOption description: "+c.description))})}}else{if(!(Array.isArray(c.type)?-1!==c.type.indexOf(typeof l):typeof l===c.type))return a?{}:(a=!0,{v:n(new h(s.EINVAL,"["+i+"] Value provided for option "+t+" is not the proper type. Expected "+(Array.isArray(c.type)?"one of {"+c.type.join(", ")+"}":c.type)+", but received "+typeof l+"\nOption description: "+c.description))});c.validator&&(o++,c.validator(l,u))}}};for(var f in r){var p=l(f);if(p)return p.v}c=!0,0!==o||a||n()}var J=Object.freeze({deprecationMessage:function(t,e,n){t&&console.warn("["+e+"] Direct file system constructor usage is deprecated for this file system, and will be removed in the next major version. Please use the '"+e+".Create("+JSON.stringify(n)+", callback)' method instead. See https://github.com/jvilk/BrowserFS/issues/176 for more details.")},isIE:P,isWebWorker:B,fail:j,mkdirpSync:z,buffer2ArrayBuffer:U,buffer2Uint8array:q,arrayish2Buffer:H,uint8Array2Buffer:V,arrayBuffer2Buffer:W,copyingSlice:Y,emptyBuffer:X,bufferValidator:G,checkOptions:$}),K=function(t){this.fs=t,this.nodefs=t.getNodeFS(),this.FS=t.getFS(),this.PATH=t.getPATH(),this.ERRNO_CODES=t.getERRNO_CODES()};K.prototype.open=function(t){var e=this.fs.realPath(t.node),n=this.FS;try{n.isFile(t.node.mode)&&(t.nfd=this.nodefs.openSync(e,this.fs.flagsToPermissionString(t.flags)))}catch(t){if(!t.code)throw t;throw new n.ErrnoError(this.ERRNO_CODES[t.code])}},K.prototype.close=function(t){var e=this.FS;try{e.isFile(t.node.mode)&&t.nfd&&this.nodefs.closeSync(t.nfd)}catch(t){if(!t.code)throw t;throw new e.ErrnoError(this.ERRNO_CODES[t.code])}},K.prototype.read=function(t,e,n,r,i){try{return this.nodefs.readSync(t.nfd,V(e),n,r,i)}catch(t){throw new this.FS.ErrnoError(this.ERRNO_CODES[t.code])}},K.prototype.write=function(t,e,n,r,i){try{return this.nodefs.writeSync(t.nfd,V(e),n,r,i)}catch(t){throw new this.FS.ErrnoError(this.ERRNO_CODES[t.code])}},K.prototype.llseek=function(t,e,n){var r=e;if(1===n)r+=t.position;else if(2===n&&this.FS.isFile(t.node.mode))try{r+=this.nodefs.fstatSync(t.nfd).size}catch(t){throw new this.FS.ErrnoError(this.ERRNO_CODES[t.code])}if(r<0)throw new this.FS.ErrnoError(this.ERRNO_CODES.EINVAL);return t.position=r,r};var Q=function(t){this.fs=t,this.nodefs=t.getNodeFS(),this.FS=t.getFS(),this.PATH=t.getPATH(),this.ERRNO_CODES=t.getERRNO_CODES()};Q.prototype.getattr=function(t){var e,n=this.fs.realPath(t);try{e=this.nodefs.lstatSync(n)}catch(t){if(!t.code)throw t;throw new this.FS.ErrnoError(this.ERRNO_CODES[t.code])}return{dev:e.dev,ino:e.ino,mode:e.mode,nlink:e.nlink,uid:e.uid,gid:e.gid,rdev:e.rdev,size:e.size,atime:e.atime,mtime:e.mtime,ctime:e.ctime,blksize:e.blksize,blocks:e.blocks}},Q.prototype.setattr=function(t,e){var n=this.fs.realPath(t);try{if(void 0!==e.mode&&(this.nodefs.chmodSync(n,e.mode),t.mode=e.mode),void 0!==e.timestamp){var r=new Date(e.timestamp);this.nodefs.utimesSync(n,r,r)}}catch(t){if(!t.code)throw t;if("ENOTSUP"!==t.code)throw new this.FS.ErrnoError(this.ERRNO_CODES[t.code])}if(void 0!==e.size)try{this.nodefs.truncateSync(n,e.size)}catch(t){if(!t.code)throw t;throw new this.FS.ErrnoError(this.ERRNO_CODES[t.code])}},Q.prototype.lookup=function(t,e){var n=this.PATH.join2(this.fs.realPath(t),e),r=this.fs.getMode(n);return this.fs.createNode(t,e,r)},Q.prototype.mknod=function(t,e,n,r){var i=this.fs.createNode(t,e,n,r),o=this.fs.realPath(i);try{this.FS.isDir(i.mode)?this.nodefs.mkdirSync(o,i.mode):this.nodefs.writeFileSync(o,"",{mode:i.mode})}catch(t){if(!t.code)throw t;throw new this.FS.ErrnoError(this.ERRNO_CODES[t.code])}return i},Q.prototype.rename=function(t,e,n){var r=this.fs.realPath(t),i=this.PATH.join2(this.fs.realPath(e),n);try{this.nodefs.renameSync(r,i),t.name=n,t.parent=e}catch(t){if(!t.code)throw t;throw new this.FS.ErrnoError(this.ERRNO_CODES[t.code])}},Q.prototype.unlink=function(t,e){var n=this.PATH.join2(this.fs.realPath(t),e);try{this.nodefs.unlinkSync(n)}catch(t){if(!t.code)throw t;throw new this.FS.ErrnoError(this.ERRNO_CODES[t.code])}},Q.prototype.rmdir=function(t,e){var n=this.PATH.join2(this.fs.realPath(t),e);try{this.nodefs.rmdirSync(n)}catch(t){if(!t.code)throw t;throw new this.FS.ErrnoError(this.ERRNO_CODES[t.code])}},Q.prototype.readdir=function(t){var e=this.fs.realPath(t);try{var n=this.nodefs.readdirSync(e);return n.push(".",".."),n}catch(t){if(!t.code)throw t;throw new this.FS.ErrnoError(this.ERRNO_CODES[t.code])}},Q.prototype.symlink=function(t,e,n){var r=this.PATH.join2(this.fs.realPath(t),e);try{this.nodefs.symlinkSync(n,r)}catch(t){if(!t.code)throw t;throw new this.FS.ErrnoError(this.ERRNO_CODES[t.code])}},Q.prototype.readlink=function(t){var e=this.fs.realPath(t);try{return this.nodefs.readlinkSync(e)}catch(t){if(!t.code)throw t;throw new this.FS.ErrnoError(this.ERRNO_CODES[t.code])}};var tt=function(t,e,n,r){void 0===t&&(t=self.FS),void 0===e&&(e=self.PATH),void 0===n&&(n=self.ERRNO_CODES),void 0===r&&(r=M),this.flagsToPermissionStringMap={0:"r",1:"r+",2:"r+",64:"r",65:"r+",66:"r+",129:"rx+",193:"rx+",514:"w+",577:"w",578:"w+",705:"wx",706:"wx+",1024:"a",1025:"a",1026:"a+",1089:"a",1090:"a+",1153:"ax",1154:"ax+",1217:"ax",1218:"ax+",4096:"rs",4098:"rs+"},this.nodefs=r,this.FS=t,this.PATH=e,this.ERRNO_CODES=n,this.node_ops=new Q(this),this.stream_ops=new K(this)};tt.prototype.mount=function(t){return this.createNode(null,"/",this.getMode(t.opts.root),0)},tt.prototype.createNode=function(t,e,n,r){var i=this.FS;if(!i.isDir(n)&&!i.isFile(n)&&!i.isLink(n))throw new i.ErrnoError(this.ERRNO_CODES.EINVAL);var o=i.createNode(t,e,n);return o.node_ops=this.node_ops,o.stream_ops=this.stream_ops,o},tt.prototype.getMode=function(t){var e;try{e=this.nodefs.lstatSync(t)}catch(t){if(!t.code)throw t;throw new this.FS.ErrnoError(this.ERRNO_CODES[t.code])}return e.mode},tt.prototype.realPath=function(t){for(var e=[];t.parent!==t;)e.push(t.name),t=t.parent;return e.push(t.mount.opts.root),e.reverse(),this.PATH.join.apply(null,e)},tt.prototype.flagsToPermissionString=function(t){var e="string"==typeof t?parseInt(t,10):t;return(e&=8191)in this.flagsToPermissionStringMap?this.flagsToPermissionStringMap[e]:t},tt.prototype.getNodeFS=function(){return this.nodefs},tt.prototype.getFS=function(){return this.FS},tt.prototype.getPATH=function(){return this.PATH},tt.prototype.getERRNO_CODES=function(){return this.ERRNO_CODES};var et=function(){};et.prototype.supportsLinks=function(){return!1},et.prototype.diskSpace=function(t,e){e(0,0)},et.prototype.openFile=function(t,e,n){throw new h(s.ENOTSUP)},et.prototype.createFile=function(t,e,n,r){throw new h(s.ENOTSUP)},et.prototype.open=function(t,e,n,r){var i=this;this.stat(t,!1,(function(o,c){if(o)switch(e.pathNotExistsAction()){case l.CREATE_FILE:return i.stat(a.dirname(t),!1,(function(o,s){o?r(o):s&&!s.isDirectory()?r(h.ENOTDIR(a.dirname(t))):i.createFile(t,e,n,r)}));case l.THROW_EXCEPTION:return r(h.ENOENT(t));default:return r(new h(s.EINVAL,"Invalid FileFlag object."))}else{if(c&&c.isDirectory())return r(h.EISDIR(t));switch(e.pathExistsAction()){case l.THROW_EXCEPTION:return r(h.EEXIST(t));case l.TRUNCATE_FILE:return i.openFile(t,e,(function(t,e){t?r(t):e?e.truncate(0,(function(){e.sync((function(){r(null,e)}))})):j()}));case l.NOP:return i.openFile(t,e,r);default:return r(new h(s.EINVAL,"Invalid FileFlag object."))}}}))},et.prototype.rename=function(t,e,n){n(new h(s.ENOTSUP))},et.prototype.renameSync=function(t,e){throw new h(s.ENOTSUP)},et.prototype.stat=function(t,e,n){n(new h(s.ENOTSUP))},et.prototype.statSync=function(t,e){throw new h(s.ENOTSUP)},et.prototype.openFileSync=function(t,e,n){throw new h(s.ENOTSUP)},et.prototype.createFileSync=function(t,e,n){throw new h(s.ENOTSUP)},et.prototype.openSync=function(t,e,n){var r;try{r=this.statSync(t,!1)}catch(r){switch(e.pathNotExistsAction()){case l.CREATE_FILE:if(!this.statSync(a.dirname(t),!1).isDirectory())throw h.ENOTDIR(a.dirname(t));return this.createFileSync(t,e,n);case l.THROW_EXCEPTION:throw h.ENOENT(t);default:throw new h(s.EINVAL,"Invalid FileFlag object.")}}if(r.isDirectory())throw h.EISDIR(t);switch(e.pathExistsAction()){case l.THROW_EXCEPTION:throw h.EEXIST(t);case l.TRUNCATE_FILE:return this.unlinkSync(t),this.createFileSync(t,e,r.mode);case l.NOP:return this.openFileSync(t,e,n);default:throw new h(s.EINVAL,"Invalid FileFlag object.")}},et.prototype.unlink=function(t,e){e(new h(s.ENOTSUP))},et.prototype.unlinkSync=function(t){throw new h(s.ENOTSUP)},et.prototype.rmdir=function(t,e){e(new h(s.ENOTSUP))},et.prototype.rmdirSync=function(t){throw new h(s.ENOTSUP)},et.prototype.mkdir=function(t,e,n){n(new h(s.ENOTSUP))},et.prototype.mkdirSync=function(t,e){throw new h(s.ENOTSUP)},et.prototype.readdir=function(t,e){e(new h(s.ENOTSUP))},et.prototype.readdirSync=function(t){throw new h(s.ENOTSUP)},et.prototype.exists=function(t,e){this.stat(t,null,(function(t){e(!t)}))},et.prototype.existsSync=function(t){try{return this.statSync(t,!0),!0}catch(t){return!1}},et.prototype.realpath=function(t,e,n){if(this.supportsLinks())for(var r=t.split(a.sep),i=0;i<r.length;i++){var o=r.slice(0,i+1);r[i]=a.join.apply(null,o)}else this.exists(t,(function(e){e?n(null,t):n(h.ENOENT(t))}))},et.prototype.realpathSync=function(t,e){if(this.supportsLinks()){for(var n=t.split(a.sep),r=0;r<n.length;r++){var i=n.slice(0,r+1);n[r]=a.join.apply(a,i)}return n.join(a.sep)}if(this.existsSync(t))return t;throw h.ENOENT(t)},et.prototype.truncate=function(t,e,n){this.open(t,d.getFileFlag("r+"),420,(function(t,r){if(t)return n(t);r.truncate(e,(function(t){r.close((function(e){n(t||e)}))}))}))},et.prototype.truncateSync=function(t,e){var n=this.openSync(t,d.getFileFlag("r+"),420);try{n.truncateSync(e)}catch(t){throw t}finally{n.closeSync()}},et.prototype.readFile=function(e,n,r,i){var o=i;this.open(e,r,420,(function(e,r){if(e)return i(e);i=function(t,e){r.close((function(n){return t||(t=n),o(t,e)}))},r.stat((function(e,o){if(e)return i(e);var s=t.alloc(o.size);r.read(s,0,o.size,0,(function(t){if(t)return i(t);if(null===n)return i(t,s);try{i(null,s.toString(n))}catch(t){i(t)}}))}))}))},et.prototype.readFileSync=function(e,n,r){var i=this.openSync(e,r,420);try{var o=i.statSync(),s=t.alloc(o.size);return i.readSync(s,0,o.size,0),i.closeSync(),null===n?s:s.toString(n)}finally{i.closeSync()}},et.prototype.writeFile=function(e,n,r,i,o,s){var a=s;this.open(e,i,420,(function(e,i){if(e)return s(e);s=function(t){i.close((function(e){a(t||e)}))};try{"string"==typeof n&&(n=t.from(n,r))}catch(t){return s(t)}i.write(n,0,n.length,0,s)}))},et.prototype.writeFileSync=function(e,n,r,i,o){var s=this.openSync(e,i,o);try{"string"==typeof n&&(n=t.from(n,r)),s.writeSync(n,0,n.length,0)}finally{s.closeSync()}},et.prototype.appendFile=function(e,n,r,i,o,s){var a=s;this.open(e,i,o,(function(e,i){if(e)return s(e);s=function(t){i.close((function(e){a(t||e)}))},"string"==typeof n&&(n=t.from(n,r)),i.write(n,0,n.length,null,s)}))},et.prototype.appendFileSync=function(e,n,r,i,o){var s=this.openSync(e,i,o);try{"string"==typeof n&&(n=t.from(n,r)),s.writeSync(n,0,n.length,null)}finally{s.closeSync()}},et.prototype.chmod=function(t,e,n,r){r(new h(s.ENOTSUP))},et.prototype.chmodSync=function(t,e,n){throw new h(s.ENOTSUP)},et.prototype.chown=function(t,e,n,r,i){i(new h(s.ENOTSUP))},et.prototype.chownSync=function(t,e,n,r){throw new h(s.ENOTSUP)},et.prototype.utimes=function(t,e,n,r){r(new h(s.ENOTSUP))},et.prototype.utimesSync=function(t,e,n){throw new h(s.ENOTSUP)},et.prototype.link=function(t,e,n){n(new h(s.ENOTSUP))},et.prototype.linkSync=function(t,e){throw new h(s.ENOTSUP)},et.prototype.symlink=function(t,e,n,r){r(new h(s.ENOTSUP))},et.prototype.symlinkSync=function(t,e,n){throw new h(s.ENOTSUP)},et.prototype.readlink=function(t,e){e(new h(s.ENOTSUP))},et.prototype.readlinkSync=function(t){throw new h(s.ENOTSUP)};var nt=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.supportsSynch=function(){return!0},e.prototype.rename=function(t,e,n){try{this.renameSync(t,e),n()}catch(t){n(t)}},e.prototype.stat=function(t,e,n){try{n(null,this.statSync(t,e))}catch(t){n(t)}},e.prototype.open=function(t,e,n,r){try{r(null,this.openSync(t,e,n))}catch(t){r(t)}},e.prototype.unlink=function(t,e){try{this.unlinkSync(t),e()}catch(t){e(t)}},e.prototype.rmdir=function(t,e){try{this.rmdirSync(t),e()}catch(t){e(t)}},e.prototype.mkdir=function(t,e,n){try{this.mkdirSync(t,e),n()}catch(t){n(t)}},e.prototype.readdir=function(t,e){try{e(null,this.readdirSync(t))}catch(t){e(t)}},e.prototype.chmod=function(t,e,n,r){try{this.chmodSync(t,e,n),r()}catch(t){r(t)}},e.prototype.chown=function(t,e,n,r,i){try{this.chownSync(t,e,n,r),i()}catch(t){i(t)}},e.prototype.utimes=function(t,e,n,r){try{this.utimesSync(t,e,n),r()}catch(t){r(t)}},e.prototype.link=function(t,e,n){try{this.linkSync(t,e),n()}catch(t){n(t)}},e.prototype.symlink=function(t,e,n,r){try{this.symlinkSync(t,e,n),r()}catch(t){r(t)}},e.prototype.readlink=function(t,e){try{e(null,this.readlinkSync(t))}catch(t){e(t)}},e}(et),rt=function(){};rt.prototype.sync=function(t){t(new h(s.ENOTSUP))},rt.prototype.syncSync=function(){throw new h(s.ENOTSUP)},rt.prototype.datasync=function(t){this.sync(t)},rt.prototype.datasyncSync=function(){return this.syncSync()},rt.prototype.chown=function(t,e,n){n(new h(s.ENOTSUP))},rt.prototype.chownSync=function(t,e){throw new h(s.ENOTSUP)},rt.prototype.chmod=function(t,e){e(new h(s.ENOTSUP))},rt.prototype.chmodSync=function(t){throw new h(s.ENOTSUP)},rt.prototype.utimes=function(t,e,n){n(new h(s.ENOTSUP))},rt.prototype.utimesSync=function(t,e){throw new h(s.ENOTSUP)};var it=function(e){function n(t,n,r,i,o){if(e.call(this),this._pos=0,this._dirty=!1,this._fs=t,this._path=n,this._flag=r,this._stat=i,this._buffer=o||X(),this._stat.size!==this._buffer.length&&this._flag.isReadable())throw new Error("Invalid buffer: Buffer is "+this._buffer.length+" long, yet Stats object specifies that file is "+this._stat.size+" long.")}return e&&(n.__proto__=e),n.prototype=Object.create(e&&e.prototype),n.prototype.constructor=n,n.prototype.getBuffer=function(){return this._buffer},n.prototype.getStats=function(){return this._stat},n.prototype.getFlag=function(){return this._flag},n.prototype.getPath=function(){return this._path},n.prototype.getPos=function(){return this._flag.isAppendable()?this._stat.size:this._pos},n.prototype.advancePos=function(t){return this._pos+=t},n.prototype.setPos=function(t){return this._pos=t},n.prototype.sync=function(t){try{this.syncSync(),t()}catch(e){t(e)}},n.prototype.syncSync=function(){throw new h(s.ENOTSUP)},n.prototype.close=function(t){try{this.closeSync(),t()}catch(e){t(e)}},n.prototype.closeSync=function(){throw new h(s.ENOTSUP)},n.prototype.stat=function(t){try{t(null,y.clone(this._stat))}catch(e){t(e)}},n.prototype.statSync=function(){return y.clone(this._stat)},n.prototype.truncate=function(t,e){try{this.truncateSync(t),this._flag.isSynchronous()&&!M.getRootFS().supportsSynch()&&this.sync(e),e()}catch(t){return e(t)}},n.prototype.truncateSync=function(e){if(this._dirty=!0,!this._flag.isWriteable())throw new h(s.EPERM,"File not opened with a writeable mode.");if(this._stat.mtimeMs=Date.now(),e>this._buffer.length){var n=t.alloc(e-this._buffer.length,0);return this.writeSync(n,0,n.length,this._buffer.length),void(this._flag.isSynchronous()&&M.getRootFS().supportsSynch()&&this.syncSync())}this._stat.size=e;var r=t.alloc(e);this._buffer.copy(r,0,0,e),this._buffer=r,this._flag.isSynchronous()&&M.getRootFS().supportsSynch()&&this.syncSync()},n.prototype.write=function(t,e,n,r,i){try{i(null,this.writeSync(t,e,n,r),t)}catch(t){i(t)}},n.prototype.writeSync=function(e,n,r,i){if(this._dirty=!0,null!=i||(i=this.getPos()),!this._flag.isWriteable())throw new h(s.EPERM,"File not opened with a writeable mode.");var o=i+r;if(o>this._stat.size&&(this._stat.size=o,o>this._buffer.length)){var a=t.alloc(o);this._buffer.copy(a),this._buffer=a}var c=e.copy(this._buffer,i,n,n+r);return this._stat.mtimeMs=Date.now(),this._flag.isSynchronous()?(this.syncSync(),c):(this.setPos(i+c),c)},n.prototype.read=function(t,e,n,r,i){try{i(null,this.readSync(t,e,n,r),t)}catch(t){i(t)}},n.prototype.readSync=function(t,e,n,r){if(!this._flag.isReadable())throw new h(s.EPERM,"File not opened with a readable mode.");null!=r||(r=this.getPos()),r+n>this._stat.size&&(n=this._stat.size-r);var i=this._buffer.copy(t,e,r,r+n);return this._stat.atimeMs=Date.now(),this._pos=r+n,i},n.prototype.chmod=function(t,e){try{this.chmodSync(t),e()}catch(t){e(t)}},n.prototype.chmodSync=function(t){if(!this._fs.supportsProps())throw new h(s.ENOTSUP);this._dirty=!0,this._stat.chmod(t),this.syncSync()},n.prototype.isDirty=function(){return this._dirty},n.prototype.resetDirty=function(){this._dirty=!1},n}(rt),ot=function(t){function e(e,n,r,i,o){t.call(this,e,n,r,i,o)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.sync=function(t){t()},e.prototype.syncSync=function(){},e.prototype.close=function(t){t()},e.prototype.closeSync=function(){},e}(it),st=function(t){function e(e,n,r,i,o){t.call(this,e,n,r,i,o)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.syncSync=function(){this.isDirty()&&(this._fs._syncSync(this),this.resetDirty())},e.prototype.closeSync=function(){this.syncSync()},e}(it),at=function(t){function e(e,n){t.call(this),this._queue=[],this._queueRunning=!1,this._isInitialized=!1,this._initializeCallbacks=[],this._sync=e,this._async=n}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.Create=function(t,n){try{var r=new e(t.sync,t.async);r._initialize((function(t){t?n(t):n(null,r)}))}catch(t){n(t)}},e.isAvailable=function(){return!0},e.prototype.getName=function(){return e.Name},e.prototype._syncSync=function(t){this._sync.writeFileSync(t.getPath(),t.getBuffer(),null,d.getFileFlag("w"),t.getStats().mode),this.enqueueOp({apiMethod:"writeFile",arguments:[t.getPath(),t.getBuffer(),null,t.getFlag(),t.getStats().mode]})},e.prototype.isReadOnly=function(){return!1},e.prototype.supportsSynch=function(){return!0},e.prototype.supportsLinks=function(){return!1},e.prototype.supportsProps=function(){return this._sync.supportsProps()&&this._async.supportsProps()},e.prototype.renameSync=function(t,e){this._sync.renameSync(t,e),this.enqueueOp({apiMethod:"rename",arguments:[t,e]})},e.prototype.statSync=function(t,e){return this._sync.statSync(t,e)},e.prototype.openSync=function(t,e,n){return this._sync.openSync(t,e,n).closeSync(),new st(this,t,e,this._sync.statSync(t,!1),this._sync.readFileSync(t,null,d.getFileFlag("r")))},e.prototype.unlinkSync=function(t){this._sync.unlinkSync(t),this.enqueueOp({apiMethod:"unlink",arguments:[t]})},e.prototype.rmdirSync=function(t){this._sync.rmdirSync(t),this.enqueueOp({apiMethod:"rmdir",arguments:[t]})},e.prototype.mkdirSync=function(t,e){this._sync.mkdirSync(t,e),this.enqueueOp({apiMethod:"mkdir",arguments:[t,e]})},e.prototype.readdirSync=function(t){return this._sync.readdirSync(t)},e.prototype.existsSync=function(t){return this._sync.existsSync(t)},e.prototype.chmodSync=function(t,e,n){this._sync.chmodSync(t,e,n),this.enqueueOp({apiMethod:"chmod",arguments:[t,e,n]})},e.prototype.chownSync=function(t,e,n,r){this._sync.chownSync(t,e,n,r),this.enqueueOp({apiMethod:"chown",arguments:[t,e,n,r]})},e.prototype.utimesSync=function(t,e,n){this._sync.utimesSync(t,e,n),this.enqueueOp({apiMethod:"utimes",arguments:[t,e,n]})},e.prototype._initialize=function(t){var e=this,n=this._initializeCallbacks;if(this._isInitialized)t();else if(1===n.push(t)){var r=function(t,n,r){"/"!==t&&e._sync.mkdirSync(t,n),e._async.readdir(t,(function(e,n){var o=0;e?r(e):function e(s){s?r(s):o<n.length?(i(a.join(t,n[o]),e),o++):r()}()}))},i=function(t,n){e._async.stat(t,!1,(function(i,o){i?n(i):o.isDirectory()?r(t,o.mode,n):function(t,n,r){e._async.readFile(t,null,d.getFileFlag("r"),(function(i,o){if(i)r(i);else try{e._sync.writeFileSync(t,o,null,d.getFileFlag("w"),n)}catch(t){i=t}finally{r(i)}}))}(t,o.mode,n)}))};r("/",0,(function(t){e._isInitialized=!t,e._initializeCallbacks=[],n.forEach((function(e){return e(t)}))}))}},e.prototype.enqueueOp=function(t){var e=this;if(this._queue.push(t),!this._queueRunning){this._queueRunning=!0;var n=function(t){if(t)throw new Error("WARNING: File system has desynchronized. Received following error: "+t+"\n$");if(e._queue.length>0){var r=e._queue.shift(),i=r.arguments;i.push(n),e._async[r.apiMethod].apply(e._async,i)}else e._queueRunning=!1};n()}},e}(nt);at.Name="AsyncMirror",at.Options={sync:{type:"object",description:"The synchronous file system to mirror the asynchronous file system to.",validator:function(t,e){t&&"function"==typeof t.supportsSynch&&t.supportsSynch()?e():e(new h(s.EINVAL,"'sync' option must be a file system that supports synchronous operations"))}},async:{type:"object",description:"The asynchronous file system to mirror."}};var ct=v.Dropbox?v.Dropbox.Dropbox:void 0;function ut(t){return"/"===t?"":t}function lt(t){var e=t.error;if(e[".tag"])return e;if(e.error){var n=e.error;return n[".tag"]?n:n.reason&&n.reason[".tag"]?n.reason:n}if("string"==typeof e)try{var r=JSON.parse(e);if(r.error&&r.error.reason&&r.error.reason[".tag"])return r.error.reason}catch(t){}return e}function ht(t){if(t.user_message)return t.user_message.text;if(t.error_summary)return t.error_summary;if("string"==typeof t.error)return t.error;if("object"==typeof t.error)return ht(t.error);throw new Error("Dropbox's servers gave us a garbage error message: "+JSON.stringify(t))}function ft(t,e,n){switch(t[".tag"]){case"malformed_path":return new h(s.EBADF,n,e);case"not_found":return h.ENOENT(e);case"not_file":return h.EISDIR(e);case"not_folder":return h.ENOTDIR(e);case"restricted_content":return h.EPERM(e);case"other":default:return new h(s.EIO,n,e)}}function pt(t,e,n){switch(t[".tag"]){case"malformed_path":case"disallowed_name":return new h(s.EBADF,n,e);case"conflict":case"no_write_permission":case"team_folder":return h.EPERM(e);case"insufficient_space":return new h(s.ENOSPC,n);case"other":default:return new h(s.EIO,n,e)}}function dt(t,e,n){var r={path:ut(e)};t.filesDeleteV2(r).then((function(){n()})).catch((function(r){var i=lt(r);switch(i[".tag"]){case"path_lookup":n(ft(i.path_lookup,e,ht(r)));break;case"path_write":n(pt(i.path_write,e,ht(r)));break;case"too_many_write_operations":setTimeout((function(){return dt(t,e,n)}),500+300*Math.random());break;case"other":default:n(new h(s.EIO,ht(r),e))}}))}var yt=function(t){function e(e,n,r,i,o){t.call(this,e,n,r,i,o)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.sync=function(t){this._fs._syncFile(this.getPath(),this.getBuffer(),t)},e.prototype.close=function(t){this.sync(t)},e}(it),mt=function(e){function n(t){e.call(this),this._client=t}return e&&(n.__proto__=e),n.prototype=Object.create(e&&e.prototype),n.prototype.constructor=n,n.Create=function(t,e){e(null,new n(t.client))},n.isAvailable=function(){return void 0!==ct},n.prototype.getName=function(){return n.Name},n.prototype.isReadOnly=function(){return!1},n.prototype.supportsSymlinks=function(){return!1},n.prototype.supportsProps=function(){return!1},n.prototype.supportsSynch=function(){return!1},n.prototype.empty=function(t){var e=this;this.readdir("/",(function(n,r){if(r){var i=function(n){0===r.length?t():dt(e._client,r.shift(),i)};i()}else t(n)}))},n.prototype.rename=function(t,e,n){var r=this;this.stat(e,!1,(function(i,o){var a=function(){var i={from_path:ut(t),to_path:ut(e)};r._client.filesMoveV2(i).then((function(){return n()})).catch((function(r){var i=lt(r);switch(i[".tag"]){case"from_lookup":n(ft(i.from_lookup,t,ht(r)));break;case"from_write":n(pt(i.from_write,t,ht(r)));break;case"to":n(pt(i.to,e,ht(r)));break;case"cant_copy_shared_folder":case"cant_nest_shared_folder":n(new h(s.EPERM,ht(r),t));break;case"cant_move_folder_into_itself":case"duplicated_or_nested_paths":n(new h(s.EBADF,ht(r),t));break;case"too_many_files":n(new h(s.ENOSPC,ht(r),t));break;case"other":default:n(new h(s.EIO,ht(r),t))}}))};i?a():t===e?i?n(h.ENOENT(e)):n():o&&o.isDirectory()?n(h.EISDIR(e)):r.unlink(e,(function(t){t?n(t):a()}))}))},n.prototype.stat=function(t,e,n){if("/"!==t){var r={path:ut(t)};this._client.filesGetMetadata(r).then((function(e){switch(e[".tag"]){case"file":var r=e;n(null,new y(p.FILE,r.size));break;case"folder":n(null,new y(p.DIRECTORY,4096));break;case"deleted":n(h.ENOENT(t))}})).catch((function(e){var r=lt(e);switch(r[".tag"]){case"path":n(ft(r.path,t,ht(e)));break;default:n(new h(s.EIO,ht(e),t))}}))}else E((function(){n(null,new y(p.DIRECTORY,4096))}))},n.prototype.openFile=function(t,e,n){var r=this,i={path:ut(t)};this._client.filesDownload(i).then((function(i){var o=i.fileBlob,s=new FileReader;s.onload=function(){var i=s.result;n(null,new yt(r,t,e,new y(p.FILE,i.byteLength),W(i)))},s.readAsArrayBuffer(o)})).catch((function(e){var r=lt(e);switch(r[".tag"]){case"path":n(ft(r.path,t,ht(e)));break;case"other":default:n(new h(s.EIO,ht(e),t))}}))},n.prototype.createFile=function(e,n,r,i){var o=this,a=t.alloc(0),c={contents:new Blob([U(a)],{type:"octet/stream"}),path:ut(e)};this._client.filesUpload(c).then((function(t){i(null,new yt(o,e,n,new y(p.FILE,0),a))})).catch((function(t){var a=lt(t);switch(a[".tag"]){case"path":i(pt(a.path.reason,e,ht(t)));break;case"too_many_write_operations":setTimeout((function(){return o.createFile(e,n,r,i)}),500+300*Math.random());break;case"other":default:i(new h(s.EIO,ht(t),e))}}))},n.prototype.unlink=function(t,e){var n=this;this.stat(t,!1,(function(r,i){i?i.isDirectory()?e(h.EISDIR(t)):dt(n._client,t,e):e(r)}))},n.prototype.rmdir=function(t,e){var n=this;this.readdir(t,(function(r,i){i?i.length>0?e(h.ENOTEMPTY(t)):dt(n._client,t,e):e(r)}))},n.prototype.mkdir=function(t,e,n){var r=this,i=a.dirname(t);this.stat(i,!1,(function(o,s){if(o)n(o);else if(s&&!s.isDirectory())n(h.ENOTDIR(i));else{var a={path:ut(t)};r._client.filesCreateFolderV2(a).then((function(){return n()})).catch((function(i){"too_many_write_operations"===lt(i)[".tag"]?setTimeout((function(){return r.mkdir(t,e,n)}),500+300*Math.random()):n(pt(lt(i).path,t,ht(i)))}))}}))},n.prototype.readdir=function(t,e){var n=this,r={path:ut(t)};this._client.filesListFolder(r).then((function(r){!function t(e,n,r,i,o){var s=r.entries.map((function(t){return t.path_display})).filter((function(t){return!!t})),a=i.concat(s);if(r.has_more){var c={cursor:r.cursor};e.filesListFolderContinue(c).then((function(r){t(e,n,r,a,o)})).catch((function(t){gt(t,n,o)}))}else o(null,a)}(n._client,t,r,[],e)})).catch((function(n){gt(n,t,e)}))},n.prototype._syncFile=function(t,e,n){var r=this,i={contents:new Blob([U(e)],{type:"octet/stream"}),path:ut(t),mode:{".tag":"overwrite"}};this._client.filesUpload(i).then((function(){n()})).catch((function(i){var o=lt(i);switch(o[".tag"]){case"path":n(pt(o.path.reason,t,ht(i)));break;case"too_many_write_operations":setTimeout((function(){return r._syncFile(t,e,n)}),500+300*Math.random());break;case"other":default:n(new h(s.EIO,ht(i),t))}}))},n}(et);function gt(t,e,n){var r=lt(t);switch(r[".tag"]){case"path":n(ft(r.path,e,ht(t)));break;case"other":default:n(new h(s.EIO,ht(t),e))}}function vt(t,e){void 0===e&&(e="");for(var n=t.errno,r=t.node,i=[];r&&(i.unshift(r.name),r!==r.parent);)r=r.parent;return new h(n,u[n],i.length>0?"/"+i.join("/"):e)}mt.Name="DropboxV2",mt.Options={client:{type:"object",description:"An *authenticated* Dropbox client. Must be from the 2.5.x JS SDK."}};var bt=function(t){function e(e,n,r,i){t.call(this),this._fs=e,this._FS=n,this._path=r,this._stream=i}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getPos=function(){},e.prototype.close=function(t){var e=null;try{this.closeSync()}catch(t){e=t}finally{t(e)}},e.prototype.closeSync=function(){try{this._FS.close(this._stream)}catch(t){throw vt(t,this._path)}},e.prototype.stat=function(t){try{t(null,this.statSync())}catch(e){t(e)}},e.prototype.statSync=function(){try{return this._fs.statSync(this._path,!1)}catch(t){throw vt(t,this._path)}},e.prototype.truncate=function(t,e){var n=null;try{this.truncateSync(t)}catch(t){n=t}finally{e(n)}},e.prototype.truncateSync=function(t){try{this._FS.ftruncate(this._stream.fd,t)}catch(t){throw vt(t,this._path)}},e.prototype.write=function(t,e,n,r,i){try{i(null,this.writeSync(t,e,n,r),t)}catch(t){i(t)}},e.prototype.writeSync=function(t,e,n,r){try{var i=q(t),o=null===r?void 0:r;return this._FS.write(this._stream,i,e,n,o)}catch(t){throw vt(t,this._path)}},e.prototype.read=function(t,e,n,r,i){try{i(null,this.readSync(t,e,n,r),t)}catch(t){i(t)}},e.prototype.readSync=function(t,e,n,r){try{var i=q(t),o=null===r?void 0:r;return this._FS.read(this._stream,i,e,n,o)}catch(t){throw vt(t,this._path)}},e.prototype.sync=function(t){t()},e.prototype.syncSync=function(){},e.prototype.chown=function(t,e,n){var r=null;try{this.chownSync(t,e)}catch(t){r=t}finally{n(r)}},e.prototype.chownSync=function(t,e){try{this._FS.fchown(this._stream.fd,t,e)}catch(t){throw vt(t,this._path)}},e.prototype.chmod=function(t,e){var n=null;try{this.chmodSync(t)}catch(t){n=t}finally{e(n)}},e.prototype.chmodSync=function(t){try{this._FS.fchmod(this._stream.fd,t)}catch(t){throw vt(t,this._path)}},e.prototype.utimes=function(t,e,n){var r=null;try{this.utimesSync(t,e)}catch(t){r=t}finally{n(r)}},e.prototype.utimesSync=function(t,e){this._fs.utimesSync(this._path,t,e)},e}(rt),_t=function(e){function n(t){e.call(this),this._FS=t}return e&&(n.__proto__=e),n.prototype=Object.create(e&&e.prototype),n.prototype.constructor=n,n.Create=function(t,e){e(null,new n(t.FS))},n.isAvailable=function(){return!0},n.prototype.getName=function(){return this._FS.DB_NAME()},n.prototype.isReadOnly=function(){return!1},n.prototype.supportsLinks=function(){return!0},n.prototype.supportsProps=function(){return!0},n.prototype.supportsSynch=function(){return!0},n.prototype.renameSync=function(t,e){try{this._FS.rename(t,e)}catch(n){throw n.errno===s.ENOENT?vt(n,this.existsSync(t)?e:t):vt(n)}},n.prototype.statSync=function(t,e){try{var n=e?this._FS.lstat(t):this._FS.stat(t),r=this.modeToFileType(n.mode);return new y(r,n.size,n.mode,n.atime.getTime(),n.mtime.getTime(),n.ctime.getTime())}catch(e){throw vt(e,t)}},n.prototype.openSync=function(t,e,n){try{var r=this._FS.open(t,e.getFlagString(),n);if(this._FS.isDir(r.node.mode))throw this._FS.close(r),h.EISDIR(t);return new bt(this,this._FS,t,r)}catch(e){throw vt(e,t)}},n.prototype.unlinkSync=function(t){try{this._FS.unlink(t)}catch(e){throw vt(e,t)}},n.prototype.rmdirSync=function(t){try{this._FS.rmdir(t)}catch(e){throw vt(e,t)}},n.prototype.mkdirSync=function(t,e){try{this._FS.mkdir(t,e)}catch(e){throw vt(e,t)}},n.prototype.readdirSync=function(t){try{return this._FS.readdir(t).filter((function(t){return"."!==t&&".."!==t}))}catch(e){throw vt(e,t)}},n.prototype.truncateSync=function(t,e){try{this._FS.truncate(t,e)}catch(e){throw vt(e,t)}},n.prototype.readFileSync=function(t,e,n){try{var r=V(this._FS.readFile(t,{flags:n.getFlagString()}));return e?r.toString(e):r}catch(e){throw vt(e,t)}},n.prototype.writeFileSync=function(e,n,r,i,o){try{r&&(n=t.from(n,r));var s=q(n);this._FS.writeFile(e,s,{flags:i.getFlagString(),encoding:"binary"}),this._FS.chmod(e,o)}catch(t){throw vt(t,e)}},n.prototype.chmodSync=function(t,e,n){try{e?this._FS.lchmod(t,n):this._FS.chmod(t,n)}catch(e){throw vt(e,t)}},n.prototype.chownSync=function(t,e,n,r){try{e?this._FS.lchown(t,n,r):this._FS.chown(t,n,r)}catch(e){throw vt(e,t)}},n.prototype.symlinkSync=function(t,e,n){try{this._FS.symlink(t,e)}catch(t){throw vt(t)}},n.prototype.readlinkSync=function(t){try{return this._FS.readlink(t)}catch(e){throw vt(e,t)}},n.prototype.utimesSync=function(t,e,n){try{this._FS.utime(t,e.getTime(),n.getTime())}catch(e){throw vt(e,t)}},n.prototype.modeToFileType=function(t){if(this._FS.isDir(t))return p.DIRECTORY;if(this._FS.isFile(t))return p.FILE;if(this._FS.isLink(t))return p.SYMLINK;throw h.EPERM("Invalid mode: "+t)},n}(nt);_t.Name="EmscriptenFileSystem",_t.Options={FS:{type:"object",description:"The Emscripten file system to use (the `FS` variable)"}};var wt=function(t){function e(e,n){t.call(this),this._folder=e,this._wrapped=n}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.Create=function(t,n){var r=new e(t.folder,t.wrapped);r._initialize((function(t){t?n(t):n(null,r)}))},e.isAvailable=function(){return!0},e.prototype.getName=function(){return this._wrapped.getName()},e.prototype.isReadOnly=function(){return this._wrapped.isReadOnly()},e.prototype.supportsProps=function(){return this._wrapped.supportsProps()},e.prototype.supportsSynch=function(){return this._wrapped.supportsSynch()},e.prototype.supportsLinks=function(){return!1},e.prototype._initialize=function(t){var e=this;this._wrapped.exists(this._folder,(function(n){n?t():e._wrapped.isReadOnly()?t(h.ENOENT(e._folder)):e._wrapped.mkdir(e._folder,511,t)}))},e}(et);function kt(t,e){if(null!==e&&"object"==typeof e){var n=e,r=n.path;r&&(r="/"+a.relative(t,r),n.message=n.message.replace(n.path,r),n.path=r)}return e}function Et(t,e,n){return"Sync"!==t.slice(t.length-4)?function(){return arguments.length>0&&(e&&(arguments[0]=a.join(this._folder,arguments[0])),n&&(arguments[1]=a.join(this._folder,arguments[1])),arguments[arguments.length-1]=function(t,e){return"function"==typeof e?function(n){arguments.length>0&&(arguments[0]=kt(t,n)),e.apply(null,arguments)}:e}(this._folder,arguments[arguments.length-1])),this._wrapped[t].apply(this._wrapped,arguments)}:function(){try{return e&&(arguments[0]=a.join(this._folder,arguments[0])),n&&(arguments[1]=a.join(this._folder,arguments[1])),this._wrapped[t].apply(this._wrapped,arguments)}catch(t){throw kt(this._folder,t)}}}function St(t,e){e|=0;for(var n=Math.max(t.length-e,0),r=Array(n),i=0;i<n;i++)r[i]=t[e+i];return r}function Ct(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}wt.Name="FolderAdapter",wt.Options={folder:{type:"string",description:"The folder to use as the root directory"},wrapped:{type:"object",description:"The file system to wrap"}},["diskSpace","stat","statSync","open","openSync","unlink","unlinkSync","rmdir","rmdirSync","mkdir","mkdirSync","readdir","readdirSync","exists","existsSync","realpath","realpathSync","truncate","truncateSync","readFile","readFileSync","writeFile","writeFileSync","appendFile","appendFileSync","chmod","chmodSync","chown","chownSync","utimes","utimesSync","readlink","readlinkSync"].forEach((function(t){wt.prototype[t]=Et(t,!0,!1)})),["rename","renameSync","link","linkSync","symlink","symlinkSync"].forEach((function(t){wt.prototype[t]=Et(t,!0,!0)}));var xt="function"==typeof setImmediate&&setImmediate,At="object"==typeof i&&"function"==typeof i.nextTick,Tt=function(t){return function(e){var n=St(arguments,1);t((function(){e.apply(null,n)}))}}(xt?setImmediate:At?i.nextTick:function(t){setTimeout(t,0)});function Ft(t,e,n){try{t(e,n)}catch(t){Tt(Ot,t)}}function Ot(t){throw t}var Dt="function"==typeof Symbol;function Lt(t){return function(t){return Dt&&"AsyncFunction"===t[Symbol.toStringTag]}(t)?function(t){return function(t){return function(){var e=St(arguments),n=e.pop();t.call(this,e,n)}}((function(e,n){var r;try{r=t.apply(this,e)}catch(t){return n(t)}Ct(r)&&"function"==typeof r.then?r.then((function(t){Ft(n,null,t)}),(function(t){Ft(n,t.message?t:new Error(t))})):n(null,r)}))}(t):t}var It="object"==typeof r&&r&&r.Object===Object&&r,Mt="object"==typeof self&&self&&self.Object===Object&&self,Nt=It||Mt||Function("return this")(),Rt=Nt.Symbol,Pt=Object.prototype,Bt=Pt.hasOwnProperty,jt=Pt.toString,zt=Rt?Rt.toStringTag:void 0,Ut=Object.prototype.toString,qt=Rt?Rt.toStringTag:void 0;function Ht(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":qt&&qt in Object(t)?function(t){var e=Bt.call(t,zt),n=t[zt];try{t[zt]=void 0}catch(t){}var r=jt.call(t);return e?t[zt]=n:delete t[zt],r}(t):function(t){return Ut.call(t)}(t)}function Vt(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991}function Wt(t){return null!=t&&Vt(t.length)&&!function(t){if(!Ct(t))return!1;var e=Ht(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e}(t)}var Yt={};function Zt(){}function Xt(t){return function(){if(null!==t){var e=t;t=null,e.apply(this,arguments)}}}var Gt="function"==typeof Symbol&&Symbol.iterator;function $t(t){return null!=t&&"object"==typeof t}function Jt(t){return $t(t)&&"[object Arguments]"==Ht(t)}var Kt=Object.prototype,Qt=Kt.hasOwnProperty,te=Kt.propertyIsEnumerable,ee=Jt(function(){return arguments}())?Jt:function(t){return $t(t)&&Qt.call(t,"callee")&&!te.call(t,"callee")},ne=Array.isArray,re="object"==typeof e&&e&&!e.nodeType&&e,ie=re&&"object"==typeof o&&o&&!o.nodeType&&o,oe=ie&&ie.exports===re?Nt.Buffer:void 0,se=(oe?oe.isBuffer:void 0)||function(){return!1},ae=/^(?:0|[1-9]\d*)$/;function ce(t,e){var n=typeof t;return!!(e=null==e?9007199254740991:e)&&("number"==n||"symbol"!=n&&ae.test(t))&&t>-1&&t%1==0&&t<e}var ue={};ue["[object Float32Array]"]=ue["[object Float64Array]"]=ue["[object Int8Array]"]=ue["[object Int16Array]"]=ue["[object Int32Array]"]=ue["[object Uint8Array]"]=ue["[object Uint8ClampedArray]"]=ue["[object Uint16Array]"]=ue["[object Uint32Array]"]=!0,ue["[object Arguments]"]=ue["[object Array]"]=ue["[object ArrayBuffer]"]=ue["[object Boolean]"]=ue["[object DataView]"]=ue["[object Date]"]=ue["[object Error]"]=ue["[object Function]"]=ue["[object Map]"]=ue["[object Number]"]=ue["[object Object]"]=ue["[object RegExp]"]=ue["[object Set]"]=ue["[object String]"]=ue["[object WeakMap]"]=!1;var le="object"==typeof e&&e&&!e.nodeType&&e,he=le&&"object"==typeof o&&o&&!o.nodeType&&o,fe=he&&he.exports===le&&It.process,pe=function(){try{return he&&he.require&&he.require("util").types||fe&&fe.binding&&fe.binding("util")}catch(t){}}(),de=pe&&pe.isTypedArray,ye=de?function(t){return function(e){return t(e)}}(de):function(t){return $t(t)&&Vt(t.length)&&!!ue[Ht(t)]},me=Object.prototype.hasOwnProperty,ge=Object.prototype,ve=function(t,e){return function(n){return t(e(n))}}(Object.keys,Object),be=Object.prototype.hasOwnProperty;function _e(t){var e=function(t){return Wt(t)?function(t,e){var n=ne(t),r=!n&&ee(t),i=!n&&!r&&se(t),o=!n&&!r&&!i&&ye(t),s=n||r||i||o,a=s?function(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}(t.length,String):[],c=a.length;for(var u in t)!e&&!me.call(t,u)||s&&("length"==u||i&&("offset"==u||"parent"==u)||o&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||ce(u,c))||a.push(u);return a}(t):function(t){if(!function(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||ge)}(t))return ve(t);var e=[];for(var n in Object(t))be.call(t,n)&&"constructor"!=n&&e.push(n);return e}(t)}(t),n=-1,r=e.length;return function(){var i=e[++n];return n<r?{value:t[i],key:i}:null}}function we(t){return function(){if(null===t)throw new Error("Callback was already called.");var e=t;t=null,e.apply(this,arguments)}}function ke(t,e,n){n=Xt(n||Zt);var r=0,i=0,o=t.length;function s(t,e){t?n(t):++i!==o&&e!==Yt||n(null)}for(0===o&&n(null);r<o;r++)e(t[r],r,we(s))}var Ee=function(t,e,n){return function(t,e,n,r){!function(t){return function(e,n,r){if(r=Xt(r||Zt),t<=0||!e)return r(null);var i=function(t){if(Wt(t))return function(t){var e=-1,n=t.length;return function(){return++e<n?{value:t[e],key:e}:null}}(t);var e=function(t){return Gt&&t[Gt]&&t[Gt]()}(t);return e?function(t){var e=-1;return function(){var n=t.next();return n.done?null:(e++,{value:n.value,key:e})}}(e):_e(t)}(e),o=!1,s=0,a=!1;function c(t,e){if(s-=1,t)o=!0,r(t);else{if(e===Yt||o&&s<=0)return o=!0,r(null);a||u()}}function u(){for(a=!0;s<t&&!o;){var e=i();if(null===e)return o=!0,void(s<=0&&r(null));s+=1,n(e.value,e.key,we(c))}a=!1}u()}}(e)(t,Lt(n),r)}(t,1/0,e,n)},Se=Rt?Rt.prototype:void 0;function Ce(t,e,n){!function(t,e,n){(Wt(t)?ke:Ee)(t,Lt(e),n)}(t,function(t){return function(e,n,r){return t(e,r)}}(Lt(e)),n)}Se&&Se.toString,At?i.nextTick:xt&&setImmediate;var xe=v.webkitRequestFileSystem||v.requestFileSystem||null;function Ae(t,e,n){switch(t.name){case"PathExistsError":return h.EEXIST(e);case"QuotaExceededError":return h.FileError(s.ENOSPC,e);case"NotFoundError":return h.ENOENT(e);case"SecurityError":return h.FileError(s.EACCES,e);case"InvalidModificationError":return h.FileError(s.EPERM,e);case"TypeMismatchError":return h.FileError(n?s.ENOTDIR:s.EISDIR,e);case"EncodingError":case"InvalidStateError":case"NoModificationAllowedError":default:return h.FileError(s.EINVAL,e)}}var Te=function(t){function e(e,n,r,i,o,s){t.call(this,e,r,i,o,s),this._entry=n}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.sync=function(t){var e=this;if(!this.isDirty())return t();this._entry.createWriter((function(n){var r=e.getBuffer(),i=new Blob([U(r)]),o=i.size;n.onwriteend=function(r){n.onwriteend=null,n.onerror=null,n.truncate(o),e.resetDirty(),t()},n.onerror=function(n){t(Ae(n,e.getPath(),!1))},n.write(i)}))},e.prototype.close=function(t){this.sync(t)},e}(it),Fe=function(t){function e(e,n){void 0===e&&(e=5),void 0===n&&(n=v.PERSISTENT),t.call(this),this.size=1048576*e,this.type=n}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.Create=function(t,n){var r=new e(t.size,t.type);r._allocate((function(t){return t?n(t):n(null,r)}))},e.isAvailable=function(){return!!xe},e.prototype.getName=function(){return e.Name},e.prototype.isReadOnly=function(){return!1},e.prototype.supportsSymlinks=function(){return!1},e.prototype.supportsProps=function(){return!1},e.prototype.supportsSynch=function(){return!1},e.prototype.empty=function(t){this._readdir("/",(function(e,n){e?t(e):Ce(n,(function(t,e){var n=function(){e()},r=function(n){e(Ae(n,t.fullPath,!t.isDirectory))};!function(t){return t.isDirectory}(t)?t.remove(n,r):t.removeRecursively(n,r)}),(function(n){e?t(e):t()}))}))},e.prototype.rename=function(t,e,n){var r=this,i=2,o=0,c=this.fs.root,u=t,l=function(t){--i<=0&&n(Ae(t,u,!1))},f=function(i){return 2==++o?n(new h(s.EINVAL,"Something was identified as both a file and a directory. This should never happen.")):t===e?n():(u=a.dirname(e),void c.getDirectory(u,{},(function(o){u=a.basename(e),i.moveTo(o,u,(function(t){n()}),(function(o){i.isDirectory?(u=e,r.unlink(e,(function(i){i?l(o):r.rename(t,e,n)}))):l(o)}))}),l))};c.getFile(t,{},f,l),c.getDirectory(t,{},f,l)},e.prototype.stat=function(t,e,n){var r=this,i={create:!1},o=function(t){var e=new y(p.DIRECTORY,4096);n(null,e)},s=function(e){n(Ae(e,t,!1))};this.fs.root.getFile(t,i,(function(t){t.file((function(t){var e=new y(p.FILE,t.size);n(null,e)}),s)}),(function(){r.fs.root.getDirectory(t,i,o,s)}))},e.prototype.open=function(t,e,n,r){var i=this,o=function(n){"InvalidModificationError"===n.name&&e.isExclusive()?r(h.EEXIST(t)):r(Ae(n,t,!1))};this.fs.root.getFile(t,{create:e.pathNotExistsAction()===l.CREATE_FILE,exclusive:e.isExclusive()},(function(n){n.file((function(s){var a=new FileReader;a.onloadend=function(o){var c=i._makeFile(t,n,e,s,a.result);r(null,c)},a.onerror=function(t){o(a.error)},a.readAsArrayBuffer(s)}),o)}),o)},e.prototype.unlink=function(t,e){this._remove(t,e,!0)},e.prototype.rmdir=function(t,e){var n=this;this.readdir(t,(function(r,i){r?e(r):i.length>0?e(h.ENOTEMPTY(t)):n._remove(t,e,!1)}))},e.prototype.mkdir=function(t,e,n){this.fs.root.getDirectory(t,{create:!0,exclusive:!0},(function(t){n()}),(function(e){n(Ae(e,t,!0))}))},e.prototype.readdir=function(t,e){this._readdir(t,(function(t,n){if(!n)return e(t);for(var r=[],i=0,o=n;i<o.length;i+=1){var s=o[i];r.push(s.name)}e(null,r)}))},e.prototype._makeFile=function(t,e,n,r,i){void 0===i&&(i=new ArrayBuffer(0));var o=new y(p.FILE,r.size),s=W(i);return new Te(this,e,t,n,o,s)},e.prototype._readdir=function(t,e){var n=function(n){e(Ae(n,t,!0))};this.fs.root.getDirectory(t,{create:!1},(function(t){var r=t.createReader(),i=[],o=function(){r.readEntries((function(t){t.length?(i=i.concat(function(t){return Array.prototype.slice.call(t||[],0)}(t)),o()):e(null,i)}),n)};o()}),n)},e.prototype._allocate=function(t){var e=this,n=function(n){e.fs=n,t()},r=function(e){t(Ae(e,"/",!0))};this.type===v.PERSISTENT?function(t,e,n,r){if(void 0!==navigator.webkitPersistentStorage)switch(t){case v.PERSISTENT:navigator.webkitPersistentStorage.requestQuota(e,n,r);break;case v.TEMPORARY:navigator.webkitTemporaryStorage.requestQuota(e,n,r);break;default:r(new TypeError("Invalid storage type: "+t))}else v.webkitStorageInfo.requestQuota(t,e,n,r)}(this.type,this.size,(function(t){xe(e.type,t,n,r)}),r):xe(this.type,this.size,n,r)},e.prototype._remove=function(t,e,n){var r=function(r){r.remove((function(){e()}),(function(r){e(Ae(r,t,!n))}))},i=function(r){e(Ae(r,t,!n))},o={create:!1};n?this.fs.root.getFile(t,o,r,i):this.fs.root.getDirectory(t,o,r,i)},e}(et);Fe.Name="HTML5FS",Fe.Options={size:{type:"number",optional:!0,description:"Storage quota to request, in megabytes. Allocated value may be less. Defaults to 5."},type:{type:"number",optional:!0,description:"window.PERSISTENT or window.TEMPORARY. Defaults to PERSISTENT."}};var Oe=function(t,e,n,r,i,o){this.id=t,this.size=e,this.mode=n,this.atime=r,this.mtime=i,this.ctime=o};Oe.fromBuffer=function(t){if(void 0===t)throw new Error("NO");return new Oe(t.toString("ascii",30),t.readUInt32LE(0),t.readUInt16LE(4),t.readDoubleLE(6),t.readDoubleLE(14),t.readDoubleLE(22))},Oe.prototype.toStats=function(){return new y((61440&this.mode)===p.DIRECTORY?p.DIRECTORY:p.FILE,this.size,this.mode,this.atime,this.mtime,this.ctime)},Oe.prototype.getSize=function(){return 30+this.id.length},Oe.prototype.toBuffer=function(e){return void 0===e&&(e=t.alloc(this.getSize())),e.writeUInt32LE(this.size,0),e.writeUInt16LE(this.mode,4),e.writeDoubleLE(this.atime,6),e.writeDoubleLE(this.mtime,14),e.writeDoubleLE(this.ctime,22),e.write(this.id,30,this.id.length,"ascii"),e},Oe.prototype.update=function(t){var e=!1;this.size!==t.size&&(this.size=t.size,e=!0),this.mode!==t.mode&&(this.mode=t.mode,e=!0);var n=t.atime.getTime();this.atime!==n&&(this.atime=n,e=!0);var r=t.mtime.getTime();this.mtime!==r&&(this.mtime=r,e=!0);var i=t.ctime.getTime();return this.ctime!==i&&(this.ctime=i,e=!0),e},Oe.prototype.isFile=function(){return(61440&this.mode)===p.FILE},Oe.prototype.isDirectory=function(){return(61440&this.mode)===p.DIRECTORY};var De=null;function Le(){return De||(De=t.from("{}"))}function Ie(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){var e=16*Math.random()|0;return("x"===t?e:3&e|8).toString(16)}))}function Me(t,e){return!t||(e(t),!1)}function Ne(t,e,n){return!t||(e.abort((function(){n(t)})),!1)}var Re=function(t,e){this.key=t,this.value=e,this.prev=null,this.next=null},Pe=function(t){this.limit=t,this.size=0,this.map={},this.head=null,this.tail=null};Pe.prototype.set=function(t,e){var n=new Re(t,e);this.map[t]?(this.map[t].value=n.value,this.remove(n.key)):this.size>=this.limit&&(delete this.map[this.tail.key],this.size--,this.tail=this.tail.prev,this.tail.next=null),this.setHead(n)},Pe.prototype.get=function(t){if(this.map[t]){var e=this.map[t].value,n=new Re(t,e);return this.remove(t),this.setHead(n),e}return null},Pe.prototype.remove=function(t){var e=this.map[t];e&&(null!==e.prev?e.prev.next=e.next:this.head=e.next,null!==e.next?e.next.prev=e.prev:this.tail=e.prev,delete this.map[t],this.size--)},Pe.prototype.removeAll=function(){this.size=0,this.map={},this.head=null,this.tail=null},Pe.prototype.setHead=function(t){t.next=this.head,t.prev=null,null!==this.head&&(this.head.prev=t),this.head=t,null===this.tail&&(this.tail=t),this.size++,this.map[t.key]=t};var Be=function(t){this.store=t,this.originalData={},this.modifiedKeys=[]};Be.prototype.get=function(t){var e=this.store.get(t);return this.stashOldValue(t,e),e},Be.prototype.put=function(t,e,n){return this.markModified(t),this.store.put(t,e,n)},Be.prototype.del=function(t){this.markModified(t),this.store.del(t)},Be.prototype.commit=function(){},Be.prototype.abort=function(){for(var t=0,e=this.modifiedKeys;t<e.length;t+=1){var n=e[t],r=this.originalData[n];r?this.store.put(n,r,!0):this.store.del(n)}},Be.prototype.stashOldValue=function(t,e){this.originalData.hasOwnProperty(t)||(this.originalData[t]=e)},Be.prototype.markModified=function(t){-1===this.modifiedKeys.indexOf(t)&&(this.modifiedKeys.push(t),this.originalData.hasOwnProperty(t)||(this.originalData[t]=this.store.get(t)))};var je=function(t){function e(e,n,r,i,o){t.call(this,e,n,r,i,o)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.syncSync=function(){this.isDirty()&&(this._fs._syncSync(this.getPath(),this.getBuffer(),this.getStats()),this.resetDirty())},e.prototype.closeSync=function(){this.syncSync()},e}(it),ze=function(e){function n(t){e.call(this),this.store=t.store,this.makeRootDirectory()}return e&&(n.__proto__=e),n.prototype=Object.create(e&&e.prototype),n.prototype.constructor=n,n.isAvailable=function(){return!0},n.prototype.getName=function(){return this.store.name()},n.prototype.isReadOnly=function(){return!1},n.prototype.supportsSymlinks=function(){return!1},n.prototype.supportsProps=function(){return!1},n.prototype.supportsSynch=function(){return!0},n.prototype.empty=function(){this.store.clear(),this.makeRootDirectory()},n.prototype.renameSync=function(e,n){var r=this.store.beginTransaction("readwrite"),i=a.dirname(e),o=a.basename(e),c=a.dirname(n),u=a.basename(n),l=this.findINode(r,i),f=this.getDirListing(r,i,l);if(!f[o])throw h.ENOENT(e);var p,d,y=f[o];if(delete f[o],0===(c+"/").indexOf(e+"/"))throw new h(s.EBUSY,i);if(c===i?(p=l,d=f):(p=this.findINode(r,c),d=this.getDirListing(r,c,p)),d[u]){var m=this.getINode(r,n,d[u]);if(!m.isFile())throw h.EPERM(n);try{r.del(m.id),r.del(d[u])}catch(t){throw r.abort(),t}}d[u]=y;try{r.put(l.id,t.from(JSON.stringify(f)),!0),r.put(p.id,t.from(JSON.stringify(d)),!0)}catch(t){throw r.abort(),t}r.commit()},n.prototype.statSync=function(t,e){return this.findINode(this.store.beginTransaction("readonly"),t).toStats()},n.prototype.createFileSync=function(t,e,n){var r=this.store.beginTransaction("readwrite"),i=X(),o=this.commitNewFile(r,t,p.FILE,n,i);return new je(this,t,e,o.toStats(),i)},n.prototype.openFileSync=function(t,e){var n=this.store.beginTransaction("readonly"),r=this.findINode(n,t),i=n.get(r.id);if(void 0===i)throw h.ENOENT(t);return new je(this,t,e,r.toStats(),i)},n.prototype.unlinkSync=function(t){this.removeEntry(t,!1)},n.prototype.rmdirSync=function(t){if(this.readdirSync(t).length>0)throw h.ENOTEMPTY(t);this.removeEntry(t,!0)},n.prototype.mkdirSync=function(e,n){var r=this.store.beginTransaction("readwrite"),i=t.from("{}");this.commitNewFile(r,e,p.DIRECTORY,n,i)},n.prototype.readdirSync=function(t){var e=this.store.beginTransaction("readonly");return Object.keys(this.getDirListing(e,t,this.findINode(e,t)))},n.prototype._syncSync=function(t,e,n){var r=this.store.beginTransaction("readwrite"),i=this._findINode(r,a.dirname(t),a.basename(t)),o=this.getINode(r,t,i),s=o.update(n);try{r.put(o.id,e,!0),s&&r.put(i,o.toBuffer(),!0)}catch(t){throw r.abort(),t}r.commit()},n.prototype.makeRootDirectory=function(){var t=this.store.beginTransaction("readwrite");if(void 0===t.get("/")){var e=(new Date).getTime(),n=new Oe(Ie(),4096,511|p.DIRECTORY,e,e,e);t.put(n.id,Le(),!1),t.put("/",n.toBuffer(),!1),t.commit()}},n.prototype._findINode=function(t,e,n){var r=this,i=function(i){var o=r.getDirListing(t,e,i);if(o[n])return o[n];throw h.ENOENT(a.resolve(e,n))};return"/"===e?""===n?"/":i(this.getINode(t,e,"/")):i(this.getINode(t,e+a.sep+n,this._findINode(t,a.dirname(e),a.basename(e))))},n.prototype.findINode=function(t,e){return this.getINode(t,e,this._findINode(t,a.dirname(e),a.basename(e)))},n.prototype.getINode=function(t,e,n){var r=t.get(n);if(void 0===r)throw h.ENOENT(e);return Oe.fromBuffer(r)},n.prototype.getDirListing=function(t,e,n){if(!n.isDirectory())throw h.ENOTDIR(e);var r=t.get(n.id);if(void 0===r)throw h.ENOENT(e);return JSON.parse(r.toString())},n.prototype.addNewNode=function(t,e){for(var n;;)try{return n=Ie(),t.put(n,e,!1),n}catch(t){}throw new h(s.EIO,"Unable to commit data to key-value store.")},n.prototype.commitNewFile=function(e,n,r,i,o){var s,c=a.dirname(n),u=a.basename(n),l=this.findINode(e,c),f=this.getDirListing(e,c,l),p=(new Date).getTime();if("/"===n)throw h.EEXIST(n);if(f[u])throw h.EEXIST(n);try{var d=this.addNewNode(e,o);s=new Oe(d,o.length,i|r,p,p,p);var y=this.addNewNode(e,s.toBuffer());f[u]=y,e.put(l.id,t.from(JSON.stringify(f)),!0)}catch(t){throw e.abort(),t}return e.commit(),s},n.prototype.removeEntry=function(e,n){var r=this.store.beginTransaction("readwrite"),i=a.dirname(e),o=this.findINode(r,i),s=this.getDirListing(r,i,o),c=a.basename(e);if(!s[c])throw h.ENOENT(e);var u=s[c];delete s[c];var l=this.getINode(r,e,u);if(!n&&l.isDirectory())throw h.EISDIR(e);if(n&&!l.isDirectory())throw h.ENOTDIR(e);try{r.del(l.id),r.del(u),r.put(o.id,t.from(JSON.stringify(s)),!0)}catch(t){throw r.abort(),t}r.commit()},n}(nt),Ue=function(t){function e(e,n,r,i,o){t.call(this,e,n,r,i,o)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.sync=function(t){var e=this;this.isDirty()?this._fs._sync(this.getPath(),this.getBuffer(),this.getStats(),(function(n){n||e.resetDirty(),t(n)})):t()},e.prototype.close=function(t){this.sync(t)},e}(it),qe=function(e){function n(t){e.call(this),this._cache=null,t>0&&(this._cache=new Pe(t))}return e&&(n.__proto__=e),n.prototype=Object.create(e&&e.prototype),n.prototype.constructor=n,n.isAvailable=function(){return!0},n.prototype.init=function(t,e){this.store=t,this.makeRootDirectory(e)},n.prototype.getName=function(){return this.store.name()},n.prototype.isReadOnly=function(){return!1},n.prototype.supportsSymlinks=function(){return!1},n.prototype.supportsProps=function(){return!1},n.prototype.supportsSynch=function(){return!1},n.prototype.empty=function(t){var e=this;this._cache&&this._cache.removeAll(),this.store.clear((function(n){Me(n,t)&&e.makeRootDirectory(t)}))},n.prototype.rename=function(e,n,r){var i=this;if(this._cache){var o=this._cache;this._cache=null,o.removeAll();var c=r;r=function(t){i._cache=o,c(t)}}var u=this.store.beginTransaction("readwrite"),l=a.dirname(e),f=a.basename(e),p=a.dirname(n),d=a.basename(n),y={},m={},g=!1;if(0===(p+"/").indexOf(e+"/"))return r(new h(s.EBUSY,l));var v=function(o){i.findINodeAndDirListing(u,o,(function(s,a,c){s?g||(g=!0,u.abort((function(){r(s)}))):(y[o]=a,m[o]=c,function(){if(!g&&m.hasOwnProperty(l)&&m.hasOwnProperty(p)){var o=m[l],s=y[l],a=m[p],c=y[p];if(o[f]){var v=o[f];delete o[f];var b=function(){a[d]=v,u.put(s.id,t.from(JSON.stringify(o)),!0,(function(e){Ne(e,u,r)&&(l===p?u.commit(r):u.put(c.id,t.from(JSON.stringify(a)),!0,(function(t){Ne(t,u,r)&&u.commit(r)})))}))};a[d]?i.getINode(u,n,a[d],(function(t,e){Ne(t,u,r)&&(e.isFile()?u.del(e.id,(function(t){Ne(t,u,r)&&u.del(a[d],(function(t){Ne(t,u,r)&&b()}))})):u.abort((function(t){r(h.EPERM(n))})))})):b()}else r(h.ENOENT(e))}}())}))};v(l),l!==p&&v(p)},n.prototype.stat=function(t,e,n){var r=this.store.beginTransaction("readonly");this.findINode(r,t,(function(t,e){Me(t,n)&&n(null,e.toStats())}))},n.prototype.createFile=function(t,e,n,r){var i=this,o=this.store.beginTransaction("readwrite"),s=X();this.commitNewFile(o,t,p.FILE,n,s,(function(n,o){Me(n,r)&&r(null,new Ue(i,t,e,o.toStats(),s))}))},n.prototype.openFile=function(t,e,n){var r=this,i=this.store.beginTransaction("readonly");this.findINode(i,t,(function(o,s){Me(o,n)&&i.get(s.id,(function(i,o){Me(i,n)&&(void 0===o?n(h.ENOENT(t)):n(null,new Ue(r,t,e,s.toStats(),o)))}))}))},n.prototype.unlink=function(t,e){this.removeEntry(t,!1,e)},n.prototype.rmdir=function(t,e){var n=this;this.readdir(t,(function(r,i){r?e(r):i.length>0?e(h.ENOTEMPTY(t)):n.removeEntry(t,!0,e)}))},n.prototype.mkdir=function(e,n,r){var i=this.store.beginTransaction("readwrite"),o=t.from("{}");this.commitNewFile(i,e,p.DIRECTORY,n,o,r)},n.prototype.readdir=function(t,e){var n=this,r=this.store.beginTransaction("readonly");this.findINode(r,t,(function(i,o){Me(i,e)&&n.getDirListing(r,t,o,(function(t,n){Me(t,e)&&e(null,Object.keys(n))}))}))},n.prototype._sync=function(t,e,n,r){var i=this,o=this.store.beginTransaction("readwrite");this._findINode(o,a.dirname(t),a.basename(t),(function(s,a){Ne(s,o,r)&&i.getINode(o,t,a,(function(t,i){if(Ne(t,o,r)){var s=i.update(n);o.put(i.id,e,!0,(function(t){Ne(t,o,r)&&(s?o.put(a,i.toBuffer(),!0,(function(t){Ne(t,o,r)&&o.commit(r)})):o.commit(r))}))}}))}))},n.prototype.makeRootDirectory=function(t){var e=this.store.beginTransaction("readwrite");e.get("/",(function(n,r){if(n||void 0===r){var i=(new Date).getTime(),o=new Oe(Ie(),4096,511|p.DIRECTORY,i,i,i);e.put(o.id,Le(),!1,(function(n){Ne(n,e,t)&&e.put("/",o.toBuffer(),!1,(function(n){n?e.abort((function(){t(n)})):e.commit(t)}))}))}else e.commit(t)}))},n.prototype._findINode=function(t,e,n,r){var i=this;if(this._cache){var o=this._cache.get(a.join(e,n));if(o)return r(null,o)}var s=function(t,o,s){if(t)r(t);else if(s[n]){var c=s[n];i._cache&&i._cache.set(a.join(e,n),c),r(null,c)}else r(h.ENOENT(a.resolve(e,n)))};"/"===e?""===n?(this._cache&&this._cache.set(a.join(e,n),"/"),r(null,"/")):this.getINode(t,e,"/",(function(n,o){Me(n,r)&&i.getDirListing(t,e,o,(function(t,e){s(t,0,e)}))})):this.findINodeAndDirListing(t,e,s)},n.prototype.findINode=function(t,e,n){var r=this;this._findINode(t,a.dirname(e),a.basename(e),(function(i,o){Me(i,n)&&r.getINode(t,e,o,n)}))},n.prototype.getINode=function(t,e,n,r){t.get(n,(function(t,n){Me(t,r)&&(void 0===n?r(h.ENOENT(e)):r(null,Oe.fromBuffer(n)))}))},n.prototype.getDirListing=function(t,e,n,r){n.isDirectory()?t.get(n.id,(function(t,n){if(Me(t,r))try{r(null,JSON.parse(n.toString()))}catch(t){r(h.ENOENT(e))}})):r(h.ENOTDIR(e))},n.prototype.findINodeAndDirListing=function(t,e,n){var r=this;this.findINode(t,e,(function(i,o){Me(i,n)&&r.getDirListing(t,e,o,(function(t,e){Me(t,n)&&n(null,o,e)}))}))},n.prototype.addNewNode=function(t,e,n){var r,i=0,o=function(){5==++i?n(new h(s.EIO,"Unable to commit data to key-value store.")):(r=Ie(),t.put(r,e,!1,(function(t,e){t||!e?o():n(null,r)})))};o()},n.prototype.commitNewFile=function(e,n,r,i,o,s){var c=this,u=a.dirname(n),l=a.basename(n),f=(new Date).getTime();if("/"===n)return s(h.EEXIST(n));this.findINodeAndDirListing(e,u,(function(a,u,p){Ne(a,e,s)&&(p[l]?e.abort((function(){s(h.EEXIST(n))})):c.addNewNode(e,o,(function(n,a){if(Ne(n,e,s)){var h=new Oe(a,o.length,i|r,f,f,f);c.addNewNode(e,h.toBuffer(),(function(n,r){Ne(n,e,s)&&(p[l]=r,e.put(u.id,t.from(JSON.stringify(p)),!0,(function(t){Ne(t,e,s)&&e.commit((function(t){Ne(t,e,s)&&s(null,h)}))})))}))}})))}))},n.prototype.removeEntry=function(e,n,r){var i=this;this._cache&&this._cache.remove(e);var o=this.store.beginTransaction("readwrite"),s=a.dirname(e),c=a.basename(e);this.findINodeAndDirListing(o,s,(function(s,a,u){if(Ne(s,o,r))if(u[c]){var l=u[c];delete u[c],i.getINode(o,e,l,(function(i,s){Ne(i,o,r)&&(!n&&s.isDirectory()?o.abort((function(){r(h.EISDIR(e))})):n&&!s.isDirectory()?o.abort((function(){r(h.ENOTDIR(e))})):o.del(s.id,(function(e){Ne(e,o,r)&&o.del(l,(function(e){Ne(e,o,r)&&o.put(a.id,t.from(JSON.stringify(u)),!0,(function(t){Ne(t,o,r)&&o.commit(r)}))}))})))}))}else o.abort((function(){r(h.ENOENT(e))}))}))},n}(et),He=function(){this.store={}};He.prototype.name=function(){return Ve.Name},He.prototype.clear=function(){this.store={}},He.prototype.beginTransaction=function(t){return new Be(this)},He.prototype.get=function(t){return this.store[t]},He.prototype.put=function(t,e,n){return!(!n&&this.store.hasOwnProperty(t)||(this.store[t]=e,0))},He.prototype.del=function(t){delete this.store[t]};var Ve=function(t){function e(){t.call(this,{store:new He})}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.Create=function(t,n){n(null,new e)},e}(ze);Ve.Name="InMemory",Ve.Options={};var We=function(){try{return v.indexedDB||v.mozIndexedDB||v.webkitIndexedDB||v.msIndexedDB}catch(t){return null}}();function Ye(t,e){switch(void 0===e&&(e=t.toString()),t.name){case"NotFoundError":return new h(s.ENOENT,e);case"QuotaExceededError":return new h(s.ENOSPC,e);default:return new h(s.EIO,e)}}function Ze(t,e,n){return void 0===e&&(e=s.EIO),void 0===n&&(n=null),function(r){r.preventDefault(),t(new h(e,null!==n?n:void 0))}}var Xe=function(t,e){this.tx=t,this.store=e};Xe.prototype.get=function(t,e){try{var n=this.store.get(t);n.onerror=Ze(e),n.onsuccess=function(t){var n=t.target.result;e(null,void 0===n?n:W(n))}}catch(t){e(Ye(t))}};var Ge=function(t){function e(e,n){t.call(this,e,n)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.put=function(t,e,n,r){try{var i,o=U(e);(i=n?this.store.put(o,t):this.store.add(o,t)).onerror=Ze(r),i.onsuccess=function(t){r(null,!0)}}catch(t){r(Ye(t))}},e.prototype.del=function(t,e){try{var n=this.store.delete(t);n.onerror=Ze(e),n.onsuccess=function(t){e()}}catch(t){e(Ye(t))}},e.prototype.commit=function(t){setTimeout(t,0)},e.prototype.abort=function(t){var e=null;try{this.tx.abort()}catch(t){e=Ye(t)}finally{t(e)}},e}(Xe),$e=function(t,e){this.db=t,this.storeName=e};$e.Create=function(t,e){var n=We.open(t,1);n.onupgradeneeded=function(e){var n=e.target.result;n.objectStoreNames.contains(t)&&n.deleteObjectStore(t),n.createObjectStore(t)},n.onsuccess=function(n){e(null,new $e(n.target.result,t))},n.onerror=Ze(e,s.EACCES)},$e.prototype.name=function(){return Je.Name+" - "+this.storeName},$e.prototype.clear=function(t){try{var e=this.db.transaction(this.storeName,"readwrite").objectStore(this.storeName).clear();e.onsuccess=function(e){setTimeout(t,0)},e.onerror=Ze(t)}catch(e){t(Ye(e))}},$e.prototype.beginTransaction=function(t){void 0===t&&(t="readonly");var e=this.db.transaction(this.storeName,t),n=e.objectStore(this.storeName);if("readwrite"===t)return new Ge(e,n);if("readonly"===t)return new Xe(e,n);throw new h(s.EINVAL,"Invalid transaction type.")};var Je=function(t){function e(e){t.call(this,e)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.Create=function(t,n){void 0===t&&(t={}),$e.Create(t.storeName?t.storeName:"browserfs",(function(r,i){if(i){var o=new e("number"==typeof t.cacheSize?t.cacheSize:100);o.init(i,(function(t){t?n(t):n(null,o)}))}else n(r)}))},e.isAvailable=function(){try{return void 0!==We&&null!==We.open("__browserfs_test__")}catch(t){return!1}},e}(qe);Je.Name="IndexedDB",Je.Options={storeName:{type:"string",optional:!0,description:"The name of this file system. You can have multiple IndexedDB file systems operating at once, but each must have a different name."},cacheSize:{type:"number",optional:!0,description:"The size of the inode cache. Defaults to 100. A size of 0 or below disables caching."}};var Ke,Qe=!1;try{v.localStorage.setItem("__test__",String.fromCharCode(55296)),Qe=v.localStorage.getItem("__test__")===String.fromCharCode(55296)}catch(t){Qe=!1}Ke=Qe?"binary_string":"binary_string_ie",t.isEncoding(Ke)||(Ke="base64");var tn=function(){};tn.prototype.name=function(){return en.Name},tn.prototype.clear=function(){v.localStorage.clear()},tn.prototype.beginTransaction=function(t){return new Be(this)},tn.prototype.get=function(e){try{var n=v.localStorage.getItem(e);if(null!==n)return t.from(n,Ke)}catch(t){}},tn.prototype.put=function(t,e,n){try{return!(!n&&null!==v.localStorage.getItem(t)||(v.localStorage.setItem(t,e.toString(Ke)),0))}catch(t){throw new h(s.ENOSPC,"LocalStorage is full.")}},tn.prototype.del=function(t){try{v.localStorage.removeItem(t)}catch(e){throw new h(s.EIO,"Unable to delete key "+t+": "+e)}};var en=function(t){function e(){t.call(this,{store:new tn})}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.Create=function(t,n){n(null,new e)},e.isAvailable=function(){return void 0!==v.localStorage},e}(ze);en.Name="LocalStorage",en.Options={};var nn=function(t){function e(e){t.call(this),this.mountList=[],this.mntMap={},this.rootFs=e}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.Create=function(t,n){Ve.Create({},(function(r,i){if(i){var o=new e(i);try{Object.keys(t).forEach((function(e){o.mount(e,t[e])}))}catch(r){return n(r)}n(null,o)}else n(r)}))},e.isAvailable=function(){return!0},e.prototype.mount=function(t,e){if("/"!==t[0]&&(t="/"+t),t=a.resolve(t),this.mntMap[t])throw new h(s.EINVAL,"Mount point "+t+" is already taken.");z(t,511,this.rootFs),this.mntMap[t]=e,this.mountList.push(t),this.mountList=this.mountList.sort((function(t,e){return e.length-t.length}))},e.prototype.umount=function(t){if("/"!==t[0]&&(t="/"+t),t=a.resolve(t),!this.mntMap[t])throw new h(s.EINVAL,"Mount point "+t+" is already unmounted.");for(delete this.mntMap[t],this.mountList.splice(this.mountList.indexOf(t),1);"/"!==t&&0===this.rootFs.readdirSync(t).length;)this.rootFs.rmdirSync(t),t=a.dirname(t)},e.prototype._getFs=function(t){for(var e=this.mountList,n=e.length,r=0;r<n;r++){var i=e[r];if(i.length<=t.length&&0===t.indexOf(i))return""===(t=t.substr(i.length>1?i.length:0))&&(t="/"),{fs:this.mntMap[i],path:t,mountPoint:i}}return{fs:this.rootFs,path:t,mountPoint:"/"}},e.prototype.getName=function(){return e.Name},e.prototype.diskSpace=function(t,e){e(0,0)},e.prototype.isReadOnly=function(){return!1},e.prototype.supportsLinks=function(){return!1},e.prototype.supportsProps=function(){return!1},e.prototype.supportsSynch=function(){return!0},e.prototype.standardizeError=function(t,e,n){var r=t.message.indexOf(e);return-1!==r&&(t.message=t.message.substr(0,r)+n+t.message.substr(r+e.length),t.path=n),t},e.prototype.rename=function(t,e,n){var r=this,i=this._getFs(t),o=this._getFs(e);return i.fs===o.fs?i.fs.rename(i.path,o.path,(function(s){s&&r.standardizeError(r.standardizeError(s,i.path,t),o.path,e),n(s)})):M.readFile(t,(function(r,i){if(r)return n(r);M.writeFile(e,i,(function(e){if(e)return n(e);M.unlink(t,n)}))}))},e.prototype.renameSync=function(t,e){var n=this._getFs(t),r=this._getFs(e);if(n.fs===r.fs)try{return n.fs.renameSync(n.path,r.path)}catch(i){throw this.standardizeError(this.standardizeError(i,n.path,t),r.path,e),i}var i=M.readFileSync(t);return M.writeFileSync(e,i),M.unlinkSync(t)},e.prototype.readdirSync=function(t){var e=this._getFs(t),n=null;if(e.fs!==this.rootFs)try{n=this.rootFs.readdirSync(t)}catch(t){}try{var r=e.fs.readdirSync(e.path);return null===n?r:r.concat(n.filter((function(t){return-1===r.indexOf(t)})))}catch(r){if(null===n)throw this.standardizeError(r,e.path,t);return n}},e.prototype.readdir=function(t,e){var n=this,r=this._getFs(t);r.fs.readdir(r.path,(function(i,o){if(r.fs!==n.rootFs)try{var s=n.rootFs.readdirSync(t);o=o?o.concat(s.filter((function(t){return-1===o.indexOf(t)}))):s}catch(o){if(i)return e(n.standardizeError(i,r.path,t))}else if(i)return e(n.standardizeError(i,r.path,t));e(null,o)}))},e.prototype.realpathSync=function(t,e){var n=this._getFs(t);try{var r=n.fs.realpathSync(n.path,{});return a.resolve(a.join(n.mountPoint,r))}catch(e){throw this.standardizeError(e,n.path,t)}},e.prototype.realpath=function(t,e,n){var r=this,i=this._getFs(t);i.fs.realpath(i.path,{},(function(e,o){e?n(r.standardizeError(e,i.path,t)):n(null,a.resolve(a.join(i.mountPoint,o)))}))},e.prototype.rmdirSync=function(t){var e=this._getFs(t);if(this._containsMountPt(t))throw h.ENOTEMPTY(t);try{e.fs.rmdirSync(e.path)}catch(n){throw this.standardizeError(n,e.path,t)}},e.prototype.rmdir=function(t,e){var n=this,r=this._getFs(t);this._containsMountPt(t)?e(h.ENOTEMPTY(t)):r.fs.rmdir(r.path,(function(i){e(i?n.standardizeError(i,r.path,t):null)}))},e.prototype._containsMountPt=function(t){for(var e=this.mountList,n=e.length,r=0;r<n;r++){var i=e[r];if(i.length>=t.length&&i.slice(0,t.length)===t)return!0}return!1},e}(et);function rn(t,e,n){return e?function(){for(var e=[],n=arguments.length;n--;)e[n]=arguments[n];var r=e[0],i=this._getFs(r);e[0]=i.path;try{return i.fs[t].apply(i.fs,e)}catch(t){throw this.standardizeError(t,i.path,r),t}}:function(){for(var e=this,n=[],r=arguments.length;r--;)n[r]=arguments[r];var i=n[0],o=this._getFs(i);if(n[0]=o.path,"function"==typeof n[n.length-1]){var s=n[n.length-1];n[n.length-1]=function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];t.length>0&&t[0]instanceof h&&e.standardizeError(t[0],o.path,i),s.apply(null,t)}}return o.fs[t].apply(o.fs,n)}}nn.Name="MountableFileSystem",nn.Options={};for(var on=[["exists","unlink","readlink"],["stat","mkdir","truncate"],["open","readFile","chmod","utimes"],["chown"],["writeFile","appendFile"]],sn=0;sn<on.length;sn++)for(var an=0,cn=on[sn];an<cn.length;an+=1){var un=cn[an];nn.prototype[un]=rn(un,!1),nn.prototype[un+"Sync"]=rn(un+"Sync",!0)}var ln=function(){this._locked=!1,this._waiters=[]};ln.prototype.lock=function(t){this._locked?this._waiters.push(t):(this._locked=!0,t())},ln.prototype.unlock=function(){if(!this._locked)throw new Error("unlock of a non-locked mutex");var t=this._waiters.shift();t?E(t):this._locked=!1},ln.prototype.tryLock=function(){return!this._locked&&(this._locked=!0,!0)},ln.prototype.isLocked=function(){return this._locked};var hn=function(t){this._fs=t,this._mu=new ln};hn.prototype.getName=function(){return"LockedFS<"+this._fs.getName()+">"},hn.prototype.getFSUnlocked=function(){return this._fs},hn.prototype.diskSpace=function(t,e){this._fs.diskSpace(t,e)},hn.prototype.isReadOnly=function(){return this._fs.isReadOnly()},hn.prototype.supportsLinks=function(){return this._fs.supportsLinks()},hn.prototype.supportsProps=function(){return this._fs.supportsProps()},hn.prototype.supportsSynch=function(){return this._fs.supportsSynch()},hn.prototype.rename=function(t,e,n){var r=this;this._mu.lock((function(){r._fs.rename(t,e,(function(t){r._mu.unlock(),n(t)}))}))},hn.prototype.renameSync=function(t,e){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.renameSync(t,e)},hn.prototype.stat=function(t,e,n){var r=this;this._mu.lock((function(){r._fs.stat(t,e,(function(t,e){r._mu.unlock(),n(t,e)}))}))},hn.prototype.statSync=function(t,e){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.statSync(t,e)},hn.prototype.open=function(t,e,n,r){var i=this;this._mu.lock((function(){i._fs.open(t,e,n,(function(t,e){i._mu.unlock(),r(t,e)}))}))},hn.prototype.openSync=function(t,e,n){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.openSync(t,e,n)},hn.prototype.unlink=function(t,e){var n=this;this._mu.lock((function(){n._fs.unlink(t,(function(t){n._mu.unlock(),e(t)}))}))},hn.prototype.unlinkSync=function(t){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.unlinkSync(t)},hn.prototype.rmdir=function(t,e){var n=this;this._mu.lock((function(){n._fs.rmdir(t,(function(t){n._mu.unlock(),e(t)}))}))},hn.prototype.rmdirSync=function(t){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.rmdirSync(t)},hn.prototype.mkdir=function(t,e,n){var r=this;this._mu.lock((function(){r._fs.mkdir(t,e,(function(t){r._mu.unlock(),n(t)}))}))},hn.prototype.mkdirSync=function(t,e){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.mkdirSync(t,e)},hn.prototype.readdir=function(t,e){var n=this;this._mu.lock((function(){n._fs.readdir(t,(function(t,r){n._mu.unlock(),e(t,r)}))}))},hn.prototype.readdirSync=function(t){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.readdirSync(t)},hn.prototype.exists=function(t,e){var n=this;this._mu.lock((function(){n._fs.exists(t,(function(t){n._mu.unlock(),e(t)}))}))},hn.prototype.existsSync=function(t){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.existsSync(t)},hn.prototype.realpath=function(t,e,n){var r=this;this._mu.lock((function(){r._fs.realpath(t,e,(function(t,e){r._mu.unlock(),n(t,e)}))}))},hn.prototype.realpathSync=function(t,e){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.realpathSync(t,e)},hn.prototype.truncate=function(t,e,n){var r=this;this._mu.lock((function(){r._fs.truncate(t,e,(function(t){r._mu.unlock(),n(t)}))}))},hn.prototype.truncateSync=function(t,e){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.truncateSync(t,e)},hn.prototype.readFile=function(t,e,n,r){var i=this;this._mu.lock((function(){i._fs.readFile(t,e,n,(function(t,e){i._mu.unlock(),r(t,e)}))}))},hn.prototype.readFileSync=function(t,e,n){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.readFileSync(t,e,n)},hn.prototype.writeFile=function(t,e,n,r,i,o){var s=this;this._mu.lock((function(){s._fs.writeFile(t,e,n,r,i,(function(t){s._mu.unlock(),o(t)}))}))},hn.prototype.writeFileSync=function(t,e,n,r,i){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.writeFileSync(t,e,n,r,i)},hn.prototype.appendFile=function(t,e,n,r,i,o){var s=this;this._mu.lock((function(){s._fs.appendFile(t,e,n,r,i,(function(t){s._mu.unlock(),o(t)}))}))},hn.prototype.appendFileSync=function(t,e,n,r,i){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.appendFileSync(t,e,n,r,i)},hn.prototype.chmod=function(t,e,n,r){var i=this;this._mu.lock((function(){i._fs.chmod(t,e,n,(function(t){i._mu.unlock(),r(t)}))}))},hn.prototype.chmodSync=function(t,e,n){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.chmodSync(t,e,n)},hn.prototype.chown=function(t,e,n,r,i){var o=this;this._mu.lock((function(){o._fs.chown(t,e,n,r,(function(t){o._mu.unlock(),i(t)}))}))},hn.prototype.chownSync=function(t,e,n,r){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.chownSync(t,e,n,r)},hn.prototype.utimes=function(t,e,n,r){var i=this;this._mu.lock((function(){i._fs.utimes(t,e,n,(function(t){i._mu.unlock(),r(t)}))}))},hn.prototype.utimesSync=function(t,e,n){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.utimesSync(t,e,n)},hn.prototype.link=function(t,e,n){var r=this;this._mu.lock((function(){r._fs.link(t,e,(function(t){r._mu.unlock(),n(t)}))}))},hn.prototype.linkSync=function(t,e){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.linkSync(t,e)},hn.prototype.symlink=function(t,e,n,r){var i=this;this._mu.lock((function(){i._fs.symlink(t,e,n,(function(t){i._mu.unlock(),r(t)}))}))},hn.prototype.symlinkSync=function(t,e,n){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.symlinkSync(t,e,n)},hn.prototype.readlink=function(t,e){var n=this;this._mu.lock((function(){n._fs.readlink(t,(function(t,r){n._mu.unlock(),e(t,r)}))}))},hn.prototype.readlinkSync=function(t){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.readlinkSync(t)};var fn="/.deletedFiles.log";function pn(t){return 146|t}function dn(t){return d.getFileFlag(t)}var yn,mn=function(t){function e(e,n,r,i,o){t.call(this,e,n,r,i,o)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.sync=function(t){var e=this;this.isDirty()?this._fs._syncAsync(this,(function(n){e.resetDirty(),t(n)})):t(null)},e.prototype.syncSync=function(){this.isDirty()&&(this._fs._syncSync(this),this.resetDirty())},e.prototype.close=function(t){this.sync(t)},e.prototype.closeSync=function(){this.syncSync()},e}(it),gn=function(t){function e(e,n){if(t.call(this),this._isInitialized=!1,this._initializeCallbacks=[],this._deletedFiles={},this._deleteLog="",this._deleteLogUpdatePending=!1,this._deleteLogUpdateNeeded=!1,this._deleteLogError=null,this._writable=e,this._readable=n,this._writable.isReadOnly())throw new h(s.EINVAL,"Writable file system must be writable.")}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.isAvailable=function(){return!0},e.prototype.getOverlayedFileSystems=function(){return{readable:this._readable,writable:this._writable}},e.prototype._syncAsync=function(t,e){var n=this;this.createParentDirectoriesAsync(t.getPath(),(function(r){if(r)return e(r);n._writable.writeFile(t.getPath(),t.getBuffer(),null,dn("w"),t.getStats().mode,e)}))},e.prototype._syncSync=function(t){this.createParentDirectories(t.getPath()),this._writable.writeFileSync(t.getPath(),t.getBuffer(),null,dn("w"),t.getStats().mode)},e.prototype.getName=function(){return vn.Name},e.prototype._initialize=function(t){var e=this,n=this._initializeCallbacks,r=function(t){e._isInitialized=!t,e._initializeCallbacks=[],n.forEach((function(e){return e(t)}))};if(this._isInitialized)return t();n.push(t),1===n.length&&this._writable.readFile(fn,"utf8",dn("r"),(function(t,n){if(t){if(t.errno!==s.ENOENT)return r(t)}else e._deleteLog=n;e._reparseDeletionLog(),r()}))},e.prototype.isReadOnly=function(){return!1},e.prototype.supportsSynch=function(){return this._readable.supportsSynch()&&this._writable.supportsSynch()},e.prototype.supportsLinks=function(){return!1},e.prototype.supportsProps=function(){return this._readable.supportsProps()&&this._writable.supportsProps()},e.prototype.getDeletionLog=function(){return this._deleteLog},e.prototype.restoreDeletionLog=function(t){this._deleteLog=t,this._reparseDeletionLog(),this.updateLog("")},e.prototype.rename=function(t,e,n){var r=this;if(this.checkInitAsync(n)&&!this.checkPathAsync(t,n)&&!this.checkPathAsync(e,n))return t===fn||e===fn?n(h.EPERM("Cannot rename deletion log.")):t===e?n():void this.stat(t,!1,(function(i,o){return i?n(i):r.stat(e,!1,(function(i,c){var u=r;function l(r){var i=r.shift();if(!i)return n();var o=a.resolve(t,i),s=a.resolve(e,i);u.rename(o,s,(function(t){if(t)return n(t);l(r)}))}var f=511;if(o.isDirectory()){if(i)return i.errno!==s.ENOENT?n(i):r._writable.exists(t,(function(i){if(i)return r._writable.rename(t,e,n);r._writable.mkdir(e,f,(function(e){if(e)return n(e);r._readable.readdir(t,(function(t,e){if(t)return n();l(e)}))}))}));if(f=c.mode,!c.isDirectory())return n(h.ENOTDIR(e));r.readdir(e,(function(i,o){if(o&&o.length)return n(h.ENOTEMPTY(e));r._readable.readdir(t,(function(t,e){if(t)return n();l(e)}))}))}if(c&&c.isDirectory())return n(h.EISDIR(e));r.readFile(t,null,dn("r"),(function(i,s){return i?n(i):r.writeFile(e,s,null,dn("w"),o.mode,(function(e){return e?n(e):r.unlink(t,n)}))}))}))}))},e.prototype.renameSync=function(t,e){var n=this;if(this.checkInitialized(),this.checkPath(t),this.checkPath(e),t===fn||e===fn)throw h.EPERM("Cannot rename deletion log.");var r=this.statSync(t,!1);if(r.isDirectory()){if(t===e)return;var i=511;if(this.existsSync(e)){var o=this.statSync(e,!1);if(i=o.mode,!o.isDirectory())throw h.ENOTDIR(e);if(this.readdirSync(e).length>0)throw h.ENOTEMPTY(e)}this._writable.existsSync(t)?this._writable.renameSync(t,e):this._writable.existsSync(e)||this._writable.mkdirSync(e,i),this._readable.existsSync(t)&&this._readable.readdirSync(t).forEach((function(r){n.renameSync(a.resolve(t,r),a.resolve(e,r))}))}else{if(this.existsSync(e)&&this.statSync(e,!1).isDirectory())throw h.EISDIR(e);this.writeFileSync(e,this.readFileSync(t,null,dn("r")),null,dn("w"),r.mode)}t!==e&&this.existsSync(t)&&this.unlinkSync(t)},e.prototype.stat=function(t,e,n){var r=this;this.checkInitAsync(n)&&this._writable.stat(t,e,(function(i,o){i&&i.errno===s.ENOENT?(r._deletedFiles[t]&&n(h.ENOENT(t)),r._readable.stat(t,e,(function(t,e){e&&((e=y.clone(e)).mode=pn(e.mode)),n(t,e)}))):n(i,o)}))},e.prototype.statSync=function(t,e){this.checkInitialized();try{return this._writable.statSync(t,e)}catch(r){if(this._deletedFiles[t])throw h.ENOENT(t);var n=y.clone(this._readable.statSync(t,e));return n.mode=pn(n.mode),n}},e.prototype.open=function(t,e,n,r){var i=this;this.checkInitAsync(r)&&!this.checkPathAsync(t,r)&&this.stat(t,!1,(function(o,s){if(s)switch(e.pathExistsAction()){case l.TRUNCATE_FILE:return i.createParentDirectoriesAsync(t,(function(o){if(o)return r(o);i._writable.open(t,e,n,r)}));case l.NOP:return i._writable.exists(t,(function(o){o?i._writable.open(t,e,n,r):((s=y.clone(s)).mode=n,i._readable.readFile(t,null,dn("r"),(function(n,o){if(n)return r(n);-1===s.size&&(s.size=o.length);var a=new mn(i,t,e,s,o);r(null,a)})))}));default:return r(h.EEXIST(t))}else switch(e.pathNotExistsAction()){case l.CREATE_FILE:return i.createParentDirectoriesAsync(t,(function(o){return o?r(o):i._writable.open(t,e,n,r)}));default:return r(h.ENOENT(t))}}))},e.prototype.openSync=function(t,e,n){if(this.checkInitialized(),this.checkPath(t),t===fn)throw h.EPERM("Cannot open deletion log.");if(this.existsSync(t))switch(e.pathExistsAction()){case l.TRUNCATE_FILE:return this.createParentDirectories(t),this._writable.openSync(t,e,n);case l.NOP:if(this._writable.existsSync(t))return this._writable.openSync(t,e,n);var r=this._readable.readFileSync(t,null,dn("r")),i=y.clone(this._readable.statSync(t,!1));return i.mode=n,new mn(this,t,e,i,r);default:throw h.EEXIST(t)}else switch(e.pathNotExistsAction()){case l.CREATE_FILE:return this.createParentDirectories(t),this._writable.openSync(t,e,n);default:throw h.ENOENT(t)}},e.prototype.unlink=function(t,e){var n=this;this.checkInitAsync(e)&&!this.checkPathAsync(t,e)&&this.exists(t,(function(r){if(!r)return e(h.ENOENT(t));n._writable.exists(t,(function(r){if(r)return n._writable.unlink(t,(function(r){if(r)return e(r);n.exists(t,(function(r){r&&n.deletePath(t),e(null)}))}));n.deletePath(t),e(null)}))}))},e.prototype.unlinkSync=function(t){if(this.checkInitialized(),this.checkPath(t),!this.existsSync(t))throw h.ENOENT(t);this._writable.existsSync(t)&&this._writable.unlinkSync(t),this.existsSync(t)&&this.deletePath(t)},e.prototype.rmdir=function(t,e){var n=this;if(this.checkInitAsync(e)){var r=function(){n.readdir(t,(function(r,i){return r?e(r):i.length?e(h.ENOTEMPTY(t)):(n.deletePath(t),void e(null))}))};this.exists(t,(function(i){if(!i)return e(h.ENOENT(t));n._writable.exists(t,(function(i){i?n._writable.rmdir(t,(function(i){if(i)return e(i);n._readable.exists(t,(function(t){t?r():e()}))})):r()}))}))}},e.prototype.rmdirSync=function(t){if(this.checkInitialized(),!this.existsSync(t))throw h.ENOENT(t);if(this._writable.existsSync(t)&&this._writable.rmdirSync(t),this.existsSync(t)){if(this.readdirSync(t).length>0)throw h.ENOTEMPTY(t);this.deletePath(t)}},e.prototype.mkdir=function(t,e,n){var r=this;this.checkInitAsync(n)&&this.exists(t,(function(i){if(i)return n(h.EEXIST(t));r.createParentDirectoriesAsync(t,(function(i){if(i)return n(i);r._writable.mkdir(t,e,n)}))}))},e.prototype.mkdirSync=function(t,e){if(this.checkInitialized(),this.existsSync(t))throw h.EEXIST(t);this.createParentDirectories(t),this._writable.mkdirSync(t,e)},e.prototype.readdir=function(t,e){var n=this;this.checkInitAsync(e)&&this.stat(t,!1,(function(r,i){return r?e(r):i.isDirectory()?void n._writable.readdir(t,(function(r,i){if(r&&"ENOENT"!==r.code)return e(r);!r&&i||(i=[]),n._readable.readdir(t,(function(r,o){!r&&o||(o=[]);var s={},a=i.concat(o.filter((function(e){return!n._deletedFiles[t+"/"+e]}))).filter((function(t){var e=!s[t];return s[t]=!0,e}));e(null,a)}))})):e(h.ENOTDIR(t))}))},e.prototype.readdirSync=function(t){var e=this;if(this.checkInitialized(),!this.statSync(t,!1).isDirectory())throw h.ENOTDIR(t);var n=[];try{n=n.concat(this._writable.readdirSync(t))}catch(t){}try{n=n.concat(this._readable.readdirSync(t).filter((function(n){return!e._deletedFiles[t+"/"+n]})))}catch(t){}var r={};return n.filter((function(t){var e=!r[t];return r[t]=!0,e}))},e.prototype.exists=function(t,e){var n=this;this.checkInitialized(),this._writable.exists(t,(function(r){if(r)return e(!0);n._readable.exists(t,(function(r){e(r&&!0!==n._deletedFiles[t])}))}))},e.prototype.existsSync=function(t){return this.checkInitialized(),this._writable.existsSync(t)||this._readable.existsSync(t)&&!0!==this._deletedFiles[t]},e.prototype.chmod=function(t,e,n,r){var i=this;this.checkInitAsync(r)&&this.operateOnWritableAsync(t,(function(o){if(o)return r(o);i._writable.chmod(t,e,n,r)}))},e.prototype.chmodSync=function(t,e,n){var r=this;this.checkInitialized(),this.operateOnWritable(t,(function(){r._writable.chmodSync(t,e,n)}))},e.prototype.chown=function(t,e,n,r,i){var o=this;this.checkInitAsync(i)&&this.operateOnWritableAsync(t,(function(s){if(s)return i(s);o._writable.chown(t,e,n,r,i)}))},e.prototype.chownSync=function(t,e,n,r){var i=this;this.checkInitialized(),this.operateOnWritable(t,(function(){i._writable.chownSync(t,e,n,r)}))},e.prototype.utimes=function(t,e,n,r){var i=this;this.checkInitAsync(r)&&this.operateOnWritableAsync(t,(function(o){if(o)return r(o);i._writable.utimes(t,e,n,r)}))},e.prototype.utimesSync=function(t,e,n){var r=this;this.checkInitialized(),this.operateOnWritable(t,(function(){r._writable.utimesSync(t,e,n)}))},e.prototype.deletePath=function(t){this._deletedFiles[t]=!0,this.updateLog("d"+t+"\n")},e.prototype.updateLog=function(t){var e=this;this._deleteLog+=t,this._deleteLogUpdatePending?this._deleteLogUpdateNeeded=!0:(this._deleteLogUpdatePending=!0,this._writable.writeFile(fn,this._deleteLog,"utf8",d.getFileFlag("w"),420,(function(t){e._deleteLogUpdatePending=!1,t?e._deleteLogError=t:e._deleteLogUpdateNeeded&&(e._deleteLogUpdateNeeded=!1,e.updateLog(""))})))},e.prototype._reparseDeletionLog=function(){var t=this;this._deletedFiles={},this._deleteLog.split("\n").forEach((function(e){t._deletedFiles[e.slice(1)]="d"===e.slice(0,1)}))},e.prototype.checkInitialized=function(){if(!this._isInitialized)throw new h(s.EPERM,"OverlayFS is not initialized. Please initialize OverlayFS using its initialize() method before using it.");if(null!==this._deleteLogError){var t=this._deleteLogError;throw this._deleteLogError=null,t}},e.prototype.checkInitAsync=function(t){if(!this._isInitialized)return t(new h(s.EPERM,"OverlayFS is not initialized. Please initialize OverlayFS using its initialize() method before using it.")),!1;if(null!==this._deleteLogError){var e=this._deleteLogError;return this._deleteLogError=null,t(e),!1}return!0},e.prototype.checkPath=function(t){if(t===fn)throw h.EPERM(t)},e.prototype.checkPathAsync=function(t,e){return t===fn&&(e(h.EPERM(t)),!0)},e.prototype.createParentDirectoriesAsync=function(t,e){var n=a.dirname(t),r=[],i=this;this._writable.stat(n,!1,(function t(o,c){o?"/"===n?e(new h(s.EBUSY,"Invariant failed: root does not exist!")):(r.push(n),n=a.dirname(n),i._writable.stat(n,!1,t)):function t(){if(!r.length)return e();var n=r.pop();i._readable.stat(n,!1,(function(r,o){if(!o)return e();i._writable.mkdir(n,o.mode,(function(n){if(n)return e(n);t()}))}))}()}))},e.prototype.createParentDirectories=function(t){for(var e=this,n=a.dirname(t),r=[];!this._writable.existsSync(n);)r.push(n),n=a.dirname(n);(r=r.reverse()).forEach((function(t){e._writable.mkdirSync(t,e.statSync(t,!1).mode)}))},e.prototype.operateOnWritable=function(t,e){if(!this.existsSync(t))throw h.ENOENT(t);this._writable.existsSync(t)||this.copyToWritable(t),e()},e.prototype.operateOnWritableAsync=function(t,e){var n=this;this.exists(t,(function(r){if(!r)return e(h.ENOENT(t));n._writable.exists(t,(function(r){if(!r)return n.copyToWritableAsync(t,e);e()}))}))},e.prototype.copyToWritable=function(t){var e=this.statSync(t,!1);e.isDirectory()?this._writable.mkdirSync(t,e.mode):this.writeFileSync(t,this._readable.readFileSync(t,null,dn("r")),null,dn("w"),this.statSync(t,!1).mode)},e.prototype.copyToWritableAsync=function(t,e){var n=this;this.stat(t,!1,(function(r,i){return r?e(r):i.isDirectory()?n._writable.mkdir(t,i.mode,e):void n._readable.readFile(t,null,dn("r"),(function(r,o){if(r)return e(r);n.writeFile(t,o,null,dn("w"),i.mode,e)}))}))},e}(et),vn=function(t){function e(e,n){t.call(this,new gn(e,n))}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.Create=function(t,n){try{var r=new e(t.writable,t.readable);r._initialize((function(t){n(t,r)}))}catch(t){n(t)}},e.isAvailable=function(){return gn.isAvailable()},e.prototype.getOverlayedFileSystems=function(){return t.prototype.getFSUnlocked.call(this).getOverlayedFileSystems()},e.prototype.unwrap=function(){return t.prototype.getFSUnlocked.call(this)},e.prototype._initialize=function(e){t.prototype.getFSUnlocked.call(this)._initialize(e)},e}(hn);vn.Name="OverlayFS",vn.Options={writable:{type:"object",description:"The file system to write modified files to."},readable:{type:"object",description:"The file system that initially populates this file system."}},function(t){t[t.CB=0]="CB",t[t.FD=1]="FD",t[t.API_ERROR=2]="API_ERROR",t[t.STATS=3]="STATS",t[t.PROBE=4]="PROBE",t[t.FILEFLAG=5]="FILEFLAG",t[t.BUFFER=6]="BUFFER",t[t.ERROR=7]="ERROR"}(yn||(yn={}));var bn=function(){this._callbacks={},this._nextId=0};bn.prototype.toRemoteArg=function(t){var e=this._nextId++;return this._callbacks[e]=t,{type:yn.CB,id:e}},bn.prototype.toLocalArg=function(t){var e=this._callbacks[t];return delete this._callbacks[t],e};var _n=function(){this._fileDescriptors={},this._nextId=0};function wn(t){return{type:yn.API_ERROR,errorData:Fn(t.writeToBuffer())}}function kn(t){return h.fromBuffer(On(t.errorData))}function En(t){return{type:yn.ERROR,name:t.name,message:t.message,stack:t.stack}}function Sn(t){var e=v[t.name];"function"!=typeof e&&(e=Error);var n=new e(t.message);return n.stack=t.stack,n}function Cn(t){return{type:yn.STATS,statsData:Fn(t.toBuffer())}}function xn(t){return y.fromBuffer(On(t.statsData))}function An(t){return{type:yn.FILEFLAG,flagStr:t.getFlagString()}}function Tn(t){return d.getFileFlag(t.flagStr)}function Fn(t){return U(t)}function On(t){return W(t)}function Dn(t){return{type:yn.BUFFER,data:Fn(t)}}function Ln(t){return On(t.data)}_n.prototype.toRemoteArg=function(e,n,r,i){var o,s,a=this._nextId++;this._fileDescriptors[a]=e,e.stat((function(c,u){c?i(c):(s=Fn(u.toBuffer()),r.isReadable()?e.read(t.alloc(u.size),0,u.size,0,(function(t,e,c){t?i(t):(o=Fn(c),i(null,{type:yn.FD,id:a,data:o,stat:s,path:n,flag:r.getFlagString()}))})):i(null,{type:yn.FD,id:a,data:new ArrayBuffer(0),stat:s,path:n,flag:r.getFlagString()}))}))},_n.prototype.applyFdAPIRequest=function(t,e){var n=this,r=t.args[0];this._applyFdChanges(r,(function(i,o){i?e(i):o[t.method]((function(i){"close"===t.method&&delete n._fileDescriptors[r.id],e(i)}))}))},_n.prototype._applyFdChanges=function(t,e){var n=this._fileDescriptors[t.id],r=On(t.data),i=y.fromBuffer(On(t.stat)),o=d.getFileFlag(t.flag);o.isWriteable()?n.write(r,0,r.length,o.isAppendable()?n.getPos():0,(function(t){function s(){n.stat((function(t,r){t?e(t):r.mode!==i.mode?n.chmod(i.mode,(function(t){e(t,n)})):e(t,n)}))}t?e(t):o.isAppendable()?s():n.truncate(r.length,(function(){s()}))})):e(null,n)};var In=function(t){function e(e,n,r,i,o,s){t.call(this,e,n,r,i,s),this._remoteFdId=o}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getRemoteFdId=function(){return this._remoteFdId},e.prototype.toRemoteArg=function(){return{type:yn.FD,id:this._remoteFdId,data:Fn(this.getBuffer()),stat:Fn(this.getStats().toBuffer()),path:this.getPath(),flag:this.getFlag().getFlagString()}},e.prototype.sync=function(t){this._syncClose("sync",t)},e.prototype.close=function(t){this._syncClose("close",t)},e.prototype._syncClose=function(t,e){var n=this;this.isDirty()?this._fs.syncClose(t,this,(function(t){t||n.resetDirty(),e(t)})):e()},e}(it),Mn=function(e){function n(t){var n=this;e.call(this),this._callbackConverter=new bn,this._isInitialized=!1,this._isReadOnly=!1,this._supportLinks=!1,this._supportProps=!1,this._worker=t,this._worker.addEventListener("message",(function(t){var e=t.data;if(function(t){return t&&"object"==typeof t&&t.hasOwnProperty("browserfsMessage")&&t.browserfsMessage}(e)){var r,i=e.args,o=new Array(i.length);for(r=0;r<o.length;r++)o[r]=n._argRemote2Local(i[r]);n._callbackConverter.toLocalArg(e.cbId).apply(null,o)}}))}return e&&(n.__proto__=e),n.prototype=Object.create(e&&e.prototype),n.prototype.constructor=n,n.Create=function(t,e){var r=new n(t.worker);r._initialize((function(){e(null,r)}))},n.isAvailable=function(){return"undefined"!=typeof importScripts||"undefined"!=typeof Worker},n.attachRemoteListener=function(e){var n=new _n;function r(e,r,i){switch(typeof e){case"object":e instanceof y?i(null,Cn(e)):e instanceof h?i(null,wn(e)):e instanceof rt?i(null,n.toRemoteArg(e,r[0],r[1],i)):e instanceof d?i(null,An(e)):e instanceof t?i(null,Dn(e)):e instanceof Error?i(null,En(e)):i(null,e);break;default:i(null,e)}}function i(t,n){if(!t)return t;switch(typeof t){case"object":if("number"!=typeof t.type)return t;var i=t;switch(i.type){case yn.CB:var o=t.id;return function(){var t,i,s=arguments,a=new Array(arguments.length),c=arguments.length;function u(t){c>0&&(c=-1,i={browserfsMessage:!0,cbId:o,args:[wn(t)]},e.postMessage(i))}for(t=0;t<arguments.length;t++)!function(t,s){r(s,n,(function(n,r){a[t]=r,n?u(n):0==--c&&(i={browserfsMessage:!0,cbId:o,args:a},e.postMessage(i))}))}(t,s[t]);0===arguments.length&&(i={browserfsMessage:!0,cbId:o,args:a},e.postMessage(i))};case yn.API_ERROR:return kn(i);case yn.STATS:return xn(i);case yn.FILEFLAG:return Tn(i);case yn.BUFFER:return Ln(i);case yn.ERROR:return Sn(i);default:return t}default:return t}}e.addEventListener("message",(function(t){var r=t.data;if(function(t){return t&&"object"==typeof t&&t.hasOwnProperty("browserfsMessage")&&t.browserfsMessage}(r)){var o=r.args,s=new Array(o.length);switch(r.method){case"close":case"sync":!function(){var t=o[1];n.applyFdAPIRequest(r,(function(n){var r={browserfsMessage:!0,cbId:t.id,args:n?[wn(n)]:[]};e.postMessage(r)}))}();break;case"probe":!function(){var t=M.getRootFS(),n=o[1],r={type:yn.PROBE,isReadOnly:t.isReadOnly(),supportsLinks:t.supportsLinks(),supportsProps:t.supportsProps()},i={browserfsMessage:!0,cbId:n.id,args:[r]};e.postMessage(i)}();break;default:for(var a=0;a<o.length;a++)s[a]=i(o[a],s);var c=M.getRootFS();c[r.method].apply(c,s)}}}))},n.prototype.getName=function(){return n.Name},n.prototype.isReadOnly=function(){return this._isReadOnly},n.prototype.supportsSynch=function(){return!1},n.prototype.supportsLinks=function(){return this._supportLinks},n.prototype.supportsProps=function(){return this._supportProps},n.prototype.rename=function(t,e,n){this._rpc("rename",arguments)},n.prototype.stat=function(t,e,n){this._rpc("stat",arguments)},n.prototype.open=function(t,e,n,r){this._rpc("open",arguments)},n.prototype.unlink=function(t,e){this._rpc("unlink",arguments)},n.prototype.rmdir=function(t,e){this._rpc("rmdir",arguments)},n.prototype.mkdir=function(t,e,n){this._rpc("mkdir",arguments)},n.prototype.readdir=function(t,e){this._rpc("readdir",arguments)},n.prototype.exists=function(t,e){this._rpc("exists",arguments)},n.prototype.realpath=function(t,e,n){this._rpc("realpath",arguments)},n.prototype.truncate=function(t,e,n){this._rpc("truncate",arguments)},n.prototype.readFile=function(t,e,n,r){this._rpc("readFile",arguments)},n.prototype.writeFile=function(t,e,n,r,i,o){this._rpc("writeFile",arguments)},n.prototype.appendFile=function(t,e,n,r,i,o){this._rpc("appendFile",arguments)},n.prototype.chmod=function(t,e,n,r){this._rpc("chmod",arguments)},n.prototype.chown=function(t,e,n,r,i){this._rpc("chown",arguments)},n.prototype.utimes=function(t,e,n,r){this._rpc("utimes",arguments)},n.prototype.link=function(t,e,n){this._rpc("link",arguments)},n.prototype.symlink=function(t,e,n,r){this._rpc("symlink",arguments)},n.prototype.readlink=function(t,e){this._rpc("readlink",arguments)},n.prototype.syncClose=function(t,e,n){this._worker.postMessage({browserfsMessage:!0,method:t,args:[e.toRemoteArg(),this._callbackConverter.toRemoteArg(n)]})},n.prototype._initialize=function(t){var e=this;if(this._isInitialized)t();else{var n={browserfsMessage:!0,method:"probe",args:[this._argLocal2Remote(X()),this._callbackConverter.toRemoteArg((function(n){e._isInitialized=!0,e._isReadOnly=n.isReadOnly,e._supportLinks=n.supportsLinks,e._supportProps=n.supportsProps,t()}))]};this._worker.postMessage(n)}},n.prototype._argRemote2Local=function(t){if(!t)return t;switch(typeof t){case"object":if("number"!=typeof t.type)return t;var e=t;switch(e.type){case yn.API_ERROR:return kn(e);case yn.FD:var n=e;return new In(this,n.path,d.getFileFlag(n.flag),y.fromBuffer(On(n.stat)),n.id,On(n.data));case yn.STATS:return xn(e);case yn.FILEFLAG:return Tn(e);case yn.BUFFER:return Ln(e);case yn.ERROR:return Sn(e);default:return t}default:return t}},n.prototype._rpc=function(t,e){for(var n=new Array(e.length),r=0;r<e.length;r++)n[r]=this._argLocal2Remote(e[r]);var i={browserfsMessage:!0,method:t,args:n};this._worker.postMessage(i)},n.prototype._argLocal2Remote=function(e){if(!e)return e;switch(typeof e){case"object":return e instanceof y?Cn(e):e instanceof h?wn(e):e instanceof In?e.toRemoteArg():e instanceof d?An(e):e instanceof t?Dn(e):e instanceof Error?En(e):"Unknown argument";case"function":return this._callbackConverter.toRemoteArg(e);default:return e}},n}(et);Mn.Name="WorkerFS",Mn.Options={worker:{type:"object",description:"The target worker that you want to connect to, or the current worker if in a worker context.",validator:function(t,e){t.postMessage?e():e(new h(s.EINVAL,"option must be a Web Worker instance."))}}};var Nn="undefined"!=typeof XMLHttpRequest&&null!==XMLHttpRequest;function Rn(t,e,n){var r=new XMLHttpRequest;r.open("HEAD",e,t),r.onreadystatechange=function(t){if(4===r.readyState){if(200!==r.status)return n(new h(s.EIO,"XHR HEAD error: response returned code "+r.status));try{return n(null,parseInt(r.getResponseHeader("Content-Length")||"-1",10))}catch(t){return n(new h(s.EIO,"XHR HEAD error: Could not read content-length."))}}},r.send()}var Pn=function(e,n,r){var i=new XMLHttpRequest;i.open("GET",e,!0);var o=!0;switch(n){case"buffer":i.responseType="arraybuffer";break;case"json":try{i.responseType="json",o="json"===i.responseType}catch(t){o=!1}break;default:return r(new h(s.EINVAL,"Invalid download type: "+n))}i.onreadystatechange=function(e){if(4===i.readyState){if(200!==i.status)return r(new h(s.EIO,"XHR error: response returned code "+i.status));switch(n){case"buffer":return r(null,i.response?t.from(i.response):X());case"json":return r(null,o?i.response:JSON.parse(i.responseText))}}},i.send()},Bn=P&&"undefined"!=typeof Blob?function(e,n){var r,i,o=new XMLHttpRequest;switch(o.open("GET",e,!1),n){case"buffer":o.responseType="arraybuffer";break;case"json":break;default:throw new h(s.EINVAL,"Invalid download type: "+n)}if(o.onreadystatechange=function(e){if(4===o.readyState)if(200===o.status)switch(n){case"buffer":r=t.from(o.response);break;case"json":r=JSON.parse(o.response)}else i=new h(s.EIO,"XHR error: response returned code "+o.status)},o.send(),i)throw i;return r}:function(e,n){var r=new XMLHttpRequest;r.open("GET",e,!1);var i=null,o=null;if(r.overrideMimeType("text/plain; charset=x-user-defined"),r.onreadystatechange=function(e){if(4===r.readyState){if(200!==r.status)return void(o=new h(s.EIO,"XHR error: response returned code "+r.status));switch(n){case"buffer":var a=r.responseText;i=t.alloc(a.length);for(var c=0;c<a.length;c++)i[c]=a.charCodeAt(c);return;case"json":return void(i=JSON.parse(r.responseText))}}},r.send(),o)throw o;return i};function jn(t){var e=-1;return Rn(!1,t,(function(t,n){if(t)throw t;e=n})),e}function zn(t,e){Rn(!0,t,e)}var Un="undefined"!=typeof fetch&&null!==fetch;function qn(e,n,r){var i;try{i=fetch(e)}catch(t){return r(new h(s.EINVAL,t.message))}i.then((function(e){if(!e.ok)return r(new h(s.EIO,"fetch error: response returned code "+e.status));switch(n){case"buffer":e.arrayBuffer().then((function(e){return r(null,t.from(e))})).catch((function(t){return r(new h(s.EIO,t.message))}));break;case"json":e.json().then((function(t){return r(null,t)})).catch((function(t){return r(new h(s.EIO,t.message))}));break;default:r(new h(s.EINVAL,"Invalid download type: "+n))}})).catch((function(t){return r(new h(s.EIO,t.message))}))}function Hn(t,e){fetch(t,{method:"HEAD"}).then((function(t){return t.ok?e(null,parseInt(t.headers.get("Content-Length")||"-1",10)):e(new h(s.EIO,"fetch HEAD error: response returned code "+t.status))})).catch((function(t){return e(new h(s.EIO,t.message))}))}var Vn=function(){this._index={},this.addPath("/",new Yn)};Vn.fromListing=function(t){var e=new Vn,n=new Yn;e._index["/"]=n;for(var r=[["",t,n]];r.length>0;){var i=void 0,o=r.pop(),s=o[0],a=o[1],c=o[2];for(var u in a)if(a.hasOwnProperty(u)){var l=a[u],h=s+"/"+u;l?(e._index[h]=i=new Yn,r.push([h,l,i])):i=new Wn(new y(p.FILE,-1,365)),c&&(c._ls[u]=i)}}return e},Vn.prototype.fileIterator=function(t){for(var e in this._index)if(this._index.hasOwnProperty(e))for(var n=this._index[e],r=0,i=n.getListing();r<i.length;r+=1){var o=i[r],s=n.getItem(o);Zn(s)&&t(s.getData())}},Vn.prototype.addPath=function(t,e){if(!e)throw new Error("Inode must be specified");if("/"!==t[0])throw new Error("Path must be absolute, got: "+t);if(this._index.hasOwnProperty(t))return this._index[t]===e;var n=this._split_path(t),r=n[0],i=n[1],o=this._index[r];return!(void 0===o&&"/"!==t&&(o=new Yn,!this.addPath(r,o))||"/"!==t&&!o.addItem(i,e)||(Xn(e)&&(this._index[t]=e),0))},Vn.prototype.addPathFast=function(t,e){var n=t.lastIndexOf("/"),r=0===n?"/":t.substring(0,n),i=t.substring(n+1),o=this._index[r];return void 0===o&&(o=new Yn,this.addPathFast(r,o)),!!o.addItem(i,e)&&(e.isDir()&&(this._index[t]=e),!0)},Vn.prototype.removePath=function(t){var e=this._split_path(t),n=e[0],r=e[1],i=this._index[n];if(void 0===i)return null;var o=i.remItem(r);if(null===o)return null;if(Xn(o)){for(var s=0,a=o.getListing();s<a.length;s+=1){var c=a[s];this.removePath(t+"/"+c)}"/"!==t&&delete this._index[t]}return o},Vn.prototype.ls=function(t){var e=this._index[t];return void 0===e?null:e.getListing()},Vn.prototype.getInode=function(t){var e=this._split_path(t),n=e[0],r=e[1],i=this._index[n];return void 0===i?null:n===t?i:i.getItem(r)},Vn.prototype._split_path=function(t){var e=a.dirname(t);return[e,t.substr(e.length+("/"===e?0:1))]};var Wn=function(t){this.data=t};Wn.prototype.isFile=function(){return!0},Wn.prototype.isDir=function(){return!1},Wn.prototype.getData=function(){return this.data},Wn.prototype.setData=function(t){this.data=t};var Yn=function(t){void 0===t&&(t=null),this.data=t,this._ls={}};function Zn(t){return!!t&&t.isFile()}function Xn(t){return!!t&&t.isDir()}function Gn(){throw new h(s.ENOTSUP,"Synchronous HTTP download methods are not available in this environment.")}Yn.prototype.isFile=function(){return!1},Yn.prototype.isDir=function(){return!0},Yn.prototype.getData=function(){return this.data},Yn.prototype.getStats=function(){return new y(p.DIRECTORY,4096,365)},Yn.prototype.getListing=function(){return Object.keys(this._ls)},Yn.prototype.getItem=function(t){return this._ls[t]||null},Yn.prototype.addItem=function(t,e){return!(t in this._ls)&&(this._ls[t]=e,!0)},Yn.prototype.remItem=function(t){var e=this._ls[t];return void 0===e?null:(delete this._ls[t],e)};var $n=function(t){function e(e,n,r){void 0===n&&(n=""),void 0===r&&(r=!1),t.call(this),n.length>0&&"/"!==n.charAt(n.length-1)&&(n+="/"),this.prefixUrl=n,this._index=Vn.fromListing(e),!Un||r&&Nn?(this._requestFileAsyncInternal=Pn,this._requestFileSizeAsyncInternal=zn):(this._requestFileAsyncInternal=qn,this._requestFileSizeAsyncInternal=Hn),Nn?(this._requestFileSyncInternal=Bn,this._requestFileSizeSyncInternal=jn):(this._requestFileSyncInternal=Gn,this._requestFileSizeSyncInternal=Gn)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.Create=function(t,n){void 0===t.index&&(t.index="index.json"),"string"==typeof t.index?Pn(t.index,"json",(function(r,i){r?n(r):n(null,new e(i,t.baseUrl))})):n(null,new e(t.index,t.baseUrl))},e.isAvailable=function(){return Nn||Un},e.prototype.empty=function(){this._index.fileIterator((function(t){t.fileData=null}))},e.prototype.getName=function(){return e.Name},e.prototype.diskSpace=function(t,e){e(0,0)},e.prototype.isReadOnly=function(){return!0},e.prototype.supportsLinks=function(){return!1},e.prototype.supportsProps=function(){return!1},e.prototype.supportsSynch=function(){return Nn},e.prototype.preloadFile=function(t,e){var n=this._index.getInode(t);if(!Zn(n))throw h.EISDIR(t);if(null===n)throw h.ENOENT(t);var r=n.getData();r.size=e.length,r.fileData=e},e.prototype.stat=function(t,e,n){var r,i=this._index.getInode(t);if(null===i)return n(h.ENOENT(t));Zn(i)?(r=i.getData()).size<0?this._requestFileSizeAsync(t,(function(t,e){if(t)return n(t);r.size=e,n(null,y.clone(r))})):n(null,y.clone(r)):Xn(i)?(r=i.getStats(),n(null,r)):n(h.FileError(s.EINVAL,t))},e.prototype.statSync=function(t,e){var n,r=this._index.getInode(t);if(null===r)throw h.ENOENT(t);if(Zn(r))(n=r.getData()).size<0&&(n.size=this._requestFileSizeSync(t));else{if(!Xn(r))throw h.FileError(s.EINVAL,t);n=r.getStats()}return n},e.prototype.open=function(t,e,n,r){if(e.isWriteable())return r(new h(s.EPERM,t));var i=this,o=this._index.getInode(t);if(null===o)return r(h.ENOENT(t));if(!Zn(o))return r(h.EISDIR(t));var a=o.getData();switch(e.pathExistsAction()){case l.THROW_EXCEPTION:case l.TRUNCATE_FILE:return r(h.EEXIST(t));case l.NOP:if(a.fileData)return r(null,new ot(i,t,e,y.clone(a),a.fileData));this._requestFileAsync(t,"buffer",(function(n,o){return n?r(n):(a.size=o.length,a.fileData=o,r(null,new ot(i,t,e,y.clone(a),o)))}));break;default:return r(new h(s.EINVAL,"Invalid FileMode object."))}},e.prototype.openSync=function(t,e,n){if(e.isWriteable())throw new h(s.EPERM,t);var r=this._index.getInode(t);if(null===r)throw h.ENOENT(t);if(!Zn(r))throw h.EISDIR(t);var i=r.getData();switch(e.pathExistsAction()){case l.THROW_EXCEPTION:case l.TRUNCATE_FILE:throw h.EEXIST(t);case l.NOP:if(i.fileData)return new ot(this,t,e,y.clone(i),i.fileData);var o=this._requestFileSync(t,"buffer");return i.size=o.length,i.fileData=o,new ot(this,t,e,y.clone(i),o);default:throw new h(s.EINVAL,"Invalid FileMode object.")}},e.prototype.readdir=function(t,e){try{e(null,this.readdirSync(t))}catch(t){e(t)}},e.prototype.readdirSync=function(t){var e=this._index.getInode(t);if(null===e)throw h.ENOENT(t);if(Xn(e))return e.getListing();throw h.ENOTDIR(t)},e.prototype.readFile=function(t,e,n,r){var i=r;this.open(t,n,420,(function(t,n){if(t)return r(t);r=function(t,e){n.close((function(n){return t||(t=n),i(t,e)}))};var o=n.getBuffer();null===e?r(t,Y(o)):function(t,e,n){try{n(null,t.toString(e))}catch(t){n(t)}}(o,e,r)}))},e.prototype.readFileSync=function(t,e,n){var r=this.openSync(t,n,420);try{var i=r.getBuffer();return null===e?Y(i):i.toString(e)}finally{r.closeSync()}},e.prototype._getHTTPPath=function(t){return"/"===t.charAt(0)&&(t=t.slice(1)),this.prefixUrl+t},e.prototype._requestFileAsync=function(t,e,n){this._requestFileAsyncInternal(this._getHTTPPath(t),e,n)},e.prototype._requestFileSync=function(t,e){return this._requestFileSyncInternal(this._getHTTPPath(t),e)},e.prototype._requestFileSizeAsync=function(t,e){this._requestFileSizeAsyncInternal(this._getHTTPPath(t),e)},e.prototype._requestFileSizeSync=function(t){return this._requestFileSizeSyncInternal(this._getHTTPPath(t))},e}(et);$n.Name="HTTPRequest",$n.Options={index:{type:["string","object"],optional:!0,description:"URL to a file index as a JSON file or the file index object itself, generated with the make_http_index script. Defaults to `index.json`."},baseUrl:{type:"string",optional:!0,description:"Used as the URL prefix for fetched files. Default: Fetch files relative to the index."},preferXHR:{type:"boolean",optional:!0,description:"Whether to prefer XmlHttpRequest or fetch for async operations if both are available. Default: false"}};var Jn=function(){};Jn.str2byte=function(t,e){for(var n=t.length>e.length?e.length:t.length,r=0;r<n;r++){var i=t.charCodeAt(r);if(i>127){var o=Jn.extendedChars.indexOf(t.charAt(r));o>-1&&(i=o+128)}e[i]=r}return n},Jn.byte2str=function(t){for(var e=new Array(t.length),n=0;n<t.length;n++){var r=t[n];e[n]=r>127?Jn.extendedChars[r-128]:String.fromCharCode(r)}return e.join("")},Jn.byteLength=function(t){return t.length},Jn.extendedChars=["Ç","ü","é","â","ä","à","å","ç","ê","ë","è","ï","î","ì","Ä","Å","É","æ","Æ","ô","ö","ò","û","ù","ÿ","Ö","Ü","ø","£","Ø","×","ƒ","á","í","ó","ú","ñ","Ñ","ª","º","¿","®","¬","½","¼","¡","«","»","_","_","_","¦","¦","Á","Â","À","©","¦","¦","+","+","¢","¥","+","+","-","-","+","-","+","ã","Ã","+","+","-","-","¦","-","+","¤","ð","Ð","Ê","Ë","È","i","Í","Î","Ï","+","+","_","_","¦","Ì","_","Ó","ß","Ô","Ò","õ","Õ","µ","þ","Þ","Ú","Û","Ù","ý","Ý","¯","´","­","±","_","¾","¶","§","÷","¸","°","¨","·","¹","³","²","_"," "];var Kn,Qn,tr=n(36).inflateRaw,er={};function nr(t,e){return new Date(1980+(e>>9),(e>>5&15)-1,31&e,t>>11,t>>5&63,31&t)}function rr(t,e,n,r){return 0===r?"":e?t.toString("utf8",n,n+r):Jn.byte2str(t.slice(n,n+r))}!function(t){t[t.MSDOS=0]="MSDOS",t[t.AMIGA=1]="AMIGA",t[t.OPENVMS=2]="OPENVMS",t[t.UNIX=3]="UNIX",t[t.VM_CMS=4]="VM_CMS",t[t.ATARI_ST=5]="ATARI_ST",t[t.OS2_HPFS=6]="OS2_HPFS",t[t.MAC=7]="MAC",t[t.Z_SYSTEM=8]="Z_SYSTEM",t[t.CP_M=9]="CP_M",t[t.NTFS=10]="NTFS",t[t.MVS=11]="MVS",t[t.VSE=12]="VSE",t[t.ACORN_RISC=13]="ACORN_RISC",t[t.VFAT=14]="VFAT",t[t.ALT_MVS=15]="ALT_MVS",t[t.BEOS=16]="BEOS",t[t.TANDEM=17]="TANDEM",t[t.OS_400=18]="OS_400",t[t.OSX=19]="OSX"}(Kn||(Kn={})),function(t){t[t.STORED=0]="STORED",t[t.SHRUNK=1]="SHRUNK",t[t.REDUCED_1=2]="REDUCED_1",t[t.REDUCED_2=3]="REDUCED_2",t[t.REDUCED_3=4]="REDUCED_3",t[t.REDUCED_4=5]="REDUCED_4",t[t.IMPLODE=6]="IMPLODE",t[t.DEFLATE=8]="DEFLATE",t[t.DEFLATE64=9]="DEFLATE64",t[t.TERSE_OLD=10]="TERSE_OLD",t[t.BZIP2=12]="BZIP2",t[t.LZMA=14]="LZMA",t[t.TERSE_NEW=18]="TERSE_NEW",t[t.LZ77=19]="LZ77",t[t.WAVPACK=97]="WAVPACK",t[t.PPMD=98]="PPMD"}(Qn||(Qn={}));var ir=function(t){if(this.data=t,67324752!==t.readUInt32LE(0))throw new h(s.EINVAL,"Invalid Zip file: Local file header has invalid signature: "+this.data.readUInt32LE(0))};ir.prototype.versionNeeded=function(){return this.data.readUInt16LE(4)},ir.prototype.flags=function(){return this.data.readUInt16LE(6)},ir.prototype.compressionMethod=function(){return this.data.readUInt16LE(8)},ir.prototype.lastModFileTime=function(){return nr(this.data.readUInt16LE(10),this.data.readUInt16LE(12))},ir.prototype.rawLastModFileTime=function(){return this.data.readUInt32LE(10)},ir.prototype.crc32=function(){return this.data.readUInt32LE(14)},ir.prototype.fileNameLength=function(){return this.data.readUInt16LE(26)},ir.prototype.extraFieldLength=function(){return this.data.readUInt16LE(28)},ir.prototype.fileName=function(){return rr(this.data,this.useUTF8(),30,this.fileNameLength())},ir.prototype.extraField=function(){var t=30+this.fileNameLength();return this.data.slice(t,t+this.extraFieldLength())},ir.prototype.totalSize=function(){return 30+this.fileNameLength()+this.extraFieldLength()},ir.prototype.useUTF8=function(){return 2048==(2048&this.flags())};var or=function(t,e,n){this.header=t,this.record=e,this.data=n};or.prototype.decompress=function(){var t=this.header.compressionMethod(),e=er[t];if(e)return e(this.data,this.record.compressedSize(),this.record.uncompressedSize(),this.record.flag());var n=Qn[t];throw n||(n="Unknown: "+t),new h(s.EINVAL,"Invalid compression method on file '"+this.header.fileName()+"': "+n)},or.prototype.getHeader=function(){return this.header},or.prototype.getRecord=function(){return this.record},or.prototype.getRawData=function(){return this.data};var sr=function(t,e){if(this.zipData=t,this.data=e,33639248!==this.data.readUInt32LE(0))throw new h(s.EINVAL,"Invalid Zip file: Central directory record has invalid signature: "+this.data.readUInt32LE(0));this._filename=this.produceFilename()};sr.prototype.versionMadeBy=function(){return this.data.readUInt16LE(4)},sr.prototype.versionNeeded=function(){return this.data.readUInt16LE(6)},sr.prototype.flag=function(){return this.data.readUInt16LE(8)},sr.prototype.compressionMethod=function(){return this.data.readUInt16LE(10)},sr.prototype.lastModFileTime=function(){return nr(this.data.readUInt16LE(12),this.data.readUInt16LE(14))},sr.prototype.rawLastModFileTime=function(){return this.data.readUInt32LE(12)},sr.prototype.crc32=function(){return this.data.readUInt32LE(16)},sr.prototype.compressedSize=function(){return this.data.readUInt32LE(20)},sr.prototype.uncompressedSize=function(){return this.data.readUInt32LE(24)},sr.prototype.fileNameLength=function(){return this.data.readUInt16LE(28)},sr.prototype.extraFieldLength=function(){return this.data.readUInt16LE(30)},sr.prototype.fileCommentLength=function(){return this.data.readUInt16LE(32)},sr.prototype.diskNumberStart=function(){return this.data.readUInt16LE(34)},sr.prototype.internalAttributes=function(){return this.data.readUInt16LE(36)},sr.prototype.externalAttributes=function(){return this.data.readUInt32LE(38)},sr.prototype.headerRelativeOffset=function(){return this.data.readUInt32LE(42)},sr.prototype.produceFilename=function(){return rr(this.data,this.useUTF8(),46,this.fileNameLength()).replace(/\\/g,"/")},sr.prototype.fileName=function(){return this._filename},sr.prototype.rawFileName=function(){return this.data.slice(46,46+this.fileNameLength())},sr.prototype.extraField=function(){var t=44+this.fileNameLength();return this.data.slice(t,t+this.extraFieldLength())},sr.prototype.fileComment=function(){var t=46+this.fileNameLength()+this.extraFieldLength();return rr(this.data,this.useUTF8(),t,this.fileCommentLength())},sr.prototype.rawFileComment=function(){var t=46+this.fileNameLength()+this.extraFieldLength();return this.data.slice(t,t+this.fileCommentLength())},sr.prototype.totalSize=function(){return 46+this.fileNameLength()+this.extraFieldLength()+this.fileCommentLength()},sr.prototype.isDirectory=function(){var t=this.fileName();return!!(16&this.externalAttributes())||"/"===t.charAt(t.length-1)},sr.prototype.isFile=function(){return!this.isDirectory()},sr.prototype.useUTF8=function(){return 2048==(2048&this.flag())},sr.prototype.isEncrypted=function(){return 1==(1&this.flag())},sr.prototype.getFileData=function(){var t=this.headerRelativeOffset(),e=new ir(this.zipData.slice(t));return new or(e,this,this.zipData.slice(t+e.totalSize()))},sr.prototype.getData=function(){return this.getFileData().decompress()},sr.prototype.getRawData=function(){return this.getFileData().getRawData()},sr.prototype.getStats=function(){return new y(p.FILE,this.uncompressedSize(),365,Date.now(),this.lastModFileTime().getTime())};var ar=function(t){if(this.data=t,101010256!==this.data.readUInt32LE(0))throw new h(s.EINVAL,"Invalid Zip file: End of central directory record has invalid signature: "+this.data.readUInt32LE(0))};ar.prototype.diskNumber=function(){return this.data.readUInt16LE(4)},ar.prototype.cdDiskNumber=function(){return this.data.readUInt16LE(6)},ar.prototype.cdDiskEntryCount=function(){return this.data.readUInt16LE(8)},ar.prototype.cdTotalEntryCount=function(){return this.data.readUInt16LE(10)},ar.prototype.cdSize=function(){return this.data.readUInt32LE(12)},ar.prototype.cdOffset=function(){return this.data.readUInt32LE(16)},ar.prototype.cdZipCommentLength=function(){return this.data.readUInt16LE(20)},ar.prototype.cdZipComment=function(){return rr(this.data,!0,22,this.cdZipCommentLength())},ar.prototype.rawCdZipComment=function(){return this.data.slice(22,22+this.cdZipCommentLength())};var cr=function(t){function e(e,n){void 0===n&&(n=""),t.call(this),this.name=n,this._index=new Vn,this._directoryEntries=[],this._eocd=null,this._index=e.index,this._directoryEntries=e.directoryEntries,this._eocd=e.eocd,this.data=e.data}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.Create=function(t,n){try{e._computeIndex(t.zipData,(function(r,i){if(i){var o=new e(i,t.name);n(null,o)}else n(r)}))}catch(t){n(t)}},e.isAvailable=function(){return!0},e.RegisterDecompressionMethod=function(t,e){er[t]=e},e._getEOCD=function(t){for(var e=Math.min(65557,t.length-1),n=22;n<e;n++)if(101010256===t.readUInt32LE(t.length-n))return new ar(t.slice(t.length-n));throw new h(s.EINVAL,"Invalid ZIP file: Could not locate End of Central Directory signature.")},e._addToIndex=function(t,e){var n=t.fileName();if("/"===n.charAt(0))throw new h(s.EPERM,"Unexpectedly encountered an absolute path in a zip file. Please file a bug.");"/"===n.charAt(n.length-1)&&(n=n.substr(0,n.length-1)),t.isDirectory()?e.addPathFast("/"+n,new Yn(t)):e.addPathFast("/"+n,new Wn(t))},e._computeIndex=function(t,n){try{var r=new Vn,i=e._getEOCD(t);if(i.diskNumber()!==i.cdDiskNumber())return n(new h(s.EINVAL,"ZipFS does not support spanned zip files."));var o=i.cdOffset();if(4294967295===o)return n(new h(s.EINVAL,"ZipFS does not support Zip64."));var a=o+i.cdSize();e._computeIndexResponsive(t,r,o,a,n,[],i)}catch(t){n(t)}},e._computeIndexResponsiveTrampoline=function(t,n,r,i,o,s,a){try{e._computeIndexResponsive(t,n,r,i,o,s,a)}catch(t){o(t)}},e._computeIndexResponsive=function(t,n,r,i,o,s,a){if(r<i){for(var c=0;c++<200&&r<i;){var u=new sr(t,t.slice(r));e._addToIndex(u,n),r+=u.totalSize(),s.push(u)}E((function(){e._computeIndexResponsiveTrampoline(t,n,r,i,o,s,a)}))}else o(null,new function(t,e,n,r){this.index=t,this.directoryEntries=e,this.eocd=n,this.data=r}(n,s,a,t))},e.prototype.getName=function(){return e.Name+(""!==this.name?" "+this.name:"")},e.prototype.getCentralDirectoryEntry=function(t){var e=this._index.getInode(t);if(null===e)throw h.ENOENT(t);if(Zn(e))return e.getData();if(Xn(e))return e.getData();throw h.EPERM("Invalid inode: "+e)},e.prototype.getCentralDirectoryEntryAt=function(t){var e=this._directoryEntries[t];if(!e)throw new RangeError("Invalid directory index: "+t+".");return e},e.prototype.getNumberOfCentralDirectoryEntries=function(){return this._directoryEntries.length},e.prototype.getEndOfCentralDirectory=function(){return this._eocd},e.prototype.diskSpace=function(t,e){e(this.data.length,0)},e.prototype.isReadOnly=function(){return!0},e.prototype.supportsLinks=function(){return!1},e.prototype.supportsProps=function(){return!1},e.prototype.supportsSynch=function(){return!0},e.prototype.statSync=function(t,e){var n,r=this._index.getInode(t);if(null===r)throw h.ENOENT(t);if(Zn(r))n=r.getData().getStats();else{if(!Xn(r))throw new h(s.EINVAL,"Invalid inode.");n=r.getStats()}return n},e.prototype.openSync=function(t,e,n){if(e.isWriteable())throw new h(s.EPERM,t);var r=this._index.getInode(t);if(!r)throw h.ENOENT(t);if(!Zn(r))throw h.EISDIR(t);var i=r.getData(),o=i.getStats();switch(e.pathExistsAction()){case l.THROW_EXCEPTION:case l.TRUNCATE_FILE:throw h.EEXIST(t);case l.NOP:return new ot(this,t,e,o,i.getData());default:throw new h(s.EINVAL,"Invalid FileMode object.")}},e.prototype.readdirSync=function(t){var e=this._index.getInode(t);if(e){if(Xn(e))return e.getListing();throw h.ENOTDIR(t)}throw h.ENOENT(t)},e.prototype.readFileSync=function(t,e,n){var r=this.openSync(t,n,420);try{var i=r.getBuffer();return null===e?Y(i):i.toString(e)}finally{r.closeSync()}},e}(nt);function ur(t,e,n){return t.toString("ascii",e,e+n).trim()}function lr(t,e,n){if(1===n)return String.fromCharCode(t[e]);for(var r=Math.floor(n/2),i=new Array(r),o=0;o<r;o++){var s=e+(o<<1);i[o]=String.fromCharCode(t[s+1]|t[s]<<8)}return i.join("")}function hr(t,e){var n=parseInt(ur(t,e,4),10),r=parseInt(ur(t,e+4,2),10),i=parseInt(ur(t,e+6,2),10),o=parseInt(ur(t,e+8,2),10),s=parseInt(ur(t,e+10,2),10),a=parseInt(ur(t,e+12,2),10),c=parseInt(ur(t,e+14,2),10);return new Date(n,r,i,o,s,a,100*c)}function fr(t,e){var n=t[e],r=t[e+1],i=t[e+2],o=t[e+3],s=t[e+4],a=t[e+5];return new Date(n,r-1,i,o,s,a)}function pr(t,e){var n=t.slice(e),r=new kr(n);switch(r.signatureWord()){case 17221:return new Er(n);case 20548:return new Sr(n);case 21328:return new Cr(n);case 21332:return new xr(n);case 17746:return new Ar(n);case 17747:return new Tr(n);case 20568:return new Or(n);case 20558:return new Dr(n);case 21324:return new Lr(n);case 20045:return new Mr(n);case 17228:return new Nr(n);case 20556:return new Rr(n);case 21061:return new Pr(n);case 21574:return new Br(n);case 21318:return new jr(n);case 21074:return new Fr(n);default:return r}}function dr(t,e,n,r){n-=4;for(var i=new Array;e<n;){var o=pr(t,e),s=o.length();if(0===s)return i;if(e+=s,o instanceof xr)break;o instanceof Er?i=i.concat(o.getEntries(r)):i.push(o)}return i}cr.Name="ZipFS",cr.Options={zipData:{type:"object",description:"The zip file as a Buffer object.",validator:G},name:{type:"string",optional:!0,description:"The name of the zip file (optional)."}},cr.CompressionMethod=Qn,cr.RegisterDecompressionMethod(Qn.DEFLATE,(function(t,e,n){return H(tr(t.slice(0,e),{chunkSize:n}))})),cr.RegisterDecompressionMethod(Qn.STORED,(function(t,e,n){return Y(t,0,n)}));var yr=function(t){this._data=t};yr.prototype.type=function(){return this._data[0]},yr.prototype.standardIdentifier=function(){return ur(this._data,1,5)},yr.prototype.version=function(){return this._data[6]},yr.prototype.data=function(){return this._data.slice(7,2048)};var mr=function(t){function e(e){t.call(this,e),this._root=null}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.systemIdentifier=function(){return this._getString32(8)},e.prototype.volumeIdentifier=function(){return this._getString32(40)},e.prototype.volumeSpaceSize=function(){return this._data.readUInt32LE(80)},e.prototype.volumeSetSize=function(){return this._data.readUInt16LE(120)},e.prototype.volumeSequenceNumber=function(){return this._data.readUInt16LE(124)},e.prototype.logicalBlockSize=function(){return this._data.readUInt16LE(128)},e.prototype.pathTableSize=function(){return this._data.readUInt32LE(132)},e.prototype.locationOfTypeLPathTable=function(){return this._data.readUInt32LE(140)},e.prototype.locationOfOptionalTypeLPathTable=function(){return this._data.readUInt32LE(144)},e.prototype.locationOfTypeMPathTable=function(){return this._data.readUInt32BE(148)},e.prototype.locationOfOptionalTypeMPathTable=function(){return this._data.readUInt32BE(152)},e.prototype.rootDirectoryEntry=function(t){return null===this._root&&(this._root=this._constructRootDirectoryRecord(this._data.slice(156)),this._root.rootCheckForRockRidge(t)),this._root},e.prototype.volumeSetIdentifier=function(){return this._getString(190,128)},e.prototype.publisherIdentifier=function(){return this._getString(318,128)},e.prototype.dataPreparerIdentifier=function(){return this._getString(446,128)},e.prototype.applicationIdentifier=function(){return this._getString(574,128)},e.prototype.copyrightFileIdentifier=function(){return this._getString(702,38)},e.prototype.abstractFileIdentifier=function(){return this._getString(740,36)},e.prototype.bibliographicFileIdentifier=function(){return this._getString(776,37)},e.prototype.volumeCreationDate=function(){return hr(this._data,813)},e.prototype.volumeModificationDate=function(){return hr(this._data,830)},e.prototype.volumeExpirationDate=function(){return hr(this._data,847)},e.prototype.volumeEffectiveDate=function(){return hr(this._data,864)},e.prototype.fileStructureVersion=function(){return this._data[881]},e.prototype.applicationUsed=function(){return this._data.slice(883,1395)},e.prototype.reserved=function(){return this._data.slice(1395,2048)},e.prototype._getString32=function(t){return this._getString(t,32)},e}(yr),gr=function(t){function e(e){if(t.call(this,e),1!==this.type())throw new h(s.EIO,"Invalid primary volume descriptor.")}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.name=function(){return"ISO9660"},e.prototype._constructRootDirectoryRecord=function(t){return new _r(t,-1)},e.prototype._getString=function(t,e){return this._getString(t,e)},e}(mr),vr=function(t){function e(e){if(t.call(this,e),2!==this.type())throw new h(s.EIO,"Invalid supplementary volume descriptor.");var n=this.escapeSequence(),r=n[2];if(37!==n[0]||47!==n[1]||64!==r&&67!==r&&69!==r)throw new h(s.EIO,"Unrecognized escape sequence for SupplementaryVolumeDescriptor: "+n.toString())}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.name=function(){return"Joliet"},e.prototype.escapeSequence=function(){return this._data.slice(88,120)},e.prototype._constructRootDirectoryRecord=function(t){return new wr(t,-1)},e.prototype._getString=function(t,e){return lr(this._data,t,e)},e}(mr),br=function(t,e){this._suEntries=null,this._fileOrDir=null,this._data=t,this._rockRidgeOffset=e};br.prototype.hasRockRidge=function(){return this._rockRidgeOffset>-1},br.prototype.getRockRidgeOffset=function(){return this._rockRidgeOffset},br.prototype.rootCheckForRockRidge=function(t){var e=this.getDirectory(t);this._rockRidgeOffset=e.getDotEntry(t)._getRockRidgeOffset(t),this._rockRidgeOffset>-1&&(this._fileOrDir=null)},br.prototype.length=function(){return this._data[0]},br.prototype.extendedAttributeRecordLength=function(){return this._data[1]},br.prototype.lba=function(){return 2048*this._data.readUInt32LE(2)},br.prototype.dataLength=function(){return this._data.readUInt32LE(10)},br.prototype.recordingDate=function(){return fr(this._data,18)},br.prototype.fileFlags=function(){return this._data[25]},br.prototype.fileUnitSize=function(){return this._data[26]},br.prototype.interleaveGapSize=function(){return this._data[27]},br.prototype.volumeSequenceNumber=function(){return this._data.readUInt16LE(28)},br.prototype.identifier=function(){return this._getString(33,this._data[32])},br.prototype.fileName=function(t){if(this.hasRockRidge()){var e=this._rockRidgeFilename(t);if(null!==e)return e}var n=this.identifier();if(this.isDirectory(t))return n;var r=n.indexOf(";");return-1===r?n:"."===n[r-1]?n.slice(0,r-1):n.slice(0,r)},br.prototype.isDirectory=function(t){var e=!!(2&this.fileFlags());return!e&&this.hasRockRidge()&&(e=this.getSUEntries(t).filter((function(t){return t instanceof Nr})).length>0),e},br.prototype.isSymlink=function(t){return this.hasRockRidge()&&this.getSUEntries(t).filter((function(t){return t instanceof Lr})).length>0},br.prototype.getSymlinkPath=function(t){for(var e="",n=this.getSUEntries(t),r=this._getGetString(),i=0,o=n;i<o.length;i+=1){var s=o[i];if(s instanceof Lr){for(var a=0,c=s.componentRecords();a<c.length;a+=1){var u=c[a],l=u.flags();2&l?e+="./":4&l?e+="../":8&l?e+="/":(e+=u.content(r),1&l||(e+="/"))}if(!s.continueFlag())break}}return e.length>1&&"/"===e[e.length-1]?e.slice(0,e.length-1):e},br.prototype.getFile=function(t){if(this.isDirectory(t))throw new Error("Tried to get a File from a directory.");return null===this._fileOrDir&&(this._fileOrDir=t.slice(this.lba(),this.lba()+this.dataLength())),this._fileOrDir},br.prototype.getDirectory=function(t){if(!this.isDirectory(t))throw new Error("Tried to get a Directory from a file.");return null===this._fileOrDir&&(this._fileOrDir=this._constructDirectory(t)),this._fileOrDir},br.prototype.getSUEntries=function(t){return this._suEntries||this._constructSUEntries(t),this._suEntries},br.prototype._rockRidgeFilename=function(t){var e=this.getSUEntries(t).filter((function(t){return t instanceof Mr}));if(0===e.length||6&e[0].flags())return null;for(var n="",r=this._getGetString(),i=0,o=e;i<o.length;i+=1){var s=o[i];if(n+=s.name(r),!(1&s.flags()))break}return n},br.prototype._constructSUEntries=function(t){var e=33+this._data[32];e%2==1&&e++,e+=this._rockRidgeOffset,this._suEntries=dr(this._data,e,this.length(),t)},br.prototype._getRockRidgeOffset=function(t){this._rockRidgeOffset=0;var e=this.getSUEntries(t);if(e.length>0){var n=e[0];if(n instanceof Cr&&n.checkBytesPass())for(var r=1;r<e.length;r++){var i=e[r];if(i instanceof Fr||i instanceof Ar&&"IEEE_P1282"===i.extensionIdentifier())return n.bytesSkipped()}}return this._rockRidgeOffset=-1,-1};var _r=function(t){function e(e,n){t.call(this,e,n)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype._getString=function(t,e){return ur(this._data,t,e)},e.prototype._constructDirectory=function(t){return new Ur(this,t)},e.prototype._getGetString=function(){return ur},e}(br),wr=function(t){function e(e,n){t.call(this,e,n)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype._getString=function(t,e){return lr(this._data,t,e)},e.prototype._constructDirectory=function(t){return new qr(this,t)},e.prototype._getGetString=function(){return lr},e}(br),kr=function(t){this._data=t};kr.prototype.signatureWord=function(){return this._data.readUInt16BE(0)},kr.prototype.signatureWordString=function(){return ur(this._data,0,2)},kr.prototype.length=function(){return this._data[2]},kr.prototype.suVersion=function(){return this._data[3]};var Er=function(t){function e(e){t.call(this,e),this._entries=null}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.continuationLba=function(){return this._data.readUInt32LE(4)},e.prototype.continuationLbaOffset=function(){return this._data.readUInt32LE(12)},e.prototype.continuationLength=function(){return this._data.readUInt32LE(20)},e.prototype.getEntries=function(t){if(!this._entries){var e=2048*this.continuationLba()+this.continuationLbaOffset();this._entries=dr(t,e,this.continuationLength(),t)}return this._entries},e}(kr),Sr=function(t){function e(e){t.call(this,e)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(kr),Cr=function(t){function e(e){t.call(this,e)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.checkBytesPass=function(){return 190===this._data[4]&&239===this._data[5]},e.prototype.bytesSkipped=function(){return this._data[6]},e}(kr),xr=function(t){function e(e){t.call(this,e)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(kr),Ar=function(t){function e(e){t.call(this,e)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.identifierLength=function(){return this._data[4]},e.prototype.descriptorLength=function(){return this._data[5]},e.prototype.sourceLength=function(){return this._data[6]},e.prototype.extensionVersion=function(){return this._data[7]},e.prototype.extensionIdentifier=function(){return ur(this._data,8,this.identifierLength())},e.prototype.extensionDescriptor=function(){return ur(this._data,8+this.identifierLength(),this.descriptorLength())},e.prototype.extensionSource=function(){return ur(this._data,8+this.identifierLength()+this.descriptorLength(),this.sourceLength())},e}(kr),Tr=function(t){function e(e){t.call(this,e)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.extensionSequence=function(){return this._data[4]},e}(kr),Fr=function(t){function e(e){t.call(this,e)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(kr),Or=function(t){function e(e){t.call(this,e)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.mode=function(){return this._data.readUInt32LE(4)},e.prototype.fileLinks=function(){return this._data.readUInt32LE(12)},e.prototype.uid=function(){return this._data.readUInt32LE(20)},e.prototype.gid=function(){return this._data.readUInt32LE(28)},e.prototype.inode=function(){return this._data.readUInt32LE(36)},e}(kr),Dr=function(t){function e(e){t.call(this,e)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.devTHigh=function(){return this._data.readUInt32LE(4)},e.prototype.devTLow=function(){return this._data.readUInt32LE(12)},e}(kr),Lr=function(t){function e(e){t.call(this,e)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.flags=function(){return this._data[4]},e.prototype.continueFlag=function(){return 1&this.flags()},e.prototype.componentRecords=function(){for(var t=new Array,e=5;e<this.length();){var n=new Ir(this._data.slice(e));t.push(n),e+=n.length()}return t},e}(kr),Ir=function(t){this._data=t};Ir.prototype.flags=function(){return this._data[0]},Ir.prototype.length=function(){return 2+this.componentLength()},Ir.prototype.componentLength=function(){return this._data[1]},Ir.prototype.content=function(t){return t(this._data,2,this.componentLength())};var Mr=function(t){function e(e){t.call(this,e)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.flags=function(){return this._data[4]},e.prototype.name=function(t){return t(this._data,5,this.length()-5)},e}(kr),Nr=function(t){function e(e){t.call(this,e)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.childDirectoryLba=function(){return this._data.readUInt32LE(4)},e}(kr),Rr=function(t){function e(e){t.call(this,e)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.parentDirectoryLba=function(){return this._data.readUInt32LE(4)},e}(kr),Pr=function(t){function e(e){t.call(this,e)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(kr),Br=function(t){function e(e){t.call(this,e)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.flags=function(){return this._data[4]},e.prototype.creation=function(){return 1&this.flags()?this._longFormDates()?hr(this._data,5):fr(this._data,5):null},e.prototype.modify=function(){if(2&this.flags()){var t=1&this.flags()?1:0;return this._longFormDates?hr(this._data,5+17*t):fr(this._data,5+7*t)}return null},e.prototype.access=function(){if(4&this.flags()){var t=1&this.flags()?1:0;return t+=2&this.flags()?1:0,this._longFormDates?hr(this._data,5+17*t):fr(this._data,5+7*t)}return null},e.prototype.backup=function(){if(16&this.flags()){var t=1&this.flags()?1:0;return t+=2&this.flags()?1:0,t+=4&this.flags()?1:0,this._longFormDates?hr(this._data,5+17*t):fr(this._data,5+7*t)}return null},e.prototype.expiration=function(){if(32&this.flags()){var t=1&this.flags()?1:0;return t+=2&this.flags()?1:0,t+=4&this.flags()?1:0,t+=16&this.flags()?1:0,this._longFormDates?hr(this._data,5+17*t):fr(this._data,5+7*t)}return null},e.prototype.effective=function(){if(64&this.flags()){var t=1&this.flags()?1:0;return t+=2&this.flags()?1:0,t+=4&this.flags()?1:0,t+=16&this.flags()?1:0,t+=32&this.flags()?1:0,this._longFormDates?hr(this._data,5+17*t):fr(this._data,5+7*t)}return null},e.prototype._longFormDates=function(){return!!this.flags()},e}(kr),jr=function(t){function e(e){t.call(this,e)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.virtualSizeHigh=function(){return this._data.readUInt32LE(4)},e.prototype.virtualSizeLow=function(){return this._data.readUInt32LE(12)},e.prototype.tableDepth=function(){return this._data[20]},e}(kr),zr=function(t,e){this._fileList=[],this._fileMap={},this._record=t;var n=t.lba(),r=n+t.dataLength();for(2&t.fileFlags()||(n=2048*t.getSUEntries(e).filter((function(t){return t instanceof Nr}))[0].childDirectoryLba(),r=1/0);n<r;)if(0!==e[n]){var i=this._constructDirectoryRecord(e.slice(n)),o=i.fileName(e);"\0"!==o&&""!==o?i.hasRockRidge()&&0!==i.getSUEntries(e).filter((function(t){return t instanceof Pr})).length||(this._fileMap[o]=i,this._fileList.push(o)):r===1/0&&(r=n+i.dataLength()),n+=i.length()}else n++};zr.prototype.getRecord=function(t){return this._fileMap[t]},zr.prototype.getFileList=function(){return this._fileList},zr.prototype.getDotEntry=function(t){return this._constructDirectoryRecord(t.slice(this._record.lba()))};var Ur=function(t){function e(e,n){t.call(this,e,n)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype._constructDirectoryRecord=function(t){return new _r(t,this._record.getRockRidgeOffset())},e}(zr),qr=function(t){function e(e,n){t.call(this,e,n)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype._constructDirectoryRecord=function(t){return new wr(t,this._record.getRockRidgeOffset())},e}(zr),Hr=function(t){function e(e,n){var r=this;void 0===n&&(n=""),t.call(this),this._data=e;for(var i=!1,o=32768,a=new Array;!i;){var c=e.slice(o);switch(new yr(c).type()){case 1:a.push(new gr(c));break;case 2:a.push(new vr(c));break;case 255:i=!0}o+=2048}if(0===a.length)throw new h(s.EIO,"Unable to find a suitable volume descriptor.");a.forEach((function(t){r._pvd&&2===r._pvd.type()||(r._pvd=t)})),this._root=this._pvd.rootDirectoryEntry(e),this._name=n}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.Create=function(t,n){try{n(null,new e(t.data,t.name))}catch(t){n(t)}},e.isAvailable=function(){return!0},e.prototype.getName=function(){var t="IsoFS"+this._name+(this._pvd?"-"+this._pvd.name():"");return this._root&&this._root.hasRockRidge()&&(t+="-RockRidge"),t},e.prototype.diskSpace=function(t,e){e(this._data.length,0)},e.prototype.isReadOnly=function(){return!0},e.prototype.supportsLinks=function(){return!1},e.prototype.supportsProps=function(){return!1},e.prototype.supportsSynch=function(){return!0},e.prototype.statSync=function(t,e){var n=this._getDirectoryRecord(t);if(null===n)throw h.ENOENT(t);return this._getStats(t,n)},e.prototype.openSync=function(t,e,n){if(e.isWriteable())throw new h(s.EPERM,t);var r=this._getDirectoryRecord(t);if(!r)throw h.ENOENT(t);if(r.isSymlink(this._data))return this.openSync(a.resolve(t,r.getSymlinkPath(this._data)),e,n);if(r.isDirectory(this._data))throw h.EISDIR(t);var i=r.getFile(this._data),o=this._getStats(t,r);switch(e.pathExistsAction()){case l.THROW_EXCEPTION:case l.TRUNCATE_FILE:throw h.EEXIST(t);case l.NOP:return new ot(this,t,e,o,i);default:throw new h(s.EINVAL,"Invalid FileMode object.")}},e.prototype.readdirSync=function(t){var e=this._getDirectoryRecord(t);if(e){if(e.isDirectory(this._data))return e.getDirectory(this._data).getFileList().slice(0);throw h.ENOTDIR(t)}throw h.ENOENT(t)},e.prototype.readFileSync=function(t,e,n){var r=this.openSync(t,n,420);try{var i=r.getBuffer();return null===e?Y(i):i.toString(e)}finally{r.closeSync()}},e.prototype._getDirectoryRecord=function(t){if("/"===t)return this._root;for(var e=t.split("/").slice(1),n=this._root,r=0,i=e;r<i.length;r+=1){var o=i[r];if(!n.isDirectory(this._data))return null;if(!(n=n.getDirectory(this._data).getRecord(o)))return null}return n},e.prototype._getStats=function(t,e){if(e.isSymlink(this._data)){var n=a.resolve(t,e.getSymlinkPath(this._data)),r=this._getDirectoryRecord(n);return r?this._getStats(n,r):null}var i=e.dataLength(),o=365,s=e.recordingDate().getTime(),c=s,u=s,l=s;if(e.hasRockRidge())for(var h=0,f=e.getSUEntries(this._data);h<f.length;h+=1){var d=f[h];if(d instanceof Or)o=d.mode();else if(d instanceof Br){var m=d.flags();4&m&&(c=d.access().getTime()),2&m&&(u=d.modify().getTime()),1&m&&(l=d.creation().getTime())}}return o&=365,new y(e.isDirectory(this._data)?p.DIRECTORY:p.FILE,i,o,c,u,l)},e}(nt);Hr.Name="IsoFS",Hr.Options={data:{type:"object",description:"The ISO file in a buffer",validator:G}},[at,mt,_t,wt,Fe,Ve,Je,Hr,en,nn,vn,Mn,$n,cr].forEach((function(t){var e=t.Create;t.Create=function(n,r){var i="function"==typeof n,o=i?n:r,s=i?{}:n;$(t,s,(function(n){n?o(n):e.call(t,s,o)}))}}));var Vr={AsyncMirror:at,Dropbox:mt,Emscripten:_t,FolderAdapter:wt,HTML5FS:Fe,InMemory:Ve,IndexedDB:Je,IsoFS:Hr,LocalStorage:en,MountableFileSystem:nn,OverlayFS:vn,WorkerFS:Mn,HTTPRequest:$n,XmlHttpRequest:$n,ZipFS:cr};function Wr(t){switch(t){case"fs":return M;case"path":return a;case"buffer":return c;case"process":return i;case"bfs_utils":return J;default:return Vr[t]}}function Yr(t){return M.initialize(t)}function Zr(t,e){var n=t.fs;if(!n)return e(new h(s.EPERM,'Missing "fs" property on configuration object.'));var r=t.options,i=0,o=!1;function a(){if(!o){o=!0;var t=Vr[n];t?t.Create(r,e):e(new h(s.EPERM,"File system "+n+" is not available in BrowserFS."))}}if(null!==r&&"object"==typeof r){var c=!1;Object.keys(r).filter((function(t){return"fs"!==t})).forEach((function(t){var n=r[t];null!==n&&"object"==typeof n&&n.fs&&(i++,Zr(n,(function(n,s){if(i--,n){if(o)return;o=!0,e(n)}else r[t]=s,0===i&&c&&a()})))})),c=!0}0===i&&a()}i.initializeTTYs&&i.initializeTTYs(),"b"!=="ab".substr(-1)&&(String.prototype.substr=function(t){return function(e,n){return e<0&&(e=this.length+e),t.call(this,e,n)}}(String.prototype.substr)),"undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array&&(Uint8Array.prototype.slice||(Uint8Array.prototype.slice=function(t,e){return void 0===t&&(t=0),void 0===e&&(e=this.length),t<0&&(t=this.length+t)<0&&(t=0),e<0&&(e=this.length+e)<0&&(e=0),e<t&&(e=t),new Uint8Array(this.buffer,this.byteOffset+t,e-t)})),e.install=function(e){e.Buffer=t,e.process=i;var n=e.require?e.require:null;e.require=function(t){var e=Wr(t);return e||n.apply(null,Array.prototype.slice.call(arguments,0))}},e.registerFileSystem=function(t,e){Vr[t]=e},e.BFSRequire=Wr,e.initialize=Yr,e.configure=function(t,e){Zr(t,(function(t,n){n?(Yr(n),e()):e(t)}))},e.getFileSystem=Zr,e.EmscriptenFS=tt,e.FileSystem=Vr,e.Errors=f,e.setImmediate=E}).call(this,n(9),n(4),n(2),n(35)(t))},function(t,e,n){"use strict";e.byteLength=function(t){var e=u(t),n=e[0],r=e[1];return 3*(n+r)/4-r},e.toByteArray=function(t){var e,n,r=u(t),s=r[0],a=r[1],c=new o(function(t,e,n){return 3*(e+n)/4-n}(0,s,a)),l=0,h=a>0?s-4:s;for(n=0;n<h;n+=4)e=i[t.charCodeAt(n)]<<18|i[t.charCodeAt(n+1)]<<12|i[t.charCodeAt(n+2)]<<6|i[t.charCodeAt(n+3)],c[l++]=e>>16&255,c[l++]=e>>8&255,c[l++]=255&e;return 2===a&&(e=i[t.charCodeAt(n)]<<2|i[t.charCodeAt(n+1)]>>4,c[l++]=255&e),1===a&&(e=i[t.charCodeAt(n)]<<10|i[t.charCodeAt(n+1)]<<4|i[t.charCodeAt(n+2)]>>2,c[l++]=e>>8&255,c[l++]=255&e),c},e.fromByteArray=function(t){for(var e,n=t.length,i=n%3,o=[],s=0,a=n-i;s<a;s+=16383)o.push(h(t,s,s+16383>a?a:s+16383));return 1===i?(e=t[n-1],o.push(r[e>>2]+r[e<<4&63]+"==")):2===i&&(e=(t[n-2]<<8)+t[n-1],o.push(r[e>>10]+r[e>>4&63]+r[e<<2&63]+"=")),o.join("")};for(var r=[],i=[],o="undefined"!=typeof Uint8Array?Uint8Array:Array,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0,c=s.length;a<c;++a)r[a]=s[a],i[s.charCodeAt(a)]=a;function u(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=t.indexOf("=");return-1===n&&(n=e),[n,n===e?0:4-n%4]}function l(t){return r[t>>18&63]+r[t>>12&63]+r[t>>6&63]+r[63&t]}function h(t,e,n){for(var r,i=[],o=e;o<n;o+=3)r=(t[o]<<16&16711680)+(t[o+1]<<8&65280)+(255&t[o+2]),i.push(l(r));return i.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},function(t,e){e.read=function(t,e,n,r,i){var o,s,a=8*i-r-1,c=(1<<a)-1,u=c>>1,l=-7,h=n?i-1:0,f=n?-1:1,p=t[e+h];for(h+=f,o=p&(1<<-l)-1,p>>=-l,l+=a;l>0;o=256*o+t[e+h],h+=f,l-=8);for(s=o&(1<<-l)-1,o>>=-l,l+=r;l>0;s=256*s+t[e+h],h+=f,l-=8);if(0===o)o=1-u;else{if(o===c)return s?NaN:1/0*(p?-1:1);s+=Math.pow(2,r),o-=u}return(p?-1:1)*s*Math.pow(2,o-r)},e.write=function(t,e,n,r,i,o){var s,a,c,u=8*o-i-1,l=(1<<u)-1,h=l>>1,f=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,p=r?0:o-1,d=r?1:-1,y=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,s=l):(s=Math.floor(Math.log(e)/Math.LN2),e*(c=Math.pow(2,-s))<1&&(s--,c*=2),(e+=s+h>=1?f/c:f*Math.pow(2,1-h))*c>=2&&(s++,c/=2),s+h>=l?(a=0,s=l):s+h>=1?(a=(e*c-1)*Math.pow(2,i),s+=h):(a=e*Math.pow(2,h-1)*Math.pow(2,i),s=0));i>=8;t[n+p]=255&a,p+=d,a/=256,i-=8);for(s=s<<i|a,u+=i;u>0;t[n+p]=255&s,p+=d,s/=256,u-=8);t[n+p-d]|=128*y}},function(t,e,n){"use strict";(function(e){var r=this&&this.__extends||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);function r(){this.constructor=t}t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=n(5),o=null,s=function(){function t(t,e){this.fun=t,this.array=e}return t.prototype.run=function(){this.fun.apply(null,this.array)},t}(),a=function(){function t(){this._queue=[],this._draining=!1,this._currentQueue=null,this._queueIndex=-1}return t.prototype.push=function(t){var e=this;1!==this._queue.push(t)||this._draining||setTimeout((function(){return e._drainQueue()}),0)},t.prototype._cleanUpNextTick=function(){this._draining=!1,this._currentQueue&&this._currentQueue.length?this._queue=this._currentQueue.concat(this._queue):this._queueIndex=-1,this._queue.length&&this._drainQueue()},t.prototype._drainQueue=function(){var t=this;if(!this._draining){var e=setTimeout((function(){return t._cleanUpNextTick()}));this._draining=!0;for(var n=this._queue.length;n;){for(this._currentQueue=this._queue,this._queue=[];++this._queueIndex<n;)this._currentQueue&&this._currentQueue[this._queueIndex].run();this._queueIndex=-1,n=this._queue.length}this._currentQueue=null,this._draining=!1,clearTimeout(e)}},t}(),c=function(t){function i(){t.apply(this,arguments),this.startTime=Date.now(),this._cwd="/",this.platform="browser",this.argv=[],this.execArgv=[],this.stdout=null,this.stderr=null,this.stdin=null,this.domain=null,this._queue=new a,this.execPath=e,this.env={},this.exitCode=0,this._gid=1,this._uid=1,this.version="v5.0",this.versions={http_parser:"0.0",node:"5.0",v8:"0.0",uv:"0.0",zlib:"0.0",ares:"0.0",icu:"0.0",modules:"0",openssl:"0.0"},this.config={target_defaults:{cflags:[],default_configuration:"Release",defines:[],include_dirs:[],libraries:[]},variables:{clang:0,host_arch:"x32",node_install_npm:!1,node_install_waf:!1,node_prefix:"",node_shared_cares:!1,node_shared_http_parser:!1,node_shared_libuv:!1,node_shared_zlib:!1,node_shared_v8:!1,node_use_dtrace:!1,node_use_etw:!1,node_use_openssl:!1,node_shared_openssl:!1,strict_aliasing:!1,target_arch:"x32",v8_use_snapshot:!1,v8_no_strict_aliasing:0,visibility:""}},this.pid=1e3*Math.random()|0,this.title="node",this.arch="x32",this._mask=18,this.connected=void 0}return r(i,t),i.prototype.chdir=function(t){null===o&&(o=n(13)),this._cwd=o.resolve(t)},i.prototype.cwd=function(){return this._cwd},i.prototype.uptime=function(){return(Date.now()-this.startTime)/1e3|0},i.prototype.nextTick=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];this._queue.push(new s(t,e))},i.prototype.abort=function(){this.emit("abort")},i.prototype.exit=function(t){this.exitCode=t,this.emit("exit",[t])},i.prototype.getgid=function(){return this._gid},i.prototype.setgid=function(t){this._gid="number"==typeof t?t:1},i.prototype.getuid=function(){return this._uid},i.prototype.setuid=function(t){this._uid="number"==typeof t?t:1},i.prototype.kill=function(t,e){this.emit("kill",[t,e])},i.prototype.memoryUsage=function(){return{rss:0,heapTotal:0,heapUsed:0}},i.prototype.umask=function(t){void 0===t&&(t=this._mask);var e=this._mask;return this._mask=t,this.emit("umask",[t]),e},i.prototype.hrtime=function(){var t,e=(t="undefined"!=typeof performance?performance.now():Date.now?Date.now():(new Date).getTime())/1e3|0;return[e,t=1e6*(t-=1e3*e)|0]},i.prototype.initializeTTYs=function(){if(null===this.stdout){var t=n(23);this.stdout=new t,this.stderr=new t,this.stdin=new t}},i.prototype.disconnect=function(){},i}(i.EventEmitter);t.exports=c}).call(this,"/")},function(t,e,n){"use strict";(function(e){var r=this&&this.__extends||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);function r(){this.constructor=t}t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=function(t){function n(){t.call(this),this.isRaw=!1,this.columns=80,this.rows=120,this.isTTY=!0,this._bufferedWrites=[],this._waitingForWrites=!1}return r(n,t),n.prototype.setRawMode=function(t){this.isRaw!==t&&(this.isRaw=t,this.emit("modeChange"))},n.prototype.changeColumns=function(t){t!==this.columns&&(this.columns=t,this.emit("resize"))},n.prototype.changeRows=function(t){t!==this.rows&&(this.rows=t,this.emit("resize"))},n.isatty=function(t){return t&&t instanceof n},n.prototype._write=function(t,n,r){var i;try{var o;o="string"==typeof t?new e(t,n):t,this._bufferedWrites.push(o),this._waitingForWrites&&this._read(1024)}catch(t){i=t}finally{r(i)}},n.prototype._read=function(t){if(0===this._bufferedWrites.length)this._waitingForWrites=!0;else for(;this._bufferedWrites.length>0&&(this._waitingForWrites=this.push(this._bufferedWrites.shift()),this._waitingForWrites););},n}(n(24).Duplex);t.exports=i}).call(this,n(9))},function(t,e,n){t.exports=i;var r=n(5).EventEmitter;function i(){r.call(this)}n(1)(i,r),i.Readable=n(11),i.Writable=n(31),i.Duplex=n(32),i.Transform=n(33),i.PassThrough=n(34),i.Stream=i,i.prototype.pipe=function(t,e){var n=this;function i(e){t.writable&&!1===t.write(e)&&n.pause&&n.pause()}function o(){n.readable&&n.resume&&n.resume()}n.on("data",i),t.on("drain",o),t._isStdio||e&&!1===e.end||(n.on("end",a),n.on("close",c));var s=!1;function a(){s||(s=!0,t.end())}function c(){s||(s=!0,"function"==typeof t.destroy&&t.destroy())}function u(t){if(l(),0===r.listenerCount(this,"error"))throw t}function l(){n.removeListener("data",i),t.removeListener("drain",o),n.removeListener("end",a),n.removeListener("close",c),n.removeListener("error",u),t.removeListener("error",u),n.removeListener("end",l),n.removeListener("close",l),t.removeListener("close",l)}return n.on("error",u),t.on("error",u),n.on("end",l),n.on("close",l),t.on("close",l),t.emit("pipe",n),t}},function(t,e){var n={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==n.call(t)}},function(t,e){},function(t,e,n){"use strict";var r=n(7).Buffer,i=n(28);function o(t,e,n){t.copy(e,n)}t.exports=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.head=null,this.tail=null,this.length=0}return t.prototype.push=function(t){var e={data:t,next:null};this.length>0?this.tail.next=e:this.head=e,this.tail=e,++this.length},t.prototype.unshift=function(t){var e={data:t,next:this.head};0===this.length&&(this.tail=e),this.head=e,++this.length},t.prototype.shift=function(){if(0!==this.length){var t=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,t}},t.prototype.clear=function(){this.head=this.tail=null,this.length=0},t.prototype.join=function(t){if(0===this.length)return"";for(var e=this.head,n=""+e.data;e=e.next;)n+=t+e.data;return n},t.prototype.concat=function(t){if(0===this.length)return r.alloc(0);if(1===this.length)return this.head.data;for(var e=r.allocUnsafe(t>>>0),n=this.head,i=0;n;)o(n.data,e,i),i+=n.data.length,n=n.next;return e},t}(),i&&i.inspect&&i.inspect.custom&&(t.exports.prototype[i.inspect.custom]=function(){var t=i.inspect({length:this.length});return this.constructor.name+" "+t})},function(t,e){},function(t,e,n){(function(e){function n(t){try{if(!e.localStorage)return!1}catch(t){return!1}var n=e.localStorage[t];return null!=n&&"true"===String(n).toLowerCase()}t.exports=function(t,e){if(n("noDeprecation"))return t;var r=!1;return function(){if(!r){if(n("throwDeprecation"))throw new Error(e);n("traceDeprecation")?console.trace(e):console.warn(e),r=!0}return t.apply(this,arguments)}}}).call(this,n(4))},function(t,e,n){"use strict";t.exports=o;var r=n(18),i=Object.create(n(3));function o(t){if(!(this instanceof o))return new o(t);r.call(this,t)}i.inherits=n(1),i.inherits(o,r),o.prototype._transform=function(t,e,n){n(null,t)}},function(t,e,n){t.exports=n(12)},function(t,e,n){t.exports=n(0)},function(t,e,n){t.exports=n(11).Transform},function(t,e,n){t.exports=n(11).PassThrough},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e,n){"use strict";var r=n(37),i=n(8),o=n(42),s=n(43),a=n(44),c=n(45),u=n(46),l=Object.prototype.toString;function h(t){if(!(this instanceof h))return new h(t);this.options=i.assign({chunkSize:16384,windowBits:0,to:""},t||{});var e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,0===e.windowBits&&(e.windowBits=-15)),!(e.windowBits>=0&&e.windowBits<16)||t&&t.windowBits||(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&0==(15&e.windowBits)&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new c,this.strm.avail_out=0;var n=r.inflateInit2(this.strm,e.windowBits);if(n!==s.Z_OK)throw new Error(a[n]);if(this.header=new u,r.inflateGetHeader(this.strm,this.header),e.dictionary&&("string"==typeof e.dictionary?e.dictionary=o.string2buf(e.dictionary):"[object ArrayBuffer]"===l.call(e.dictionary)&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(n=r.inflateSetDictionary(this.strm,e.dictionary))!==s.Z_OK))throw new Error(a[n])}function f(t,e){var n=new h(e);if(n.push(t,!0),n.err)throw n.msg||a[n.err];return n.result}h.prototype.push=function(t,e){var n,a,c,u,h,f=this.strm,p=this.options.chunkSize,d=this.options.dictionary,y=!1;if(this.ended)return!1;a=e===~~e?e:!0===e?s.Z_FINISH:s.Z_NO_FLUSH,"string"==typeof t?f.input=o.binstring2buf(t):"[object ArrayBuffer]"===l.call(t)?f.input=new Uint8Array(t):f.input=t,f.next_in=0,f.avail_in=f.input.length;do{if(0===f.avail_out&&(f.output=new i.Buf8(p),f.next_out=0,f.avail_out=p),(n=r.inflate(f,s.Z_NO_FLUSH))===s.Z_NEED_DICT&&d&&(n=r.inflateSetDictionary(this.strm,d)),n===s.Z_BUF_ERROR&&!0===y&&(n=s.Z_OK,y=!1),n!==s.Z_STREAM_END&&n!==s.Z_OK)return this.onEnd(n),this.ended=!0,!1;f.next_out&&(0!==f.avail_out&&n!==s.Z_STREAM_END&&(0!==f.avail_in||a!==s.Z_FINISH&&a!==s.Z_SYNC_FLUSH)||("string"===this.options.to?(c=o.utf8border(f.output,f.next_out),u=f.next_out-c,h=o.buf2string(f.output,c),f.next_out=u,f.avail_out=p-u,u&&i.arraySet(f.output,f.output,c,u,0),this.onData(h)):this.onData(i.shrinkBuf(f.output,f.next_out)))),0===f.avail_in&&0===f.avail_out&&(y=!0)}while((f.avail_in>0||0===f.avail_out)&&n!==s.Z_STREAM_END);return n===s.Z_STREAM_END&&(a=s.Z_FINISH),a===s.Z_FINISH?(n=r.inflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===s.Z_OK):a!==s.Z_SYNC_FLUSH||(this.onEnd(s.Z_OK),f.avail_out=0,!0)},h.prototype.onData=function(t){this.chunks.push(t)},h.prototype.onEnd=function(t){t===s.Z_OK&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=i.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg},e.Inflate=h,e.inflate=f,e.inflateRaw=function(t,e){return(e=e||{}).raw=!0,f(t,e)},e.ungzip=f},function(t,e,n){"use strict";var r=n(8),i=n(38),o=n(39),s=n(40),a=n(41),c=-2,u=12,l=30;function h(t){return(t>>>24&255)+(t>>>8&65280)+((65280&t)<<8)+((255&t)<<24)}function f(t){var e;return t&&t.state?(e=t.state,t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=1&e.wrap),e.mode=1,e.last=0,e.havedict=0,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new r.Buf32(852),e.distcode=e.distdyn=new r.Buf32(592),e.sane=1,e.back=-1,0):c}function p(t){var e;return t&&t.state?((e=t.state).wsize=0,e.whave=0,e.wnext=0,f(t)):c}function d(t,e){var n,r;return t&&t.state?(r=t.state,e<0?(n=0,e=-e):(n=1+(e>>4),e<48&&(e&=15)),e&&(e<8||e>15)?c:(null!==r.window&&r.wbits!==e&&(r.window=null),r.wrap=n,r.wbits=e,p(t))):c}function y(t,e){var n,i;return t?(i=new function(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new r.Buf16(320),this.work=new r.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0},t.state=i,i.window=null,0!==(n=d(t,e))&&(t.state=null),n):c}var m,g,v=!0;function b(t){if(v){var e;for(m=new r.Buf32(512),g=new r.Buf32(32),e=0;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(a(1,t.lens,0,288,m,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;a(2,t.lens,0,32,g,0,t.work,{bits:5}),v=!1}t.lencode=m,t.lenbits=9,t.distcode=g,t.distbits=5}function _(t,e,n,i){var o,s=t.state;return null===s.window&&(s.wsize=1<<s.wbits,s.wnext=0,s.whave=0,s.window=new r.Buf8(s.wsize)),i>=s.wsize?(r.arraySet(s.window,e,n-s.wsize,s.wsize,0),s.wnext=0,s.whave=s.wsize):((o=s.wsize-s.wnext)>i&&(o=i),r.arraySet(s.window,e,n-i,o,s.wnext),(i-=o)?(r.arraySet(s.window,e,n-i,i,0),s.wnext=i,s.whave=s.wsize):(s.wnext+=o,s.wnext===s.wsize&&(s.wnext=0),s.whave<s.wsize&&(s.whave+=o))),0}e.inflateReset=p,e.inflateReset2=d,e.inflateResetKeep=f,e.inflateInit=function(t){return y(t,15)},e.inflateInit2=y,e.inflate=function(t,e){var n,f,p,d,y,m,g,v,w,k,E,S,C,x,A,T,F,O,D,L,I,M,N,R,P=0,B=new r.Buf8(4),j=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!t||!t.state||!t.output||!t.input&&0!==t.avail_in)return c;(n=t.state).mode===u&&(n.mode=13),y=t.next_out,p=t.output,g=t.avail_out,d=t.next_in,f=t.input,m=t.avail_in,v=n.hold,w=n.bits,k=m,E=g,M=0;t:for(;;)switch(n.mode){case 1:if(0===n.wrap){n.mode=13;break}for(;w<16;){if(0===m)break t;m--,v+=f[d++]<<w,w+=8}if(2&n.wrap&&35615===v){n.check=0,B[0]=255&v,B[1]=v>>>8&255,n.check=o(n.check,B,2,0),v=0,w=0,n.mode=2;break}if(n.flags=0,n.head&&(n.head.done=!1),!(1&n.wrap)||(((255&v)<<8)+(v>>8))%31){t.msg="incorrect header check",n.mode=l;break}if(8!=(15&v)){t.msg="unknown compression method",n.mode=l;break}if(w-=4,I=8+(15&(v>>>=4)),0===n.wbits)n.wbits=I;else if(I>n.wbits){t.msg="invalid window size",n.mode=l;break}n.dmax=1<<I,t.adler=n.check=1,n.mode=512&v?10:u,v=0,w=0;break;case 2:for(;w<16;){if(0===m)break t;m--,v+=f[d++]<<w,w+=8}if(n.flags=v,8!=(255&n.flags)){t.msg="unknown compression method",n.mode=l;break}if(57344&n.flags){t.msg="unknown header flags set",n.mode=l;break}n.head&&(n.head.text=v>>8&1),512&n.flags&&(B[0]=255&v,B[1]=v>>>8&255,n.check=o(n.check,B,2,0)),v=0,w=0,n.mode=3;case 3:for(;w<32;){if(0===m)break t;m--,v+=f[d++]<<w,w+=8}n.head&&(n.head.time=v),512&n.flags&&(B[0]=255&v,B[1]=v>>>8&255,B[2]=v>>>16&255,B[3]=v>>>24&255,n.check=o(n.check,B,4,0)),v=0,w=0,n.mode=4;case 4:for(;w<16;){if(0===m)break t;m--,v+=f[d++]<<w,w+=8}n.head&&(n.head.xflags=255&v,n.head.os=v>>8),512&n.flags&&(B[0]=255&v,B[1]=v>>>8&255,n.check=o(n.check,B,2,0)),v=0,w=0,n.mode=5;case 5:if(1024&n.flags){for(;w<16;){if(0===m)break t;m--,v+=f[d++]<<w,w+=8}n.length=v,n.head&&(n.head.extra_len=v),512&n.flags&&(B[0]=255&v,B[1]=v>>>8&255,n.check=o(n.check,B,2,0)),v=0,w=0}else n.head&&(n.head.extra=null);n.mode=6;case 6:if(1024&n.flags&&((S=n.length)>m&&(S=m),S&&(n.head&&(I=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Array(n.head.extra_len)),r.arraySet(n.head.extra,f,d,S,I)),512&n.flags&&(n.check=o(n.check,f,S,d)),m-=S,d+=S,n.length-=S),n.length))break t;n.length=0,n.mode=7;case 7:if(2048&n.flags){if(0===m)break t;S=0;do{I=f[d+S++],n.head&&I&&n.length<65536&&(n.head.name+=String.fromCharCode(I))}while(I&&S<m);if(512&n.flags&&(n.check=o(n.check,f,S,d)),m-=S,d+=S,I)break t}else n.head&&(n.head.name=null);n.length=0,n.mode=8;case 8:if(4096&n.flags){if(0===m)break t;S=0;do{I=f[d+S++],n.head&&I&&n.length<65536&&(n.head.comment+=String.fromCharCode(I))}while(I&&S<m);if(512&n.flags&&(n.check=o(n.check,f,S,d)),m-=S,d+=S,I)break t}else n.head&&(n.head.comment=null);n.mode=9;case 9:if(512&n.flags){for(;w<16;){if(0===m)break t;m--,v+=f[d++]<<w,w+=8}if(v!==(65535&n.check)){t.msg="header crc mismatch",n.mode=l;break}v=0,w=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),t.adler=n.check=0,n.mode=u;break;case 10:for(;w<32;){if(0===m)break t;m--,v+=f[d++]<<w,w+=8}t.adler=n.check=h(v),v=0,w=0,n.mode=11;case 11:if(0===n.havedict)return t.next_out=y,t.avail_out=g,t.next_in=d,t.avail_in=m,n.hold=v,n.bits=w,2;t.adler=n.check=1,n.mode=u;case u:if(5===e||6===e)break t;case 13:if(n.last){v>>>=7&w,w-=7&w,n.mode=27;break}for(;w<3;){if(0===m)break t;m--,v+=f[d++]<<w,w+=8}switch(n.last=1&v,w-=1,3&(v>>>=1)){case 0:n.mode=14;break;case 1:if(b(n),n.mode=20,6===e){v>>>=2,w-=2;break t}break;case 2:n.mode=17;break;case 3:t.msg="invalid block type",n.mode=l}v>>>=2,w-=2;break;case 14:for(v>>>=7&w,w-=7&w;w<32;){if(0===m)break t;m--,v+=f[d++]<<w,w+=8}if((65535&v)!=(v>>>16^65535)){t.msg="invalid stored block lengths",n.mode=l;break}if(n.length=65535&v,v=0,w=0,n.mode=15,6===e)break t;case 15:n.mode=16;case 16:if(S=n.length){if(S>m&&(S=m),S>g&&(S=g),0===S)break t;r.arraySet(p,f,d,S,y),m-=S,d+=S,g-=S,y+=S,n.length-=S;break}n.mode=u;break;case 17:for(;w<14;){if(0===m)break t;m--,v+=f[d++]<<w,w+=8}if(n.nlen=257+(31&v),v>>>=5,w-=5,n.ndist=1+(31&v),v>>>=5,w-=5,n.ncode=4+(15&v),v>>>=4,w-=4,n.nlen>286||n.ndist>30){t.msg="too many length or distance symbols",n.mode=l;break}n.have=0,n.mode=18;case 18:for(;n.have<n.ncode;){for(;w<3;){if(0===m)break t;m--,v+=f[d++]<<w,w+=8}n.lens[j[n.have++]]=7&v,v>>>=3,w-=3}for(;n.have<19;)n.lens[j[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,N={bits:n.lenbits},M=a(0,n.lens,0,19,n.lencode,0,n.work,N),n.lenbits=N.bits,M){t.msg="invalid code lengths set",n.mode=l;break}n.have=0,n.mode=19;case 19:for(;n.have<n.nlen+n.ndist;){for(;T=(P=n.lencode[v&(1<<n.lenbits)-1])>>>16&255,F=65535&P,!((A=P>>>24)<=w);){if(0===m)break t;m--,v+=f[d++]<<w,w+=8}if(F<16)v>>>=A,w-=A,n.lens[n.have++]=F;else{if(16===F){for(R=A+2;w<R;){if(0===m)break t;m--,v+=f[d++]<<w,w+=8}if(v>>>=A,w-=A,0===n.have){t.msg="invalid bit length repeat",n.mode=l;break}I=n.lens[n.have-1],S=3+(3&v),v>>>=2,w-=2}else if(17===F){for(R=A+3;w<R;){if(0===m)break t;m--,v+=f[d++]<<w,w+=8}w-=A,I=0,S=3+(7&(v>>>=A)),v>>>=3,w-=3}else{for(R=A+7;w<R;){if(0===m)break t;m--,v+=f[d++]<<w,w+=8}w-=A,I=0,S=11+(127&(v>>>=A)),v>>>=7,w-=7}if(n.have+S>n.nlen+n.ndist){t.msg="invalid bit length repeat",n.mode=l;break}for(;S--;)n.lens[n.have++]=I}}if(n.mode===l)break;if(0===n.lens[256]){t.msg="invalid code -- missing end-of-block",n.mode=l;break}if(n.lenbits=9,N={bits:n.lenbits},M=a(1,n.lens,0,n.nlen,n.lencode,0,n.work,N),n.lenbits=N.bits,M){t.msg="invalid literal/lengths set",n.mode=l;break}if(n.distbits=6,n.distcode=n.distdyn,N={bits:n.distbits},M=a(2,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,N),n.distbits=N.bits,M){t.msg="invalid distances set",n.mode=l;break}if(n.mode=20,6===e)break t;case 20:n.mode=21;case 21:if(m>=6&&g>=258){t.next_out=y,t.avail_out=g,t.next_in=d,t.avail_in=m,n.hold=v,n.bits=w,s(t,E),y=t.next_out,p=t.output,g=t.avail_out,d=t.next_in,f=t.input,m=t.avail_in,v=n.hold,w=n.bits,n.mode===u&&(n.back=-1);break}for(n.back=0;T=(P=n.lencode[v&(1<<n.lenbits)-1])>>>16&255,F=65535&P,!((A=P>>>24)<=w);){if(0===m)break t;m--,v+=f[d++]<<w,w+=8}if(T&&0==(240&T)){for(O=A,D=T,L=F;T=(P=n.lencode[L+((v&(1<<O+D)-1)>>O)])>>>16&255,F=65535&P,!(O+(A=P>>>24)<=w);){if(0===m)break t;m--,v+=f[d++]<<w,w+=8}v>>>=O,w-=O,n.back+=O}if(v>>>=A,w-=A,n.back+=A,n.length=F,0===T){n.mode=26;break}if(32&T){n.back=-1,n.mode=u;break}if(64&T){t.msg="invalid literal/length code",n.mode=l;break}n.extra=15&T,n.mode=22;case 22:if(n.extra){for(R=n.extra;w<R;){if(0===m)break t;m--,v+=f[d++]<<w,w+=8}n.length+=v&(1<<n.extra)-1,v>>>=n.extra,w-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=23;case 23:for(;T=(P=n.distcode[v&(1<<n.distbits)-1])>>>16&255,F=65535&P,!((A=P>>>24)<=w);){if(0===m)break t;m--,v+=f[d++]<<w,w+=8}if(0==(240&T)){for(O=A,D=T,L=F;T=(P=n.distcode[L+((v&(1<<O+D)-1)>>O)])>>>16&255,F=65535&P,!(O+(A=P>>>24)<=w);){if(0===m)break t;m--,v+=f[d++]<<w,w+=8}v>>>=O,w-=O,n.back+=O}if(v>>>=A,w-=A,n.back+=A,64&T){t.msg="invalid distance code",n.mode=l;break}n.offset=F,n.extra=15&T,n.mode=24;case 24:if(n.extra){for(R=n.extra;w<R;){if(0===m)break t;m--,v+=f[d++]<<w,w+=8}n.offset+=v&(1<<n.extra)-1,v>>>=n.extra,w-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){t.msg="invalid distance too far back",n.mode=l;break}n.mode=25;case 25:if(0===g)break t;if(S=E-g,n.offset>S){if((S=n.offset-S)>n.whave&&n.sane){t.msg="invalid distance too far back",n.mode=l;break}S>n.wnext?(S-=n.wnext,C=n.wsize-S):C=n.wnext-S,S>n.length&&(S=n.length),x=n.window}else x=p,C=y-n.offset,S=n.length;S>g&&(S=g),g-=S,n.length-=S;do{p[y++]=x[C++]}while(--S);0===n.length&&(n.mode=21);break;case 26:if(0===g)break t;p[y++]=n.length,g--,n.mode=21;break;case 27:if(n.wrap){for(;w<32;){if(0===m)break t;m--,v|=f[d++]<<w,w+=8}if(E-=g,t.total_out+=E,n.total+=E,E&&(t.adler=n.check=n.flags?o(n.check,p,E,y-E):i(n.check,p,E,y-E)),E=g,(n.flags?v:h(v))!==n.check){t.msg="incorrect data check",n.mode=l;break}v=0,w=0}n.mode=28;case 28:if(n.wrap&&n.flags){for(;w<32;){if(0===m)break t;m--,v+=f[d++]<<w,w+=8}if(v!==(4294967295&n.total)){t.msg="incorrect length check",n.mode=l;break}v=0,w=0}n.mode=29;case 29:M=1;break t;case l:M=-3;break t;case 31:return-4;case 32:default:return c}return t.next_out=y,t.avail_out=g,t.next_in=d,t.avail_in=m,n.hold=v,n.bits=w,(n.wsize||E!==t.avail_out&&n.mode<l&&(n.mode<27||4!==e))&&_(t,t.output,t.next_out,E-t.avail_out)?(n.mode=31,-4):(k-=t.avail_in,E-=t.avail_out,t.total_in+=k,t.total_out+=E,n.total+=E,n.wrap&&E&&(t.adler=n.check=n.flags?o(n.check,p,E,t.next_out-E):i(n.check,p,E,t.next_out-E)),t.data_type=n.bits+(n.last?64:0)+(n.mode===u?128:0)+(20===n.mode||15===n.mode?256:0),(0===k&&0===E||4===e)&&0===M&&(M=-5),M)},e.inflateEnd=function(t){if(!t||!t.state)return c;var e=t.state;return e.window&&(e.window=null),t.state=null,0},e.inflateGetHeader=function(t,e){var n;return t&&t.state?0==(2&(n=t.state).wrap)?c:(n.head=e,e.done=!1,0):c},e.inflateSetDictionary=function(t,e){var n,r=e.length;return t&&t.state?0!==(n=t.state).wrap&&11!==n.mode?c:11===n.mode&&i(1,e,r,0)!==n.check?-3:_(t,e,r,r)?(n.mode=31,-4):(n.havedict=1,0):c},e.inflateInfo="pako inflate (from Nodeca project)"},function(t,e,n){"use strict";t.exports=function(t,e,n,r){for(var i=65535&t|0,o=t>>>16&65535|0,s=0;0!==n;){n-=s=n>2e3?2e3:n;do{o=o+(i=i+e[r++]|0)|0}while(--s);i%=65521,o%=65521}return i|o<<16|0}},function(t,e,n){"use strict";var r=function(){for(var t,e=[],n=0;n<256;n++){t=n;for(var r=0;r<8;r++)t=1&t?3988292384^t>>>1:t>>>1;e[n]=t}return e}();t.exports=function(t,e,n,i){var o=r,s=i+n;t^=-1;for(var a=i;a<s;a++)t=t>>>8^o[255&(t^e[a])];return-1^t}},function(t,e,n){"use strict";t.exports=function(t,e){var n,r,i,o,s,a,c,u,l,h,f,p,d,y,m,g,v,b,_,w,k,E,S,C,x;n=t.state,r=t.next_in,C=t.input,i=r+(t.avail_in-5),o=t.next_out,x=t.output,s=o-(e-t.avail_out),a=o+(t.avail_out-257),c=n.dmax,u=n.wsize,l=n.whave,h=n.wnext,f=n.window,p=n.hold,d=n.bits,y=n.lencode,m=n.distcode,g=(1<<n.lenbits)-1,v=(1<<n.distbits)-1;t:do{d<15&&(p+=C[r++]<<d,d+=8,p+=C[r++]<<d,d+=8),b=y[p&g];e:for(;;){if(p>>>=_=b>>>24,d-=_,0==(_=b>>>16&255))x[o++]=65535&b;else{if(!(16&_)){if(0==(64&_)){b=y[(65535&b)+(p&(1<<_)-1)];continue e}if(32&_){n.mode=12;break t}t.msg="invalid literal/length code",n.mode=30;break t}w=65535&b,(_&=15)&&(d<_&&(p+=C[r++]<<d,d+=8),w+=p&(1<<_)-1,p>>>=_,d-=_),d<15&&(p+=C[r++]<<d,d+=8,p+=C[r++]<<d,d+=8),b=m[p&v];n:for(;;){if(p>>>=_=b>>>24,d-=_,!(16&(_=b>>>16&255))){if(0==(64&_)){b=m[(65535&b)+(p&(1<<_)-1)];continue n}t.msg="invalid distance code",n.mode=30;break t}if(k=65535&b,d<(_&=15)&&(p+=C[r++]<<d,(d+=8)<_&&(p+=C[r++]<<d,d+=8)),(k+=p&(1<<_)-1)>c){t.msg="invalid distance too far back",n.mode=30;break t}if(p>>>=_,d-=_,k>(_=o-s)){if((_=k-_)>l&&n.sane){t.msg="invalid distance too far back",n.mode=30;break t}if(E=0,S=f,0===h){if(E+=u-_,_<w){w-=_;do{x[o++]=f[E++]}while(--_);E=o-k,S=x}}else if(h<_){if(E+=u+h-_,(_-=h)<w){w-=_;do{x[o++]=f[E++]}while(--_);if(E=0,h<w){w-=_=h;do{x[o++]=f[E++]}while(--_);E=o-k,S=x}}}else if(E+=h-_,_<w){w-=_;do{x[o++]=f[E++]}while(--_);E=o-k,S=x}for(;w>2;)x[o++]=S[E++],x[o++]=S[E++],x[o++]=S[E++],w-=3;w&&(x[o++]=S[E++],w>1&&(x[o++]=S[E++]))}else{E=o-k;do{x[o++]=x[E++],x[o++]=x[E++],x[o++]=x[E++],w-=3}while(w>2);w&&(x[o++]=x[E++],w>1&&(x[o++]=x[E++]))}break}}break}}while(r<i&&o<a);r-=w=d>>3,p&=(1<<(d-=w<<3))-1,t.next_in=r,t.next_out=o,t.avail_in=r<i?i-r+5:5-(r-i),t.avail_out=o<a?a-o+257:257-(o-a),n.hold=p,n.bits=d}},function(t,e,n){"use strict";var r=n(8),i=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],o=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],s=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],a=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];t.exports=function(t,e,n,c,u,l,h,f){var p,d,y,m,g,v,b,_,w,k=f.bits,E=0,S=0,C=0,x=0,A=0,T=0,F=0,O=0,D=0,L=0,I=null,M=0,N=new r.Buf16(16),R=new r.Buf16(16),P=null,B=0;for(E=0;E<=15;E++)N[E]=0;for(S=0;S<c;S++)N[e[n+S]]++;for(A=k,x=15;x>=1&&0===N[x];x--);if(A>x&&(A=x),0===x)return u[l++]=20971520,u[l++]=20971520,f.bits=1,0;for(C=1;C<x&&0===N[C];C++);for(A<C&&(A=C),O=1,E=1;E<=15;E++)if(O<<=1,(O-=N[E])<0)return-1;if(O>0&&(0===t||1!==x))return-1;for(R[1]=0,E=1;E<15;E++)R[E+1]=R[E]+N[E];for(S=0;S<c;S++)0!==e[n+S]&&(h[R[e[n+S]]++]=S);if(0===t?(I=P=h,v=19):1===t?(I=i,M-=257,P=o,B-=257,v=256):(I=s,P=a,v=-1),L=0,S=0,E=C,g=l,T=A,F=0,y=-1,m=(D=1<<A)-1,1===t&&D>852||2===t&&D>592)return 1;for(;;){b=E-F,h[S]<v?(_=0,w=h[S]):h[S]>v?(_=P[B+h[S]],w=I[M+h[S]]):(_=96,w=0),p=1<<E-F,C=d=1<<T;do{u[g+(L>>F)+(d-=p)]=b<<24|_<<16|w|0}while(0!==d);for(p=1<<E-1;L&p;)p>>=1;if(0!==p?(L&=p-1,L+=p):L=0,S++,0==--N[E]){if(E===x)break;E=e[n+h[S]]}if(E>A&&(L&m)!==y){for(0===F&&(F=A),g+=C,O=1<<(T=E-F);T+F<x&&!((O-=N[T+F])<=0);)T++,O<<=1;if(D+=1<<T,1===t&&D>852||2===t&&D>592)return 1;u[y=L&m]=A<<24|T<<16|g-l|0}}return 0!==L&&(u[g+L]=E-F<<24|64<<16|0),f.bits=A,0}},function(t,e,n){"use strict";var r=n(8),i=!0,o=!0;try{String.fromCharCode.apply(null,[0])}catch(t){i=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(t){o=!1}for(var s=new r.Buf8(256),a=0;a<256;a++)s[a]=a>=252?6:a>=248?5:a>=240?4:a>=224?3:a>=192?2:1;function c(t,e){if(e<65534&&(t.subarray&&o||!t.subarray&&i))return String.fromCharCode.apply(null,r.shrinkBuf(t,e));for(var n="",s=0;s<e;s++)n+=String.fromCharCode(t[s]);return n}s[254]=s[254]=1,e.string2buf=function(t){var e,n,i,o,s,a=t.length,c=0;for(o=0;o<a;o++)55296==(64512&(n=t.charCodeAt(o)))&&o+1<a&&56320==(64512&(i=t.charCodeAt(o+1)))&&(n=65536+(n-55296<<10)+(i-56320),o++),c+=n<128?1:n<2048?2:n<65536?3:4;for(e=new r.Buf8(c),s=0,o=0;s<c;o++)55296==(64512&(n=t.charCodeAt(o)))&&o+1<a&&56320==(64512&(i=t.charCodeAt(o+1)))&&(n=65536+(n-55296<<10)+(i-56320),o++),n<128?e[s++]=n:n<2048?(e[s++]=192|n>>>6,e[s++]=128|63&n):n<65536?(e[s++]=224|n>>>12,e[s++]=128|n>>>6&63,e[s++]=128|63&n):(e[s++]=240|n>>>18,e[s++]=128|n>>>12&63,e[s++]=128|n>>>6&63,e[s++]=128|63&n);return e},e.buf2binstring=function(t){return c(t,t.length)},e.binstring2buf=function(t){for(var e=new r.Buf8(t.length),n=0,i=e.length;n<i;n++)e[n]=t.charCodeAt(n);return e},e.buf2string=function(t,e){var n,r,i,o,a=e||t.length,u=new Array(2*a);for(r=0,n=0;n<a;)if((i=t[n++])<128)u[r++]=i;else if((o=s[i])>4)u[r++]=65533,n+=o-1;else{for(i&=2===o?31:3===o?15:7;o>1&&n<a;)i=i<<6|63&t[n++],o--;o>1?u[r++]=65533:i<65536?u[r++]=i:(i-=65536,u[r++]=55296|i>>10&1023,u[r++]=56320|1023&i)}return c(u,r)},e.utf8border=function(t,e){var n;for((e=e||t.length)>t.length&&(e=t.length),n=e-1;n>=0&&128==(192&t[n]);)n--;return n<0||0===n?e:n+s[t[n]]>e?n:e}},function(t,e,n){"use strict";t.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},function(t,e,n){"use strict";t.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},function(t,e,n){"use strict";t.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},function(t,e,n){"use strict";t.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}}])},"object"==typeof e&&"object"==typeof t?t.exports=r():"function"==typeof define&&define.amd?define([],r):"object"==typeof e?e.BrowserFS=r():n.BrowserFS=r()},function(t,e,n){var r=n(277)("socket.io-parser"),i=n(280),o=n(281),s=n(223),a=n(224);function c(){}e.protocol=4,e.types=["CONNECT","DISCONNECT","EVENT","ACK","ERROR","BINARY_EVENT","BINARY_ACK"],e.CONNECT=0,e.DISCONNECT=1,e.EVENT=2,e.ACK=3,e.ERROR=4,e.BINARY_EVENT=5,e.BINARY_ACK=6,e.Encoder=c,e.Decoder=h;var u=e.ERROR+'"encode error"';function l(t){var n=""+t.type;if(e.BINARY_EVENT!==t.type&&e.BINARY_ACK!==t.type||(n+=t.attachments+"-"),t.nsp&&"/"!==t.nsp&&(n+=t.nsp+","),null!=t.id&&(n+=t.id),null!=t.data){var i=function(t){try{return JSON.stringify(t)}catch(t){return!1}}(t.data);if(!1===i)return u;n+=i}return r("encoded %j as %s",t,n),n}function h(){this.reconstructor=null}function f(t){this.reconPack=t,this.buffers=[]}function p(t){return{type:e.ERROR,data:"parser error: "+t}}c.prototype.encode=function(t,n){(r("encoding packet %j",t),e.BINARY_EVENT===t.type||e.BINARY_ACK===t.type)?function(t,e){o.removeBlobs(t,(function(t){var n=o.deconstructPacket(t),r=l(n.packet),i=n.buffers;i.unshift(r),e(i)}))}(t,n):n([l(t)])},i(h.prototype),h.prototype.add=function(t){var n;if("string"==typeof t)n=function(t){var n=0,i={type:Number(t.charAt(0))};if(null==e.types[i.type])return p("unknown packet type "+i.type);if(e.BINARY_EVENT===i.type||e.BINARY_ACK===i.type){for(var o="";"-"!==t.charAt(++n)&&(o+=t.charAt(n),n!=t.length););if(o!=Number(o)||"-"!==t.charAt(n))throw new Error("Illegal attachments");i.attachments=Number(o)}if("/"===t.charAt(n+1))for(i.nsp="";++n;){if(","===(c=t.charAt(n)))break;if(i.nsp+=c,n===t.length)break}else i.nsp="/";var a=t.charAt(n+1);if(""!==a&&Number(a)==a){for(i.id="";++n;){var c;if(null==(c=t.charAt(n))||Number(c)!=c){--n;break}if(i.id+=t.charAt(n),n===t.length)break}i.id=Number(i.id)}if(t.charAt(++n)){var u=function(t){try{return JSON.parse(t)}catch(t){return!1}}(t.substr(n));if(!(!1!==u&&(i.type===e.ERROR||s(u))))return p("invalid payload");i.data=u}return r("decoded %s as %j",t,i),i}(t),e.BINARY_EVENT===n.type||e.BINARY_ACK===n.type?(this.reconstructor=new f(n),0===this.reconstructor.reconPack.attachments&&this.emit("decoded",n)):this.emit("decoded",n);else{if(!a(t)&&!t.base64)throw new Error("Unknown type: "+t);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");(n=this.reconstructor.takeBinaryData(t))&&(this.reconstructor=null,this.emit("decoded",n))}},h.prototype.destroy=function(){this.reconstructor&&this.reconstructor.finishedReconstruction()},f.prototype.takeBinaryData=function(t){if(this.buffers.push(t),this.buffers.length===this.reconPack.attachments){var e=o.reconstructPacket(this.reconPack,this.buffers);return this.finishedReconstruction(),e}return null},f.prototype.finishedReconstruction=function(){this.reconPack=null,this.buffers=[]}},function(t,e,n){(function(e){t.exports=e.BFSRequire("buffer").Buffer}).call(this,n(200))},function(t,e,n){var r=n(284),i=n(204);t.exports=function(t){var e=t.xdomain,n=t.xscheme,o=t.enablesXDR;try{if("undefined"!=typeof XMLHttpRequest&&(!e||r))return new XMLHttpRequest}catch(t){}try{if("undefined"!=typeof XDomainRequest&&!n&&o)return new XDomainRequest}catch(t){}if(!e)try{return new(i[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch(t){}}},function(t,e){t.exports="undefined"!=typeof self?self:"undefined"!=typeof window?window:Function("return this")()},function(t,e,n){var r=n(135),i=n(206);function o(t){this.path=t.path,this.hostname=t.hostname,this.port=t.port,this.secure=t.secure,this.query=t.query,this.timestampParam=t.timestampParam,this.timestampRequests=t.timestampRequests,this.readyState="",this.agent=t.agent||!1,this.socket=t.socket,this.enablesXDR=t.enablesXDR,this.withCredentials=t.withCredentials,this.pfx=t.pfx,this.key=t.key,this.passphrase=t.passphrase,this.cert=t.cert,this.ca=t.ca,this.ciphers=t.ciphers,this.rejectUnauthorized=t.rejectUnauthorized,this.forceNode=t.forceNode,this.isReactNative=t.isReactNative,this.extraHeaders=t.extraHeaders,this.localAddress=t.localAddress}t.exports=o,i(o.prototype),o.prototype.onError=function(t,e){var n=new Error(t);return n.type="TransportError",n.description=e,this.emit("error",n),this},o.prototype.open=function(){return"closed"!==this.readyState&&""!==this.readyState||(this.readyState="opening",this.doOpen()),this},o.prototype.close=function(){return"opening"!==this.readyState&&"open"!==this.readyState||(this.doClose(),this.onClose()),this},o.prototype.send=function(t){if("open"!==this.readyState)throw new Error("Transport not open");this.write(t)},o.prototype.onOpen=function(){this.readyState="open",this.writable=!0,this.emit("open")},o.prototype.onData=function(t){var e=r.decodePacket(t,this.socket.binaryType);this.onPacket(e)},o.prototype.onPacket=function(t){this.emit("packet",t)},o.prototype.onClose=function(){this.readyState="closed",this.emit("close")}},function(t,e,n){function r(t){if(t)return function(t){for(var e in r.prototype)t[e]=r.prototype[e];return t}(t)}t.exports=r,r.prototype.on=r.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this},r.prototype.once=function(t,e){function n(){this.off(t,n),e.apply(this,arguments)}return n.fn=e,this.on(t,n),this},r.prototype.off=r.prototype.removeListener=r.prototype.removeAllListeners=r.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n,r=this._callbacks["$"+t];if(!r)return this;if(1==arguments.length)return delete this._callbacks["$"+t],this;for(var i=0;i<r.length;i++)if((n=r[i])===e||n.fn===e){r.splice(i,1);break}return 0===r.length&&delete this._callbacks["$"+t],this},r.prototype.emit=function(t){this._callbacks=this._callbacks||{};for(var e=new Array(arguments.length-1),n=this._callbacks["$"+t],r=1;r<arguments.length;r++)e[r-1]=arguments[r];if(n){r=0;for(var i=(n=n.slice(0)).length;r<i;++r)n[r].apply(this,e)}return this},r.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]},r.prototype.hasListeners=function(t){return!!this.listeners(t).length}},,function(t,e,n){t.exports=i;var r=n(79);function i(t,e){if(!(this instanceof i))return new i(t,e);var n=r.create();r.add(n,t,e),this.base=r.min(r.create(),t,n),this.vec=r.clone(e),this.max=r.max(r.create(),t,n),this.mag=r.length(this.vec)}var o=i.prototype;o.width=function(){return this.vec[0]},o.height=function(){return this.vec[1]},o.depth=function(){return this.vec[2]},o.x0=function(){return this.base[0]},o.y0=function(){return this.base[1]},o.z0=function(){return this.base[2]},o.x1=function(){return this.max[0]},o.y1=function(){return this.max[1]},o.z1=function(){return this.max[2]},o.translate=function(t){return r.add(this.max,this.max,t),r.add(this.base,this.base,t),this},o.setPosition=function(t){return r.add(this.max,t,this.vec),r.copy(this.base,t),this},o.expand=function(t){var e=r.create(),n=r.create();return r.max(e,t.max,this.max),r.min(n,t.base,this.base),r.subtract(e,e,n),new i(n,e)},o.intersects=function(t){return!(t.base[0]>this.max[0])&&(!(t.base[1]>this.max[1])&&(!(t.base[2]>this.max[2])&&(!(t.max[0]<this.base[0])&&(!(t.max[1]<this.base[1])&&!(t.max[2]<this.base[2])))))},o.touches=function(t){var e=this.union(t);return null!==e&&(0==e.width()||0==e.height()||0==e.depth())},o.union=function(t){if(!this.intersects(t))return null;var e=Math.max(t.base[0],this.base[0]),n=Math.max(t.base[1],this.base[1]),r=Math.max(t.base[2],this.base[2]);return new i([e,n,r],[Math.min(t.max[0],this.max[0])-e,Math.min(t.max[1],this.max[1])-n,Math.min(t.max[2],this.max[2])-r])}},function(t,e,n){"use strict";(function(t){var r=n(210),i=n(359),o=n(360).Buffer;t.__TYPEDARRAY_POOL||(t.__TYPEDARRAY_POOL={UINT8:i([32,0]),UINT16:i([32,0]),UINT32:i([32,0]),BIGUINT64:i([32,0]),INT8:i([32,0]),INT16:i([32,0]),INT32:i([32,0]),BIGINT64:i([32,0]),FLOAT:i([32,0]),DOUBLE:i([32,0]),DATA:i([32,0]),UINT8C:i([32,0]),BUFFER:i([32,0])});var s="undefined"!=typeof Uint8ClampedArray,a="undefined"!=typeof BigUint64Array,c="undefined"!=typeof BigInt64Array,u=t.__TYPEDARRAY_POOL;u.UINT8C||(u.UINT8C=i([32,0])),u.BIGUINT64||(u.BIGUINT64=i([32,0])),u.BIGINT64||(u.BIGINT64=i([32,0])),u.BUFFER||(u.BUFFER=i([32,0]));var l=u.DATA,h=u.BUFFER;function f(t){if(t){var e=t.length||t.byteLength,n=r.log2(e);l[n].push(t)}}function p(t){t=r.nextPow2(t);var e=r.log2(t),n=l[e];return n.length>0?n.pop():new ArrayBuffer(t)}function d(t){return new Uint8Array(p(t),0,t)}function y(t){return new Uint16Array(p(2*t),0,t)}function m(t){return new Uint32Array(p(4*t),0,t)}function g(t){return new Int8Array(p(t),0,t)}function v(t){return new Int16Array(p(2*t),0,t)}function b(t){return new Int32Array(p(4*t),0,t)}function _(t){return new Float32Array(p(4*t),0,t)}function w(t){return new Float64Array(p(8*t),0,t)}function k(t){return s?new Uint8ClampedArray(p(t),0,t):d(t)}function E(t){return a?new BigUint64Array(p(8*t),0,t):null}function S(t){return c?new BigInt64Array(p(8*t),0,t):null}function C(t){return new DataView(p(t),0,t)}function x(t){t=r.nextPow2(t);var e=r.log2(t),n=h[e];return n.length>0?n.pop():new o(t)}e.free=function(t){if(o.isBuffer(t))h[r.log2(t.length)].push(t);else{if("[object ArrayBuffer]"!==Object.prototype.toString.call(t)&&(t=t.buffer),!t)return;var e=t.length||t.byteLength,n=0|r.log2(e);l[n].push(t)}},e.freeUint8=e.freeUint16=e.freeUint32=e.freeBigUint64=e.freeInt8=e.freeInt16=e.freeInt32=e.freeBigInt64=e.freeFloat32=e.freeFloat=e.freeFloat64=e.freeDouble=e.freeUint8Clamped=e.freeDataView=function(t){f(t.buffer)},e.freeArrayBuffer=f,e.freeBuffer=function(t){h[r.log2(t.length)].push(t)},e.malloc=function(t,e){if(void 0===e||"arraybuffer"===e)return p(t);switch(e){case"uint8":return d(t);case"uint16":return y(t);case"uint32":return m(t);case"int8":return g(t);case"int16":return v(t);case"int32":return b(t);case"float":case"float32":return _(t);case"double":case"float64":return w(t);case"uint8_clamped":return k(t);case"bigint64":return S(t);case"biguint64":return E(t);case"buffer":return x(t);case"data":case"dataview":return C(t);default:return null}return null},e.mallocArrayBuffer=p,e.mallocUint8=d,e.mallocUint16=y,e.mallocUint32=m,e.mallocInt8=g,e.mallocInt16=v,e.mallocInt32=b,e.mallocFloat32=e.mallocFloat=_,e.mallocFloat64=e.mallocDouble=w,e.mallocUint8Clamped=k,e.mallocBigUint64=E,e.mallocBigInt64=S,e.mallocDataView=C,e.mallocBuffer=x,e.clearCache=function(){for(var t=0;t<32;++t)u.UINT8[t].length=0,u.UINT16[t].length=0,u.UINT32[t].length=0,u.INT8[t].length=0,u.INT16[t].length=0,u.INT32[t].length=0,u.FLOAT[t].length=0,u.DOUBLE[t].length=0,u.BIGUINT64[t].length=0,u.BIGINT64[t].length=0,u.UINT8C[t].length=0,l[t].length=0,h[t].length=0}}).call(this,n(116))},function(t,e,n){"use strict";function r(t){var e=32;return(t&=-t)&&e--,65535&t&&(e-=16),16711935&t&&(e-=8),252645135&t&&(e-=4),858993459&t&&(e-=2),1431655765&t&&(e-=1),e}e.INT_BITS=32,e.INT_MAX=2147483647,e.INT_MIN=-1<<31,e.sign=function(t){return(t>0)-(t<0)},e.abs=function(t){var e=t>>31;return(t^e)-e},e.min=function(t,e){return e^(t^e)&-(t<e)},e.max=function(t,e){return t^(t^e)&-(t<e)},e.isPow2=function(t){return!(t&t-1||!t)},e.log2=function(t){var e,n;return e=(t>65535)<<4,e|=n=((t>>>=e)>255)<<3,e|=n=((t>>>=n)>15)<<2,(e|=n=((t>>>=n)>3)<<1)|(t>>>=n)>>1},e.log10=function(t){return t>=1e9?9:t>=1e8?8:t>=1e7?7:t>=1e6?6:t>=1e5?5:t>=1e4?4:t>=1e3?3:t>=100?2:t>=10?1:0},e.popCount=function(t){return 16843009*((t=(858993459&(t-=t>>>1&1431655765))+(t>>>2&858993459))+(t>>>4)&252645135)>>>24},e.countTrailingZeros=r,e.nextPow2=function(t){return t+=0===t,--t,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,(t|=t>>>16)+1},e.prevPow2=function(t){return t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,(t|=t>>>16)-(t>>>1)},e.parity=function(t){return t^=t>>>16,t^=t>>>8,t^=t>>>4,27030>>>(t&=15)&1};var i=new Array(256);!function(t){for(var e=0;e<256;++e){var n=e,r=e,i=7;for(n>>>=1;n;n>>>=1)r<<=1,r|=1&n,--i;t[e]=r<<i&255}}(i),e.reverse=function(t){return i[255&t]<<24|i[t>>>8&255]<<16|i[t>>>16&255]<<8|i[t>>>24&255]},e.interleave2=function(t,e){return(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t&=65535)|t<<8))|t<<4))|t<<2))|t<<1))|(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e&=65535)|e<<8))|e<<4))|e<<2))|e<<1))<<1},e.deinterleave2=function(t,e){return(t=65535&((t=16711935&((t=252645135&((t=858993459&((t=t>>>e&1431655765)|t>>>1))|t>>>2))|t>>>4))|t>>>16))<<16>>16},e.interleave3=function(t,e,n){return t=1227133513&((t=3272356035&((t=251719695&((t=4278190335&((t&=1023)|t<<16))|t<<8))|t<<4))|t<<2),(t|=(e=1227133513&((e=3272356035&((e=251719695&((e=4278190335&((e&=1023)|e<<16))|e<<8))|e<<4))|e<<2))<<1)|(n=1227133513&((n=3272356035&((n=251719695&((n=4278190335&((n&=1023)|n<<16))|n<<8))|n<<4))|n<<2))<<2},e.deinterleave3=function(t,e){return(t=1023&((t=4278190335&((t=251719695&((t=3272356035&((t=t>>>e&1227133513)|t>>>2))|t>>>4))|t>>>8))|t>>>16))<<22>>22},e.nextCombination=function(t){var e=t|t-1;return e+1|(~e&-~e)-1>>>r(t)+1}},,,,function(t,e){t.exports=/[!-#%-\*,-\/:;\?@\[-\]_\{\}\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4E\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD803[\uDF55-\uDF59]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC8\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDC4B-\uDC4F\uDC5B\uDC5D\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDE60-\uDE6C\uDF3C-\uDF3E]|\uD806[\uDC3B\uDE3F-\uDE46\uDE9A-\uDE9C\uDE9E-\uDEA2]|\uD807[\uDC41-\uDC45\uDC70\uDC71\uDEF7\uDEF8]|\uD809[\uDC70-\uDC74]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD81B[\uDE97-\uDE9A]|\uD82F\uDC9F|\uD836[\uDE87-\uDE8B]|\uD83A[\uDD5E\uDD5F]/},function(t,e,n){"use strict";function r(){this.__rules__=[],this.__cache__=null}r.prototype.__find__=function(t){for(var e=0;e<this.__rules__.length;e++)if(this.__rules__[e].name===t)return e;return-1},r.prototype.__compile__=function(){var t=this,e=[""];t.__rules__.forEach((function(t){t.enabled&&t.alt.forEach((function(t){e.indexOf(t)<0&&e.push(t)}))})),t.__cache__={},e.forEach((function(e){t.__cache__[e]=[],t.__rules__.forEach((function(n){n.enabled&&(e&&n.alt.indexOf(e)<0||t.__cache__[e].push(n.fn))}))}))},r.prototype.at=function(t,e,n){var r=this.__find__(t),i=n||{};if(-1===r)throw new Error("Parser rule not found: "+t);this.__rules__[r].fn=e,this.__rules__[r].alt=i.alt||[],this.__cache__=null},r.prototype.before=function(t,e,n,r){var i=this.__find__(t),o=r||{};if(-1===i)throw new Error("Parser rule not found: "+t);this.__rules__.splice(i,0,{name:e,enabled:!0,fn:n,alt:o.alt||[]}),this.__cache__=null},r.prototype.after=function(t,e,n,r){var i=this.__find__(t),o=r||{};if(-1===i)throw new Error("Parser rule not found: "+t);this.__rules__.splice(i+1,0,{name:e,enabled:!0,fn:n,alt:o.alt||[]}),this.__cache__=null},r.prototype.push=function(t,e,n){var r=n||{};this.__rules__.push({name:t,enabled:!0,fn:e,alt:r.alt||[]}),this.__cache__=null},r.prototype.enable=function(t,e){Array.isArray(t)||(t=[t]);var n=[];return t.forEach((function(t){var r=this.__find__(t);if(r<0){if(e)return;throw new Error("Rules manager: invalid rule name "+t)}this.__rules__[r].enabled=!0,n.push(t)}),this),this.__cache__=null,n},r.prototype.enableOnly=function(t,e){Array.isArray(t)||(t=[t]),this.__rules__.forEach((function(t){t.enabled=!1})),this.enable(t,e)},r.prototype.disable=function(t,e){Array.isArray(t)||(t=[t]);var n=[];return t.forEach((function(t){var r=this.__find__(t);if(r<0){if(e)return;throw new Error("Rules manager: invalid rule name "+t)}this.__rules__[r].enabled=!1,n.push(t)}),this),this.__cache__=null,n},r.prototype.getRules=function(t){return null===this.__cache__&&this.__compile__(),this.__cache__[t]||[]},t.exports=r},function(t,e,n){"use strict";function r(t,e,n){this.type=t,this.tag=e,this.attrs=null,this.map=null,this.nesting=n,this.level=0,this.children=null,this.content="",this.markup="",this.info="",this.meta=null,this.block=!1,this.hidden=!1}r.prototype.attrIndex=function(t){var e,n,r;if(!this.attrs)return-1;for(n=0,r=(e=this.attrs).length;n<r;n++)if(e[n][0]===t)return n;return-1},r.prototype.attrPush=function(t){this.attrs?this.attrs.push(t):this.attrs=[t]},r.prototype.attrSet=function(t,e){var n=this.attrIndex(t),r=[t,e];n<0?this.attrPush(r):this.attrs[n]=r},r.prototype.attrGet=function(t){var e=this.attrIndex(t),n=null;return e>=0&&(n=this.attrs[e][1]),n},r.prototype.attrJoin=function(t,e){var n=this.attrIndex(t);n<0?this.attrPush([t,e]):this.attrs[n][1]=this.attrs[n][1]+" "+e},t.exports=r},function(t,e,n){"use strict";n.r(e),n.d(e,"updatePositionExtents",(function(){return i}));var r=n(79);function i(t){var e=t.width/2,n=t._localPosition,r=t._extents;r[0]=n[0]-e,r[1]=n[1],r[2]=n[2]-e,r[3]=n[0]+e,r[4]=n[1]+t.height,r[5]=n[2]+e}e.default=function(t){return{name:"position",order:60,state:{position:null,width:1,height:1,_localPosition:null,_renderPosition:null,_extents:null},onAdd:function(e,n){var o=[0,0,0];n.position&&r.copy(o,n.position),n.position=o,n._localPosition=r.create(),n._renderPosition=r.create(),n._extents=new Float32Array(6),t.globalToLocal(n.position,null,n._localPosition),r.copy(n._renderPosition,n._localPosition),i(n)},onRemove:null,system:function(e,n){var o=t.worldOriginOffset;n.forEach(t=>{r.add(t.position,t._localPosition,o),i(t)})}}}},function(t,e,n){"use strict";n.r(e),n.d(e,"setPhysicsFromPosition",(function(){return o}));var r=n(79);e.default=function(t){return{name:"physics",order:40,state:{body:null},onAdd:function(e,n){n.body=t.physics.addBody(),o(n,t.ents.getPositionData(n.__id))},onRemove:function(e,n){if(t.ents.hasPosition(n.__id)){var r=t.ents.getPositionData(n.__id);s(n,r),a(n,r,0,!1)}t.physics.removeBody(n.body)},system:function(e,n){n.forEach(e=>{s(e,t.ents.getPositionData(e.__id))})},renderSystem:function(e,n){var r=(t.positionInCurrentTick*t._tickRate-t._tickRate)/1e3;n.forEach(e=>{var n=e.__id,i=t.ents.getPositionData(n),o=t.ents.cameraSmoothed(n);a(e,i,r,o)})}}};var i=r.create();function o(t,e){var n=t.body.aabb,i=e._extents;r.copy(n.base,i),r.set(n.vec,e.width,e.height,e.width),r.add(n.max,n.base,n.vec)}function s(t,e){var n=t.body.aabb.base,i=e.width/2;r.set(e._localPosition,n[0]+i,n[1],n[2]+i)}function a(t,e,n,o){var s=t.body.velocity;r.scaleAndAdd(i,e._localPosition,s,n),o&&r.lerp(i,e._renderPosition,i,.3),r.copy(e._renderPosition,i)}},function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return r})),n.d(e,"b",(function(){return i}));n(258);function r(t,e,n){var r=t.rendering.getScene();blockIDs=n,blocks=e,t.registry.registerMaterial("water",[.5,.5,.8,.7],null,!0),t.registry.registerMaterial("barrier",[0,0,0,0],null,!0),console.log("Blocks: ",blockIDs),Object.entries(e).forEach((function(e){!function(e,n,i,o,s,a){if(0==i){var c=[];if(0==s.opaque)var u=!0;else u=!1;if(1==o.length&&null==s.material)(o[0].startsWith("http://")||o[0].startsWith("https://"))&&1==game.allowCustom?t.registry.registerMaterial(n,[0,0,0],o[0],u):t.registry.registerMaterial(n,[0,0,0],"textures/"+o[0]+".png",u),c=n;else if(null==s.material)for(var l=0;l<o.length;l++)(o[l].startsWith("http://")||o[l].startsWith("https://"))&&1==game.allowCustom?t.registry.registerMaterial(n+l,[0,0,0],o[l],u):t.registry.registerMaterial(n+l,[0,0,0],"textures/"+o[l]+".png",u),c.push(n+l);else c=s.material;(f=s).material=c,t.registry.registerBlock(e,f)}else if(1==i){var h=function(t,e,n,r){var i=r||"sprite-mat";if((n.startsWith("http://")||n.startsWith("https://"))&&1==game.allowCustom)var o=new BABYLON.Texture(n,e,!0,!0,BABYLON.Texture.NEAREST_SAMPLINGMODE);else o=new BABYLON.Texture("textures/"+n+".png",e,!0,!0,BABYLON.Texture.NEAREST_SAMPLINGMODE);o.hasAlpha=!0;var s=BABYLON.Mesh.CreatePlane("sprite-"+i,1,e),a=t.rendering.makeStandardMaterial(i);a.backFaceCulling=!1,a.diffuseTexture=o,a.diffuseTexture.vOffset=.99,s.material=a,s.rotation.y+=.81;var c=BABYLON.Matrix.Translation(0,.5,0);s.bakeTransformIntoVertices(c);var u=s.clone();return u.rotation.y+=1.62,BABYLON.Mesh.MergeMeshes([s,u],!0)}(t,r,o[0],n);(f=s).blockMesh=h,t.registry.registerBlock(e,f)}else if(2==i){h=function(t,e,n,r){for(var i={},o={},s=0;s<6;s++){var a,c=r+"-"+s||"sprite-mat";i[s]=BABYLON.Mesh.CreatePlane("sprite-"+c,1,e),o[s]=t.rendering.makeStandardMaterial(c+s),o[s].backFaceCulling=!1,((s<4?n[1]:n[0]).startsWith("http://")||(s<4?n[1]:n[0]).startsWith("https://"))&&1==game.allowCustom?o[s].diffuseTexture=new BABYLON.Texture(s<4?n[1]:n[0],e,!0,!0,BABYLON.Texture.NEAREST_SAMPLINGMODE):o[s].diffuseTexture=new BABYLON.Texture("textures/"+(s<4?n[1]:n[0])+".png",e,!0,!0,BABYLON.Texture.NEAREST_SAMPLINGMODE),o[s].diffuseTexture.hasAlpha=!0,i[s].material=o[s],0==s?(a=BABYLON.Matrix.Translation(0,.5,.435),i[s].rotation.y=1.57):1==s?(a=BABYLON.Matrix.Translation(0,.5,-.435),i[s].rotation.y=1.57):2==s?a=BABYLON.Matrix.Translation(0,.5,.435):3==s?a=BABYLON.Matrix.Translation(0,.5,-.435):4==s?(a=BABYLON.Matrix.Translation(0,0,-1),i[s].rotation.x=1.57):5==s&&(a=BABYLON.Matrix.Translation(0,0,0),i[s].rotation.x=1.57),i[s].bakeTransformIntoVertices(a)}return BABYLON.Mesh.MergeMeshes(Object.values(i),!0,!0,void 0,!1,!1)}(t,r,[o[0],o[1]],n);(f=s).blockMesh=h,t.registry.registerBlock(e,f)}else if(4==i){var f;c=t.rendering.makeStandardMaterial(n);if((o[0].startsWith("http://")||o[0].startsWith("https://"))&&1==game.allowCustom)var p=new BABYLON.Texture(o[0],r,!0,!0,BABYLON.Texture.NEAREST_SAMPLINGMODE);else p=new BABYLON.Texture("textures/"+o[0]+".png",r,!0,!0,BABYLON.Texture.NEAREST_SAMPLINGMODE);c.diffuseTexture=p,c.opacityTexture=c.diffuseTexture,c.backFaceCulling=!0,(h=BABYLON.MeshBuilder.CreateBox(n,{size:1},t.rendering.getScene())).material=c,h.bakeTransformIntoVertices(new BABYLON.Matrix.Scaling(1,1,1).setTranslation(new BABYLON.Vector3(0,.5,0))),h.opaque=!1,h.material.needDepthPrePass=!0,(f=s).blockMesh=h,t.registry.registerBlock(e,f)}}(e[0],e[1].name,e[1].type,e[1].texture,e[1].options,e[1].data)}))}function i(t,e){items=e,console.log("Items: ",Object.keys(e))}t.blockIDs={},t.blocks={},t.items={}}).call(this,n(116))},,,function(t,e){var n=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,r=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];t.exports=function(t){var e=t,i=t.indexOf("["),o=t.indexOf("]");-1!=i&&-1!=o&&(t=t.substring(0,i)+t.substring(i,o).replace(/:/g,";")+t.substring(o,t.length));for(var s=n.exec(t||""),a={},c=14;c--;)a[r[c]]=s[c]||"";return-1!=i&&-1!=o&&(a.source=e,a.host=a.host.substring(1,a.host.length-1).replace(/;/g,":"),a.authority=a.authority.replace("[","").replace("]","").replace(/;/g,":"),a.ipv6uri=!0),a}},function(t,e){var n={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==n.call(t)}},function(t,e,n){(function(e){t.exports=function(t){return n&&e.isBuffer(t)||r&&(t instanceof ArrayBuffer||function(t){return"function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(t):t.buffer instanceof ArrayBuffer}(t))};var n="function"==typeof e&&"function"==typeof e.isBuffer,r="function"==typeof ArrayBuffer}).call(this,n(202))},function(t,e,n){var r=n(282),i=n(231),o=n(232),s=n(201),a=n(233),c=n(234),u=n(159)("socket.io-client:manager"),l=n(230),h=n(299),f=Object.prototype.hasOwnProperty;function p(t,e){if(!(this instanceof p))return new p(t,e);t&&"object"==typeof t&&(e=t,t=void 0),(e=e||{}).path=e.path||"/socket.io",this.nsps={},this.subs=[],this.opts=e,this.reconnection(!1!==e.reconnection),this.reconnectionAttempts(e.reconnectionAttempts||1/0),this.reconnectionDelay(e.reconnectionDelay||1e3),this.reconnectionDelayMax(e.reconnectionDelayMax||5e3),this.randomizationFactor(e.randomizationFactor||.5),this.backoff=new h({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(null==e.timeout?2e4:e.timeout),this.readyState="closed",this.uri=t,this.connecting=[],this.lastPing=null,this.encoding=!1,this.packetBuffer=[];var n=e.parser||s;this.encoder=new n.Encoder,this.decoder=new n.Decoder,this.autoConnect=!1!==e.autoConnect,this.autoConnect&&this.open()}t.exports=p,p.prototype.emitAll=function(){for(var t in this.emit.apply(this,arguments),this.nsps)f.call(this.nsps,t)&&this.nsps[t].emit.apply(this.nsps[t],arguments)},p.prototype.updateSocketIds=function(){for(var t in this.nsps)f.call(this.nsps,t)&&(this.nsps[t].id=this.generateId(t))},p.prototype.generateId=function(t){return("/"===t?"":t+"#")+this.engine.id},o(p.prototype),p.prototype.reconnection=function(t){return arguments.length?(this._reconnection=!!t,this):this._reconnection},p.prototype.reconnectionAttempts=function(t){return arguments.length?(this._reconnectionAttempts=t,this):this._reconnectionAttempts},p.prototype.reconnectionDelay=function(t){return arguments.length?(this._reconnectionDelay=t,this.backoff&&this.backoff.setMin(t),this):this._reconnectionDelay},p.prototype.randomizationFactor=function(t){return arguments.length?(this._randomizationFactor=t,this.backoff&&this.backoff.setJitter(t),this):this._randomizationFactor},p.prototype.reconnectionDelayMax=function(t){return arguments.length?(this._reconnectionDelayMax=t,this.backoff&&this.backoff.setMax(t),this):this._reconnectionDelayMax},p.prototype.timeout=function(t){return arguments.length?(this._timeout=t,this):this._timeout},p.prototype.maybeReconnectOnOpen=function(){!this.reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()},p.prototype.open=p.prototype.connect=function(t,e){if(u("readyState %s",this.readyState),~this.readyState.indexOf("open"))return this;u("opening %s",this.uri),this.engine=r(this.uri,this.opts);var n=this.engine,i=this;this.readyState="opening",this.skipReconnect=!1;var o=a(n,"open",(function(){i.onopen(),t&&t()})),s=a(n,"error",(function(e){if(u("connect_error"),i.cleanup(),i.readyState="closed",i.emitAll("connect_error",e),t){var n=new Error("Connection error");n.data=e,t(n)}else i.maybeReconnectOnOpen()}));if(!1!==this._timeout){var c=this._timeout;u("connect attempt will timeout after %d",c);var l=setTimeout((function(){u("connect attempt timed out after %d",c),o.destroy(),n.close(),n.emit("error","timeout"),i.emitAll("connect_timeout",c)}),c);this.subs.push({destroy:function(){clearTimeout(l)}})}return this.subs.push(o),this.subs.push(s),this},p.prototype.onopen=function(){u("open"),this.cleanup(),this.readyState="open",this.emit("open");var t=this.engine;this.subs.push(a(t,"data",c(this,"ondata"))),this.subs.push(a(t,"ping",c(this,"onping"))),this.subs.push(a(t,"pong",c(this,"onpong"))),this.subs.push(a(t,"error",c(this,"onerror"))),this.subs.push(a(t,"close",c(this,"onclose"))),this.subs.push(a(this.decoder,"decoded",c(this,"ondecoded")))},p.prototype.onping=function(){this.lastPing=new Date,this.emitAll("ping")},p.prototype.onpong=function(){this.emitAll("pong",new Date-this.lastPing)},p.prototype.ondata=function(t){this.decoder.add(t)},p.prototype.ondecoded=function(t){this.emit("packet",t)},p.prototype.onerror=function(t){u("error",t),this.emitAll("error",t)},p.prototype.socket=function(t,e){var n=this.nsps[t];if(!n){n=new i(this,t,e),this.nsps[t]=n;var r=this;n.on("connecting",o),n.on("connect",(function(){n.id=r.generateId(t)})),this.autoConnect&&o()}function o(){~l(r.connecting,n)||r.connecting.push(n)}return n},p.prototype.destroy=function(t){var e=l(this.connecting,t);~e&&this.connecting.splice(e,1),this.connecting.length||this.close()},p.prototype.packet=function(t){u("writing packet %j",t);var e=this;t.query&&0===t.type&&(t.nsp+="?"+t.query),e.encoding?e.packetBuffer.push(t):(e.encoding=!0,this.encoder.encode(t,(function(n){for(var r=0;r<n.length;r++)e.engine.write(n[r],t.options);e.encoding=!1,e.processPacketQueue()})))},p.prototype.processPacketQueue=function(){if(this.packetBuffer.length>0&&!this.encoding){var t=this.packetBuffer.shift();this.packet(t)}},p.prototype.cleanup=function(){u("cleanup");for(var t=this.subs.length,e=0;e<t;e++){this.subs.shift().destroy()}this.packetBuffer=[],this.encoding=!1,this.lastPing=null,this.decoder.destroy()},p.prototype.close=p.prototype.disconnect=function(){u("disconnect"),this.skipReconnect=!0,this.reconnecting=!1,"opening"===this.readyState&&this.cleanup(),this.backoff.reset(),this.readyState="closed",this.engine&&this.engine.close()},p.prototype.onclose=function(t){u("onclose"),this.cleanup(),this.backoff.reset(),this.readyState="closed",this.emit("close",t),this._reconnection&&!this.skipReconnect&&this.reconnect()},p.prototype.reconnect=function(){if(this.reconnecting||this.skipReconnect)return this;var t=this;if(this.backoff.attempts>=this._reconnectionAttempts)u("reconnect failed"),this.backoff.reset(),this.emitAll("reconnect_failed"),this.reconnecting=!1;else{var e=this.backoff.duration();u("will wait %dms before reconnect attempt",e),this.reconnecting=!0;var n=setTimeout((function(){t.skipReconnect||(u("attempting reconnect"),t.emitAll("reconnect_attempt",t.backoff.attempts),t.emitAll("reconnecting",t.backoff.attempts),t.skipReconnect||t.open((function(e){e?(u("reconnect attempt error"),t.reconnecting=!1,t.reconnect(),t.emitAll("reconnect_error",e.data)):(u("reconnect success"),t.onreconnect())})))}),e);this.subs.push({destroy:function(){clearTimeout(n)}})}},p.prototype.onreconnect=function(){var t=this.backoff.attempts;this.reconnecting=!1,this.backoff.reset(),this.updateSocketIds(),this.emitAll("reconnect",t)}},function(t,e,n){var r=n(203),i=n(285),o=n(295),s=n(296);e.polling=function(t){var e=!1,n=!1,s=!1!==t.jsonp;if("undefined"!=typeof location){var a="https:"===location.protocol,c=location.port;c||(c=a?443:80),e=t.hostname!==location.hostname||c!==t.port,n=t.secure!==a}if(t.xdomain=e,t.xscheme=n,"open"in new r(t)&&!t.forceJSONP)return new i(t);if(!s)throw new Error("JSONP disabled");return new o(t)},e.websocket=s},function(t,e,n){var r=n(205),i=n(161),o=n(135),s=n(162),a=n(229),c=n(163)("engine.io-client:polling");t.exports=l;var u=null!=new(n(203))({xdomain:!1}).responseType;function l(t){var e=t&&t.forceBase64;u&&!e||(this.supportsBinary=!1),r.call(this,t)}s(l,r),l.prototype.name="polling",l.prototype.doOpen=function(){this.poll()},l.prototype.pause=function(t){var e=this;function n(){c("paused"),e.readyState="paused",t()}if(this.readyState="pausing",this.polling||!this.writable){var r=0;this.polling&&(c("we are currently polling - waiting to pause"),r++,this.once("pollComplete",(function(){c("pre-pause polling complete"),--r||n()}))),this.writable||(c("we are currently writing - waiting to pause"),r++,this.once("drain",(function(){c("pre-pause writing complete"),--r||n()})))}else n()},l.prototype.poll=function(){c("polling"),this.polling=!0,this.doPoll(),this.emit("poll")},l.prototype.onData=function(t){var e=this;c("polling got data %s",t);o.decodePayload(t,this.socket.binaryType,(function(t,n,r){if("opening"===e.readyState&&e.onOpen(),"close"===t.type)return e.onClose(),!1;e.onPacket(t)})),"closed"!==this.readyState&&(this.polling=!1,this.emit("pollComplete"),"open"===this.readyState?this.poll():c('ignoring poll - transport state "%s"',this.readyState))},l.prototype.doClose=function(){var t=this;function e(){c("writing close packet"),t.write([{type:"close"}])}"open"===this.readyState?(c("transport open - closing"),e()):(c("transport not open - deferring close"),this.once("open",e))},l.prototype.write=function(t){var e=this;this.writable=!1;var n=function(){e.writable=!0,e.emit("drain")};o.encodePayload(t,this.supportsBinary,(function(t){e.doWrite(t,n)}))},l.prototype.uri=function(){var t=this.query||{},e=this.secure?"https":"http",n="";return!1!==this.timestampRequests&&(t[this.timestampParam]=a()),this.supportsBinary||t.sid||(t.b64=1),t=i.encode(t),this.port&&("https"===e&&443!==Number(this.port)||"http"===e&&80!==Number(this.port))&&(n=":"+this.port),t.length&&(t="?"+t),e+"://"+(-1!==this.hostname.indexOf(":")?"["+this.hostname+"]":this.hostname)+n+this.path+t}},function(t,e,n){(function(e){var r=n(287),i=Object.prototype.toString,o="function"==typeof Blob||"undefined"!=typeof Blob&&"[object BlobConstructor]"===i.call(Blob),s="function"==typeof File||"undefined"!=typeof File&&"[object FileConstructor]"===i.call(File);t.exports=function t(n){if(!n||"object"!=typeof n)return!1;if(r(n)){for(var i=0,a=n.length;i<a;i++)if(t(n[i]))return!0;return!1}if("function"==typeof e&&e.isBuffer&&e.isBuffer(n)||"function"==typeof ArrayBuffer&&n instanceof ArrayBuffer||o&&n instanceof Blob||s&&n instanceof File)return!0;if(n.toJSON&&"function"==typeof n.toJSON&&1===arguments.length)return t(n.toJSON(),!0);for(var c in n)if(Object.prototype.hasOwnProperty.call(n,c)&&t(n[c]))return!0;return!1}}).call(this,n(202))},function(t,e,n){"use strict";var r,i="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),o={},s=0,a=0;function c(t){var e="";do{e=i[t%64]+e,t=Math.floor(t/64)}while(t>0);return e}function u(){var t=c(+new Date);return t!==r?(s=0,r=t):t+"."+c(s++)}for(;a<64;a++)o[i[a]]=a;u.encode=c,u.decode=function(t){var e=0;for(a=0;a<t.length;a++)e=64*e+o[t.charAt(a)];return e},t.exports=u},function(t,e){var n=[].indexOf;t.exports=function(t,e){if(n)return t.indexOf(e);for(var r=0;r<t.length;++r)if(t[r]===e)return r;return-1}},function(t,e,n){var r=n(201),i=n(232),o=n(298),s=n(233),a=n(234),c=n(159)("socket.io-client:socket"),u=n(161),l=n(228);t.exports=p;var h={connect:1,connect_error:1,connect_timeout:1,connecting:1,disconnect:1,error:1,reconnect:1,reconnect_attempt:1,reconnect_failed:1,reconnect_error:1,reconnecting:1,ping:1,pong:1},f=i.prototype.emit;function p(t,e,n){this.io=t,this.nsp=e,this.json=this,this.ids=0,this.acks={},this.receiveBuffer=[],this.sendBuffer=[],this.connected=!1,this.disconnected=!0,this.flags={},n&&n.query&&(this.query=n.query),this.io.autoConnect&&this.open()}i(p.prototype),p.prototype.subEvents=function(){if(!this.subs){var t=this.io;this.subs=[s(t,"open",a(this,"onopen")),s(t,"packet",a(this,"onpacket")),s(t,"close",a(this,"onclose"))]}},p.prototype.open=p.prototype.connect=function(){return this.connected||(this.subEvents(),this.io.open(),"open"===this.io.readyState&&this.onopen(),this.emit("connecting")),this},p.prototype.send=function(){var t=o(arguments);return t.unshift("message"),this.emit.apply(this,t),this},p.prototype.emit=function(t){if(h.hasOwnProperty(t))return f.apply(this,arguments),this;var e=o(arguments),n={type:(void 0!==this.flags.binary?this.flags.binary:l(e))?r.BINARY_EVENT:r.EVENT,data:e,options:{}};return n.options.compress=!this.flags||!1!==this.flags.compress,"function"==typeof e[e.length-1]&&(c("emitting packet with ack id %d",this.ids),this.acks[this.ids]=e.pop(),n.id=this.ids++),this.connected?this.packet(n):this.sendBuffer.push(n),this.flags={},this},p.prototype.packet=function(t){t.nsp=this.nsp,this.io.packet(t)},p.prototype.onopen=function(){if(c("transport is open - connecting"),"/"!==this.nsp)if(this.query){var t="object"==typeof this.query?u.encode(this.query):this.query;c("sending connect packet with query %s",t),this.packet({type:r.CONNECT,query:t})}else this.packet({type:r.CONNECT})},p.prototype.onclose=function(t){c("close (%s)",t),this.connected=!1,this.disconnected=!0,delete this.id,this.emit("disconnect",t)},p.prototype.onpacket=function(t){var e=t.nsp===this.nsp,n=t.type===r.ERROR&&"/"===t.nsp;if(e||n)switch(t.type){case r.CONNECT:this.onconnect();break;case r.EVENT:case r.BINARY_EVENT:this.onevent(t);break;case r.ACK:case r.BINARY_ACK:this.onack(t);break;case r.DISCONNECT:this.ondisconnect();break;case r.ERROR:this.emit("error",t.data)}},p.prototype.onevent=function(t){var e=t.data||[];c("emitting event %j",e),null!=t.id&&(c("attaching ack callback to event"),e.push(this.ack(t.id))),this.connected?f.apply(this,e):this.receiveBuffer.push(e)},p.prototype.ack=function(t){var e=this,n=!1;return function(){if(!n){n=!0;var i=o(arguments);c("sending ack %j",i),e.packet({type:l(i)?r.BINARY_ACK:r.ACK,id:t,data:i})}}},p.prototype.onack=function(t){var e=this.acks[t.id];"function"==typeof e?(c("calling ack %s with %j",t.id,t.data),e.apply(this,t.data),delete this.acks[t.id]):c("bad ack %s",t.id)},p.prototype.onconnect=function(){this.connected=!0,this.disconnected=!1,this.emit("connect"),this.emitBuffered()},p.prototype.emitBuffered=function(){var t;for(t=0;t<this.receiveBuffer.length;t++)f.apply(this,this.receiveBuffer[t]);for(this.receiveBuffer=[],t=0;t<this.sendBuffer.length;t++)this.packet(this.sendBuffer[t]);this.sendBuffer=[]},p.prototype.ondisconnect=function(){c("server disconnect (%s)",this.nsp),this.destroy(),this.onclose("io server disconnect")},p.prototype.destroy=function(){if(this.subs){for(var t=0;t<this.subs.length;t++)this.subs[t].destroy();this.subs=null}this.io.destroy(this)},p.prototype.close=p.prototype.disconnect=function(){return this.connected&&(c("performing disconnect (%s)",this.nsp),this.packet({type:r.DISCONNECT})),this.destroy(),this.connected&&this.onclose("io client disconnect"),this},p.prototype.compress=function(t){return this.flags.compress=t,this},p.prototype.binary=function(t){return this.flags.binary=t,this}},function(t,e,n){function r(t){if(t)return function(t){for(var e in r.prototype)t[e]=r.prototype[e];return t}(t)}t.exports=r,r.prototype.on=r.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this},r.prototype.once=function(t,e){function n(){this.off(t,n),e.apply(this,arguments)}return n.fn=e,this.on(t,n),this},r.prototype.off=r.prototype.removeListener=r.prototype.removeAllListeners=r.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n,r=this._callbacks["$"+t];if(!r)return this;if(1==arguments.length)return delete this._callbacks["$"+t],this;for(var i=0;i<r.length;i++)if((n=r[i])===e||n.fn===e){r.splice(i,1);break}return this},r.prototype.emit=function(t){this._callbacks=this._callbacks||{};var e=[].slice.call(arguments,1),n=this._callbacks["$"+t];if(n)for(var r=0,i=(n=n.slice(0)).length;r<i;++r)n[r].apply(this,e);return this},r.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]},r.prototype.hasListeners=function(t){return!!this.listeners(t).length}},function(t,e){t.exports=function(t,e,n){return t.on(e,n),{destroy:function(){t.removeListener(e,n)}}}},function(t,e){var n=[].slice;t.exports=function(t,e){if("string"==typeof e&&(e=t[e]),"function"!=typeof e)throw new Error("bind() requires a function");var r=n.call(arguments,2);return function(){return e.apply(t,r.concat(n.call(arguments)))}}},function(t,e,n){"use strict";t.exports=function(t){for(var e=new Array(t),n=0;n<t;++n)e[n]=n;return e}},function(t,e){t.exports=1e-6},function(t,e){t.exports=function(){var t=new Float32Array(3);return t[0]=0,t[1]=0,t[2]=0,t}},function(t,e){t.exports=function(t,e,n){var r=new Float32Array(3);return r[0]=t,r[1]=e,r[2]=n,r}},function(t,e){t.exports=function(t,e){var n=e[0],r=e[1],i=e[2],o=n*n+r*r+i*i;o>0&&(o=1/Math.sqrt(o),t[0]=e[0]*o,t[1]=e[1]*o,t[2]=e[2]*o);return t}},function(t,e){t.exports=function(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}},function(t,e){t.exports=function(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t}},function(t,e){t.exports=function(t,e,n){return t[0]=e[0]*n[0],t[1]=e[1]*n[1],t[2]=e[2]*n[2],t}},function(t,e){t.exports=function(t,e,n){return t[0]=e[0]/n[0],t[1]=e[1]/n[1],t[2]=e[2]/n[2],t}},function(t,e){t.exports=function(t,e){var n=e[0]-t[0],r=e[1]-t[1],i=e[2]-t[2];return Math.sqrt(n*n+r*r+i*i)}},function(t,e){t.exports=function(t,e){var n=e[0]-t[0],r=e[1]-t[1],i=e[2]-t[2];return n*n+r*r+i*i}},function(t,e){t.exports=function(t){var e=t[0],n=t[1],r=t[2];return Math.sqrt(e*e+n*n+r*r)}},function(t,e){t.exports=function(t){var e=t[0],n=t[1],r=t[2];return e*e+n*n+r*r}},,,,,function(t,e,n){"use strict";var r=[],i=[],o=[],s=[],a=[],c=[],u=[],l=[],h=[],f=[],p=[],d=[];t.exports=function(t,e,n,y,m,g){for(var v=u,b=h,_=f,w=d,k=0;k<3;k++)v[k]=+n[k],_[k]=+e.max[k],b[k]=+e.base[k];g||(g=1e-10);var E=function(t,e,n,u,h,f){var d=r,y=i,m=o,g=s,v=a,b=c,_=l,w=Math.floor,k=0,E=0,S=0,C=0,x=0;if(A(),0===S)return 0;for(C=O();E<=S;){if(T(C))if(F())return k;C=O()}for(k+=S,x=0;x<3;x++)u[x]+=n[x],h[x]+=n[x];return k;function A(){if(E=0,0!==(S=Math.sqrt(n[0]*n[0]+n[1]*n[1]+n[2]*n[2])))for(var t=0;t<3;t++){var e=n[t]>=0;g[t]=e?1:-1;var r=e?h[t]:u[t];d[t]=e?u[t]:h[t],y[t]=D(r,g[t]),m[t]=L(d[t],g[t]),_[t]=n[t]/S,v[t]=Math.abs(1/_[t]);var i=e?y[t]+1-r:r-y[t];b[t]=v[t]<1/0?v[t]*i:1/0}}function T(e){for(var n=g[0],r=0===e?y[0]:m[0],i=y[0]+n,o=g[1],s=1===e?y[1]:m[1],a=y[1]+o,c=g[2],u=2===e?y[2]:m[2],l=y[2]+c,h=r;h!=i;h+=n)for(var f=s;f!=a;f+=o)for(var p=u;p!=l;p+=c)if(t(h,f,p))return!0;return!1}function F(){k+=E;var t=g[C],r=E/S,i=p;for(x=0;x<3;x++){var o=n[x]*r;u[x]+=o,h[x]+=o,i[x]=n[x]-o}if(t>0?h[C]=Math.round(h[C]):u[C]=Math.round(u[C]),e(k,C,t,i))return!0;for(x=0;x<3;x++)n[x]=i[x];return A(),0===S}function O(){var t=b[0]<b[1]?b[0]<b[2]?0:2:b[1]<b[2]?1:2,e=b[t]-E;for(E=b[t],y[t]+=g[t],b[t]+=v[t],x=0;x<3;x++)d[x]+=e*_[x],m[x]=L(d[x],g[x]);return t}function D(t,e){return w(t-e*f)}function L(t,e){return w(t+e*f)}}(t,y,v,b,_,g);if(!m){for(k=0;k<3;k++)w[k]=n[k]>0?_[k]-e.max[k]:b[k]-e.base[k];e.translate(w)}return E}},function(t,e,n){"use strict";t.exports={init:function(t){var e=i.nextPow2(t);s.length<e&&(r.free(s),s=r.mallocInt32(e));a.length<e&&(r.free(a),a=r.mallocInt32(e));c.length<e&&(r.free(c),c=r.mallocInt32(e));u.length<e&&(r.free(u),u=r.mallocInt32(e));l.length<e&&(r.free(l),l=r.mallocInt32(e));h.length<e&&(r.free(h),h=r.mallocInt32(e));var n=8*e;f.length<n&&(r.free(f),f=r.mallocDouble(n))},sweepBipartite:function(t,e,n,r,i,l,h,y,m,g){for(var v=0,b=2*t,_=t-1,w=b-1,k=n;k<r;++k){var E=l[k],S=b*k;f[v++]=i[S+_],f[v++]=-(E+1),f[v++]=i[S+w],f[v++]=E}for(k=h;k<y;++k){E=g[k]+(1<<28);var C=b*k;f[v++]=m[C+_],f[v++]=-E,f[v++]=m[C+w],f[v++]=E}var x=v>>>1;o(f,x);var A=0,T=0;for(k=0;k<x;++k){var F=0|f[2*k+1];if(F>=1<<28)p(c,u,T--,F=F-(1<<28)|0);else if(F>=0)p(s,a,A--,F);else if(F<=-(1<<28)){F=-F-(1<<28)|0;for(var O=0;O<A;++O){if(void 0!==(D=e(s[O],F)))return D}d(c,u,T++,F)}else{F=-F-1|0;for(O=0;O<T;++O){var D;if(void 0!==(D=e(F,c[O])))return D}d(s,a,A++,F)}}},sweepComplete:function(t,e,n,r,i,y,m,g,v,b){for(var _=0,w=2*t,k=t-1,E=w-1,S=n;S<r;++S){var C=y[S]+1<<1,x=w*S;f[_++]=i[x+k],f[_++]=-C,f[_++]=i[x+E],f[_++]=C}for(S=m;S<g;++S){C=b[S]+1<<1;var A=w*S;f[_++]=v[A+k],f[_++]=1|-C,f[_++]=v[A+E],f[_++]=1|C}var T=_>>>1;o(f,T);var F=0,O=0,D=0;for(S=0;S<T;++S){var L=0|f[2*S+1],I=1&L;if(S<T-1&&L>>1==f[2*S+3]>>1&&(I=2,S+=1),L<0){for(var M=-(L>>1)-1,N=0;N<D;++N){if(void 0!==(R=e(l[N],M)))return R}if(0!==I)for(N=0;N<F;++N){if(void 0!==(R=e(s[N],M)))return R}if(1!==I)for(N=0;N<O;++N){var R;if(void 0!==(R=e(c[N],M)))return R}0===I?d(s,a,F++,M):1===I?d(c,u,O++,M):2===I&&d(l,h,D++,M)}else{M=(L>>1)-1;0===I?p(s,a,F--,M):1===I?p(c,u,O--,M):2===I&&p(l,h,D--,M)}}},scanBipartite:function(t,e,n,r,i,c,u,l,h,y,m,g){var v=0,b=2*t,_=e,w=e+t,k=1,E=1;r?E=1<<28:k=1<<28;for(var S=i;S<c;++S){var C=S+k,x=b*S;f[v++]=u[x+_],f[v++]=-C,f[v++]=u[x+w],f[v++]=C}for(S=h;S<y;++S){C=S+E;var A=b*S;f[v++]=m[A+_],f[v++]=-C}var T=v>>>1;o(f,T);var F=0;for(S=0;S<T;++S){var O=0|f[2*S+1];if(O<0){var D=!1;if((C=-O)>=1<<28?(D=!r,C-=1<<28):(D=!!r,C-=1),D)d(s,a,F++,C);else{var L=g[C],I=b*C,M=m[I+e+1],N=m[I+e+1+t];t:for(var R=0;R<F;++R){var P=s[R],B=b*P;if(!(N<u[B+e+1]||u[B+e+1+t]<M)){for(var j=e+2;j<t;++j)if(m[I+j+t]<u[B+j]||u[B+j+t]<m[I+j])continue t;var z,U=l[P];if(void 0!==(z=r?n(L,U):n(U,L)))return z}}}}else p(s,a,F--,O-k)}},scanComplete:function(t,e,n,r,i,a,c,u,l,h,p){for(var d=0,y=2*t,m=e,g=e+t,v=r;v<i;++v){var b=v+(1<<28),_=y*v;f[d++]=a[_+m],f[d++]=-b,f[d++]=a[_+g],f[d++]=b}for(v=u;v<l;++v){b=v+1;var w=y*v;f[d++]=h[w+m],f[d++]=-b}var k=d>>>1;o(f,k);var E=0;for(v=0;v<k;++v){var S=0|f[2*v+1];if(S<0){if((b=-S)>=1<<28)s[E++]=b-(1<<28);else{var C=p[b-=1],x=y*b,A=h[x+e+1],T=h[x+e+1+t];t:for(var F=0;F<E;++F){var O=s[F],D=c[O];if(D===C)break;var L=y*O;if(!(T<a[L+e+1]||a[L+e+1+t]<A)){for(var I=e+2;I<t;++I)if(h[x+I+t]<a[L+I]||a[L+I+t]<h[x+I])continue t;var M=n(D,C);if(void 0!==M)return M}}}}else{for(b=S-(1<<28),F=E-1;F>=0;--F)if(s[F]===b){for(I=F+1;I<E;++I)s[I-1]=s[I];break}--E}}}};var r=n(209),i=n(210),o=n(361),s=r.mallocInt32(1024),a=r.mallocInt32(1024),c=r.mallocInt32(1024),u=r.mallocInt32(1024),l=r.mallocInt32(1024),h=r.mallocInt32(1024),f=r.mallocDouble(8192);function p(t,e,n,r){var i=e[r],o=t[n-1];t[i]=o,e[o]=i}function d(t,e,n,r){t[n]=r,e[r]=n}},function(t,e,n){"use strict";t.exports=function(t,e){var n="abcdef".split("").concat(e),r=[];t.indexOf("lo")>=0&&r.push("lo=e[k+n]");t.indexOf("hi")>=0&&r.push("hi=e[k+o]");return n.push("for(var j=2*a,k=j*c,l=k,m=c,n=b,o=a+b,p=c;d>p;++p,k+=j){var _;if($)if(m===p)m+=1,l+=j;else{for(var s=0;j>s;++s){var t=e[k+s];e[k+s]=e[l],e[l++]=t}var u=f[p];f[p]=f[m],f[m++]=u}}return m".replace("_",r.join()).replace("$",t)),Function.apply(void 0,n)}},,,,,function(t,e,n){"use strict";t.exports=n(377)},function(t,e,n){"use strict";t.exports.encode=n(378),t.exports.decode=n(379),t.exports.format=n(380),t.exports.parse=n(381)},function(t,e){t.exports=/[\0-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/},function(t,e){t.exports=/[\0-\x1F\x7F-\x9F]/},function(t,e){t.exports=/[ \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000]/},function(t,e,n){"use strict";var r="<[A-Za-z][A-Za-z0-9\\-]*(?:\\s+[a-zA-Z_:][a-zA-Z0-9:._-]*(?:\\s*=\\s*(?:[^\"'=<>`\\x00-\\x20]+|'[^']*'|\"[^\"]*\"))?)*\\s*\\/?>",i="<\\/[A-Za-z][A-Za-z0-9\\-]*\\s*>",o=new RegExp("^(?:"+r+"|"+i+"|\x3c!----\x3e|\x3c!--(?:-?[^>-])(?:-?[^-])*--\x3e|<[?].*?[?]>|<![A-Z]+\\s+[^>]*>|<!\\[CDATA\\[[\\s\\S]*?\\]\\]>)"),s=new RegExp("^(?:"+r+"|"+i+")");t.exports.HTML_TAG_RE=o,t.exports.HTML_OPEN_CLOSE_TAG_RE=s},function(t,e,n){"use strict";function r(t,e){var n,r,i,o,s,a=[],c=e.length;for(n=0;n<c;n++)126===(i=e[n]).marker&&-1!==i.end&&(o=e[i.end],(s=t.tokens[i.token]).type="s_open",s.tag="s",s.nesting=1,s.markup="~~",s.content="",(s=t.tokens[o.token]).type="s_close",s.tag="s",s.nesting=-1,s.markup="~~",s.content="","text"===t.tokens[o.token-1].type&&"~"===t.tokens[o.token-1].content&&a.push(o.token-1));for(;a.length;){for(r=(n=a.pop())+1;r<t.tokens.length&&"s_close"===t.tokens[r].type;)r++;n!==--r&&(s=t.tokens[r],t.tokens[r]=t.tokens[n],t.tokens[n]=s)}}t.exports.tokenize=function(t,e){var n,r,i,o,s=t.pos,a=t.src.charCodeAt(s);if(e)return!1;if(126!==a)return!1;if(i=(r=t.scanDelims(t.pos,!0)).length,o=String.fromCharCode(a),i<2)return!1;for(i%2&&(t.push("text","",0).content=o,i--),n=0;n<i;n+=2)t.push("text","",0).content=o+o,t.delimiters.push({marker:a,length:0,jump:n,token:t.tokens.length-1,end:-1,open:r.can_open,close:r.can_close});return t.pos+=r.length,!0},t.exports.postProcess=function(t){var e,n=t.tokens_meta,i=t.tokens_meta.length;for(r(t,t.delimiters),e=0;e<i;e++)n[e]&&n[e].delimiters&&r(t,n[e].delimiters)}},function(t,e,n){"use strict";function r(t,e){var n,r,i,o,s,a;for(n=e.length-1;n>=0;n--)95!==(r=e[n]).marker&&42!==r.marker||-1!==r.end&&(i=e[r.end],a=n>0&&e[n-1].end===r.end+1&&e[n-1].token===r.token-1&&e[r.end+1].token===i.token+1&&e[n-1].marker===r.marker,s=String.fromCharCode(r.marker),(o=t.tokens[r.token]).type=a?"strong_open":"em_open",o.tag=a?"strong":"em",o.nesting=1,o.markup=a?s+s:s,o.content="",(o=t.tokens[i.token]).type=a?"strong_close":"em_close",o.tag=a?"strong":"em",o.nesting=-1,o.markup=a?s+s:s,o.content="",a&&(t.tokens[e[n-1].token].content="",t.tokens[e[r.end+1].token].content="",n--))}t.exports.tokenize=function(t,e){var n,r,i=t.pos,o=t.src.charCodeAt(i);if(e)return!1;if(95!==o&&42!==o)return!1;for(r=t.scanDelims(t.pos,42===o),n=0;n<r.length;n++)t.push("text","",0).content=String.fromCharCode(o),t.delimiters.push({marker:o,length:r.length,jump:n,token:t.tokens.length-1,end:-1,open:r.can_open,close:r.can_close});return t.pos+=r.length,!0},t.exports.postProcess=function(t){var e,n=t.tokens_meta,i=t.tokens_meta.length;for(r(t,t.delimiters),e=0;e<i;e++)n[e]&&n[e].delimiters&&r(t,n[e].delimiters)}},function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=n(268),i=n.n(r),o=n(141),s=n(196);function a(){var t=document.createElement("div");t.style.padding="10px";var e=document.createElement("button");return e.id="menu_connect",e.classList.add("btn"),e.classList.add("btn-secondary"),e.classList.add("btn-lg"),e.innerHTML="Test",e.onclick=function(){var t=localStorage.getItem("nickname");Object(s.a)(t,new i.a,!0)},t.appendChild(e),Object(o.a)("menu_singleplayer","Singleplayer worlds",["800px","500px"],t).main}},function(t,e,n){t.exports=function(){return new Worker(n.p+"f2283bfe2d9c7d7d62e4.worker.js")}},function(t,e,n){
/*! @license DOMPurify | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/2.0.8/LICENSE */
t.exports=function(){"use strict";var t=Object.hasOwnProperty,e=Object.setPrototypeOf,n=Object.isFrozen,r=Object.keys,i=Object.freeze,o=Object.seal,s="undefined"!=typeof Reflect&&Reflect,a=s.apply,c=s.construct;a||(a=function(t,e,n){return t.apply(e,n)}),i||(i=function(t){return t}),o||(o=function(t){return t}),c||(c=function(t,e){return new(Function.prototype.bind.apply(t,[null].concat(function(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}(e))))});var u=E(Array.prototype.forEach),l=E(Array.prototype.indexOf),h=E(Array.prototype.join),f=E(Array.prototype.pop),p=E(Array.prototype.push),d=E(Array.prototype.slice),y=E(String.prototype.toLowerCase),m=E(String.prototype.match),g=E(String.prototype.replace),v=E(String.prototype.indexOf),b=E(String.prototype.trim),_=E(RegExp.prototype.test),w=S(RegExp),k=S(TypeError);function E(t){return function(e){for(var n=arguments.length,r=Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return a(t,e,r)}}function S(t){return function(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];return c(t,n)}}function C(t,r){e&&e(t,null);for(var i=r.length;i--;){var o=r[i];if("string"==typeof o){var s=y(o);s!==o&&(n(r)||(r[i]=s),o=s)}t[o]=!0}return t}function x(e){var n={},r=void 0;for(r in e)a(t,e,[r])&&(n[r]=e[r]);return n}var A=i(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),T=i(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","audio","canvas","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","video","view","vkern"]),F=i(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),O=i(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),D=i(["#text"]),L=i(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns"]),I=i(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","tabindex","targetx","targety","transform","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),M=i(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),N=i(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),R=o(/\{\{[\s\S]*|[\s\S]*\}\}/gm),P=o(/<%[\s\S]*|[\s\S]*%>/gm),B=o(/^data-[\-\w.\u00B7-\uFFFF]/),j=o(/^aria-[\-\w]+$/),z=o(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),U=o(/^(?:\w+script|data):/i),q=o(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205f\u3000]/g),H="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};function V(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}var W=function(){return"undefined"==typeof window?null:window},Y=function(t,e){if("object"!==(void 0===t?"undefined":H(t))||"function"!=typeof t.createPolicy)return null;var n=null;e.currentScript&&e.currentScript.hasAttribute("data-tt-policy-suffix")&&(n=e.currentScript.getAttribute("data-tt-policy-suffix"));var r="dompurify"+(n?"#"+n:"");try{return t.createPolicy(r,{createHTML:function(t){return t}})}catch(t){return console.warn("TrustedTypes policy "+r+" could not be created."),null}};return function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:W(),n=function(e){return t(e)};if(n.version="2.0.12",n.removed=[],!e||!e.document||9!==e.document.nodeType)return n.isSupported=!1,n;var o=e.document,s=!1,a=e.document,c=e.DocumentFragment,E=e.HTMLTemplateElement,S=e.Node,Z=e.NodeFilter,X=e.NamedNodeMap,G=void 0===X?e.NamedNodeMap||e.MozNamedAttrMap:X,$=e.Text,J=e.Comment,K=e.DOMParser,Q=e.trustedTypes;if("function"==typeof E){var tt=a.createElement("template");tt.content&&tt.content.ownerDocument&&(a=tt.content.ownerDocument)}var et=Y(Q,o),nt=et&&Mt?et.createHTML(""):"",rt=a,it=rt.implementation,ot=rt.createNodeIterator,st=rt.getElementsByTagName,at=rt.createDocumentFragment,ct=o.importNode,ut={};n.isSupported=it&&void 0!==it.createHTMLDocument&&9!==a.documentMode;var lt=R,ht=P,ft=B,pt=j,dt=U,yt=q,mt=z,gt=null,vt=C({},[].concat(V(A),V(T),V(F),V(O),V(D))),bt=null,_t=C({},[].concat(V(L),V(I),V(M),V(N))),wt=null,kt=null,Et=!0,St=!0,Ct=!1,xt=!1,At=!1,Tt=!1,Ft=!1,Ot=!1,Dt=!1,Lt=!1,It=!1,Mt=!1,Nt=!0,Rt=!0,Pt=!1,Bt={},jt=C({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","plaintext","script","style","svg","template","thead","title","video","xmp"]),zt=null,Ut=C({},["audio","video","img","source","image","track"]),qt=null,Ht=C({},["alt","class","for","id","label","name","pattern","placeholder","summary","title","value","style","xmlns"]),Vt=null,Wt=a.createElement("form"),Yt=function(t){Vt&&Vt===t||(t&&"object"===(void 0===t?"undefined":H(t))||(t={}),gt="ALLOWED_TAGS"in t?C({},t.ALLOWED_TAGS):vt,bt="ALLOWED_ATTR"in t?C({},t.ALLOWED_ATTR):_t,qt="ADD_URI_SAFE_ATTR"in t?C(x(Ht),t.ADD_URI_SAFE_ATTR):Ht,zt="ADD_DATA_URI_TAGS"in t?C(x(Ut),t.ADD_DATA_URI_TAGS):Ut,wt="FORBID_TAGS"in t?C({},t.FORBID_TAGS):{},kt="FORBID_ATTR"in t?C({},t.FORBID_ATTR):{},Bt="USE_PROFILES"in t&&t.USE_PROFILES,Et=!1!==t.ALLOW_ARIA_ATTR,St=!1!==t.ALLOW_DATA_ATTR,Ct=t.ALLOW_UNKNOWN_PROTOCOLS||!1,xt=t.SAFE_FOR_JQUERY||!1,At=t.SAFE_FOR_TEMPLATES||!1,Tt=t.WHOLE_DOCUMENT||!1,Dt=t.RETURN_DOM||!1,Lt=t.RETURN_DOM_FRAGMENT||!1,It=t.RETURN_DOM_IMPORT||!1,Mt=t.RETURN_TRUSTED_TYPE||!1,Ot=t.FORCE_BODY||!1,Nt=!1!==t.SANITIZE_DOM,Rt=!1!==t.KEEP_CONTENT,Pt=t.IN_PLACE||!1,mt=t.ALLOWED_URI_REGEXP||mt,At&&(St=!1),Lt&&(Dt=!0),Bt&&(gt=C({},[].concat(V(D))),bt=[],!0===Bt.html&&(C(gt,A),C(bt,L)),!0===Bt.svg&&(C(gt,T),C(bt,I),C(bt,N)),!0===Bt.svgFilters&&(C(gt,F),C(bt,I),C(bt,N)),!0===Bt.mathMl&&(C(gt,O),C(bt,M),C(bt,N))),t.ADD_TAGS&&(gt===vt&&(gt=x(gt)),C(gt,t.ADD_TAGS)),t.ADD_ATTR&&(bt===_t&&(bt=x(bt)),C(bt,t.ADD_ATTR)),t.ADD_URI_SAFE_ATTR&&C(qt,t.ADD_URI_SAFE_ATTR),Rt&&(gt["#text"]=!0),Tt&&C(gt,["html","head","body"]),gt.table&&(C(gt,["tbody"]),delete wt.tbody),i&&i(t),Vt=t)},Zt=function(t){p(n.removed,{element:t});try{t.parentNode.removeChild(t)}catch(e){t.outerHTML=nt}},Xt=function(t,e){try{p(n.removed,{attribute:e.getAttributeNode(t),from:e})}catch(t){p(n.removed,{attribute:null,from:e})}e.removeAttribute(t)},Gt=function(t){var e=void 0,n=void 0;if(Ot)t="<remove></remove>"+t;else{var r=m(t,/^[\r\n\t ]+/);n=r&&r[0]}var i=et?et.createHTML(t):t;try{e=(new K).parseFromString(i,"text/html")}catch(t){}if(s&&C(wt,["title"]),!e||!e.documentElement){var o=(e=it.createHTMLDocument("")).body;o.parentNode.removeChild(o.parentNode.firstElementChild),o.outerHTML=i}return t&&n&&e.body.insertBefore(a.createTextNode(n),e.body.childNodes[0]||null),st.call(e,Tt?"html":"body")[0]};n.isSupported&&function(){try{var t=Gt("<x/><title>&lt;/title&gt;&lt;img&gt;");_(/<\/title/,t.querySelector("title").innerHTML)&&(s=!0)}catch(t){}}();var $t=function(t){return ot.call(t.ownerDocument||t,t,Z.SHOW_ELEMENT|Z.SHOW_COMMENT|Z.SHOW_TEXT,(function(){return Z.FILTER_ACCEPT}),!1)},Jt=function(t){return!(t instanceof $||t instanceof J||"string"==typeof t.nodeName&&"string"==typeof t.textContent&&"function"==typeof t.removeChild&&t.attributes instanceof G&&"function"==typeof t.removeAttribute&&"function"==typeof t.setAttribute&&"string"==typeof t.namespaceURI)},Kt=function(t){return"object"===(void 0===S?"undefined":H(S))?t instanceof S:t&&"object"===(void 0===t?"undefined":H(t))&&"number"==typeof t.nodeType&&"string"==typeof t.nodeName},Qt=function(t,e,r){ut[t]&&u(ut[t],(function(t){t.call(n,e,r,Vt)}))},te=function(t){var e=void 0;if(Qt("beforeSanitizeElements",t,null),Jt(t))return Zt(t),!0;var r=y(t.nodeName);if(Qt("uponSanitizeElement",t,{tagName:r,allowedTags:gt}),("svg"===r||"math"===r)&&0!==t.querySelectorAll("p, br").length)return Zt(t),!0;if(!gt[r]||wt[r]){if(Rt&&!jt[r]&&"function"==typeof t.insertAdjacentHTML)try{var i=t.innerHTML;t.insertAdjacentHTML("AfterEnd",et?et.createHTML(i):i)}catch(t){}return Zt(t),!0}return"noscript"===r&&_(/<\/noscript/i,t.innerHTML)||"noembed"===r&&_(/<\/noembed/i,t.innerHTML)?(Zt(t),!0):(!xt||t.firstElementChild||t.content&&t.content.firstElementChild||!_(/</g,t.textContent)||(p(n.removed,{element:t.cloneNode()}),t.innerHTML?t.innerHTML=g(t.innerHTML,/</g,"&lt;"):t.innerHTML=g(t.textContent,/</g,"&lt;")),At&&3===t.nodeType&&(e=t.textContent,e=g(e,lt," "),e=g(e,ht," "),t.textContent!==e&&(p(n.removed,{element:t.cloneNode()}),t.textContent=e)),Qt("afterSanitizeElements",t,null),!1)},ee=function(t,e,n){if(Nt&&("id"===e||"name"===e)&&(n in a||n in Wt))return!1;if(St&&_(ft,e));else if(Et&&_(pt,e));else{if(!bt[e]||kt[e])return!1;if(qt[e]);else if(_(mt,g(n,yt,"")));else if("src"!==e&&"xlink:href"!==e&&"href"!==e||"script"===t||0!==v(n,"data:")||!zt[t])if(Ct&&!_(dt,g(n,yt,"")));else if(n)return!1}return!0},ne=function(t){var e=void 0,i=void 0,o=void 0,s=void 0,a=void 0;Qt("beforeSanitizeAttributes",t,null);var c=t.attributes;if(c){var u={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:bt};for(a=c.length;a--;){var p=e=c[a],m=p.name,v=p.namespaceURI;if(i=b(e.value),o=y(m),u.attrName=o,u.attrValue=i,u.keepAttr=!0,u.forceKeepAttr=void 0,Qt("uponSanitizeAttribute",t,u),i=u.attrValue,!u.forceKeepAttr){if("name"===o&&"IMG"===t.nodeName&&c.id)s=c.id,c=d(c,[]),Xt("id",t),Xt(m,t),l(c,s)>a&&t.setAttribute("id",s.value);else{if("INPUT"===t.nodeName&&"type"===o&&"file"===i&&u.keepAttr&&(bt[o]||!kt[o]))continue;"id"===m&&t.setAttribute(m,""),Xt(m,t)}if(u.keepAttr)if(xt&&_(/\/>/i,i))Xt(m,t);else if(_(/svg|math/i,t.namespaceURI)&&_(w("</("+h(r(jt),"|")+")","i"),i))Xt(m,t);else{At&&(i=g(i,lt," "),i=g(i,ht," "));var k=t.nodeName.toLowerCase();if(ee(k,o,i))try{v?t.setAttributeNS(v,m,i):t.setAttribute(m,i),f(n.removed)}catch(t){}}}}Qt("afterSanitizeAttributes",t,null)}},re=function t(e){var n=void 0,r=$t(e);for(Qt("beforeSanitizeShadowDOM",e,null);n=r.nextNode();)Qt("uponSanitizeShadowNode",n,null),te(n)||(n.content instanceof c&&t(n.content),ne(n));Qt("afterSanitizeShadowDOM",e,null)};return n.sanitize=function(t,r){var i=void 0,s=void 0,a=void 0,u=void 0,l=void 0;if(t||(t="\x3c!--\x3e"),"string"!=typeof t&&!Kt(t)){if("function"!=typeof t.toString)throw k("toString is not a function");if("string"!=typeof(t=t.toString()))throw k("dirty is not a string, aborting")}if(!n.isSupported){if("object"===H(e.toStaticHTML)||"function"==typeof e.toStaticHTML){if("string"==typeof t)return e.toStaticHTML(t);if(Kt(t))return e.toStaticHTML(t.outerHTML)}return t}if(Ft||Yt(r),n.removed=[],"string"==typeof t&&(Pt=!1),Pt);else if(t instanceof S)1===(s=(i=Gt("\x3c!--\x3e")).ownerDocument.importNode(t,!0)).nodeType&&"BODY"===s.nodeName||"HTML"===s.nodeName?i=s:i.appendChild(s);else{if(!Dt&&!At&&!Tt&&-1===t.indexOf("<"))return et&&Mt?et.createHTML(t):t;if(!(i=Gt(t)))return Dt?null:nt}i&&Ot&&Zt(i.firstChild);for(var h=$t(Pt?t:i);a=h.nextNode();)3===a.nodeType&&a===u||te(a)||(a.content instanceof c&&re(a.content),ne(a),u=a);if(u=null,Pt)return t;if(Dt){if(Lt)for(l=at.call(i.ownerDocument);i.firstChild;)l.appendChild(i.firstChild);else l=i;return It&&(l=ct.call(o,l,!0)),l}var f=Tt?i.outerHTML:i.innerHTML;return At&&(f=g(f,lt," "),f=g(f,ht," ")),et&&Mt?et.createHTML(f):f},n.setConfig=function(t){Yt(t),Ft=!0},n.clearConfig=function(){Vt=null,Ft=!1},n.isValidAttribute=function(t,e,n){Vt||Yt({});var r=y(t),i=y(e);return ee(r,i,n)},n.addHook=function(t,e){"function"==typeof e&&(ut[t]=ut[t]||[],p(ut[t],e))},n.removeHook=function(t){ut[t]&&f(ut[t])},n.removeHooks=function(t){ut[t]&&(ut[t]=[])},n.removeAllHooks=function(){ut={}},n}()}()},function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n(141),i=n(196);function o(){var t=document.createElement("div");t.style.padding="10px";var e=document.createElement("div");e.classList.add("input-group");var n=document.createElement("input");n.id="menu_server_input",n.classList.add("form-control"),n.setAttribute("required",""),n.setAttribute("placeholder","Server adress with port"),e.appendChild(n);var o=document.createElement("div");o.classList.add("input-group-append");var s=document.createElement("button");s.id="menu_connect",s.classList.add("btn"),s.classList.add("btn-secondary"),s.onclick=function(){var t=localStorage.getItem("nickname"),e=n.value;console.log(t,e),Object(i.a)(t,e,!0)},s.innerHTML="Join",o.appendChild(s),e.appendChild(o),t.appendChild(e);var a=document.createElement("div");a.style="overflow:auto; max-height: 100vh; height: 400px;";var c=document.createElement("table");c.id="menu_serverlist",c.setAttribute("class","table table-sm");var u=document.createElement("thead");u.style.backgroundColor="#88888844",u.innerHTML='\n\t\t<tr>\n\t\t\t<th scope="col">Address</th>\n\t\t\t<th scope="col">Name</th>\n\t\t\t<th scope="col">Motd</th>\n\t\t\t<th scope="col"></th>\n\t\t</tr>\n\t\t',c.appendChild(u),a.appendChild(c),t.appendChild(a);var l=document.createElement("tbody");l.classList.add("table-hover"),l.style.overflowY="scroll",c.appendChild(l);var h=Object(r.a)("menu_multiplayer","Multiplayer servers",["800px","500px"],t);return setTimeout((function(){fetch("http://pb4.eu:9000").then(t=>t.json()).then((function(t){var e=0;Object.values(t).forEach((function(t){var r=l.insertRow(e);e+=1;var i=r.insertCell(0),o=r.insertCell(1),s=r.insertCell(2),a=r.insertCell(3);i.innerHTML=t.ip,o.innerHTML=t.name,s.innerHTML=t.motd;var c=document.createElement("button");c.innerHTML="Select",c.classList.add("btn"),c.classList.add("btn-outline-secondary"),c.classList.add("btn-sm"),a.appendChild(c),c.onclick=function(){n.value=t.ip}}))}))})),h.main}},function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n(141);function i(t){var e=document.createElement("div");e.style.padding="10px";var n=document.createElement("div");n.classList.add("form-group");var i=document.createElement("label");i.id="menu_nickname_info",i.htmlFor="menu_nickname",i.innerHTML="Username",i.style.marginBottom="5px",n.appendChild(i);var o=document.createElement("input");o.id="menu_nickname",o.classList.add("form-control"),o.classList.add("form-control-sm"),o.classList.add("col-md-6"),o.setAttribute("placeholder",localStorage.getItem("nickname")),o.value=localStorage.getItem("nickname"),n.appendChild(o),e.appendChild(n);var s=document.createElement("div");s.classList.add("form-check");var a=document.createElement("label");a.id="menu_options_singleplayer_info",a.classList.add("form-check-label"),a.htmlFor="menu_options_singleplayer",a.innerHTML="Enable experimental singleplayer mode";var c=document.createElement("input");c.id="menu_options_singleplayer",c.classList.add("form-check-input"),c.checked="true"==localStorage.getItem("singleplayer"),c.type="checkbox",s.appendChild(c),s.appendChild(a),e.appendChild(s);var u=document.createElement("div");u.classList.add("form-check");var l=document.createElement("label");l.id="menu_step_info",l.classList.add("form-check-label"),l.htmlFor="menu_step",l.innerHTML="Autostep";var h=document.createElement("input");h.id="menu_step",h.classList.add("form-check-input"),h.checked="true"==localStorage.getItem("autostep"),h.type="checkbox",u.appendChild(h),u.appendChild(l),e.appendChild(u);var f=document.createElement("div");f.classList.add("form-check");var p=document.createElement("label");p.id="menu_options_gamepad_label",p.classList.add("form-check-label"),p.htmlFor="menu_options_gamepad",p.innerHTML="Enable gamepad support";var d=document.createElement("input");d.id="menu_options_gamepad",d.classList.add("form-check-input"),d.checked="true"==localStorage.getItem("gamepad"),d.type="checkbox",f.appendChild(d),f.appendChild(p),e.appendChild(f);var y=Object(r.a)("menu_settins","Settings",["800px","500px"],e),m=y.main.onclick;return y.main.onclick=function(){m(),localStorage.setItem("nickname",o.value),localStorage.setItem("singleplayer",c.checked),localStorage.setItem("autostep",h.checked),localStorage.setItem("gamepad",d.checked)},y.main}},function(t,e,n){"use strict";n.r(e),function(t){var e=n(81),r=n(267),i=n(270),o=n(271);t.game={name:"VoxelSRV",version:"0.1.8-dev",allowCustom:!0},null==localStorage.getItem("nickname")&&localStorage.setItem("nickname","Player"+Math.round(1e3*Math.random())),null==localStorage.getItem("autostep")&&localStorage.setItem("autostep",e.isMobile),null==localStorage.getItem("gamepad")&&localStorage.setItem("autostep",!1),null==localStorage.getItem("singleplayer")&&localStorage.setItem("singleplayer",!1);var s=document.createElement("div");s.id="menu_screen",s.style["background-image"]="url(./textures/menu.jpg)";var a=document.createElement("div");a.id="menu_container",s.appendChild(a);var c=document.createElement("img");c.id="menu_logo",c.src="./textures/gui/logo.png",a.appendChild(c);var u=Object(i.a)();u.style.display="none",s.appendChild(u);var l=Object(r.a)();l.style.display="none",s.appendChild(l);var h=Object(o.a)();h.style.display="none",s.appendChild(h);var f=document.createElement("ul");f.id="menu_options",f.classList.add("menu_list");var p=document.createElement("li");if(p.innerHTML="Multiplayer",p.onclick=function(){u.style.display="initial"},f.appendChild(p),"true"==localStorage.getItem("singleplayer")){var d=document.createElement("li");d.innerHTML="Singleplayer (Experimental)",d.onclick=function(){l.style.display="initial"},f.appendChild(d)}var y=document.createElement("li");y.innerHTML="Settings",y.onclick=function(){h.style.display="initial"},f.appendChild(y);var m=document.createElement("li");m.innerHTML="Github",m.onclick=function(){window.open("https://github.com/Patbox/voxelsrv","_blank")},f.appendChild(m);var g=document.createElement("li");g.innerHTML="Official discord",g.onclick=function(){window.open("https://discord.com/invite/K9PdsDh","_blank")},f.appendChild(g),a.appendChild(f);var v=document.createElement("div");if(v.id="menu_version",v.innerHTML=game.name+" "+game.version,s.appendChild(v),e.isMobile){var b=document.createElement("link");b.rel="stylesheet",b.href="mobile.css",document.head.appendChild(b),document.documentElement.addEventListener("click",(function(){document.fullscreenElement||document.documentElement.requestFullscreen()}))}window.onload=function(){document.body.appendChild(s)}}.call(this,n(116))},function(t,e,n){var r=n(274),i=n(201),o=n(225),s=n(159)("socket.io-client");t.exports=e=c;var a=e.managers={};function c(t,e){"object"==typeof t&&(e=t,t=void 0),e=e||{};var n,i=r(t),c=i.source,u=i.id,l=i.path,h=a[u]&&l in a[u].nsps;return e.forceNew||e["force new connection"]||!1===e.multiplex||h?(s("ignoring socket cache for %s",c),n=o(c,e)):(a[u]||(s("new io instance for %s",c),a[u]=o(c,e)),n=a[u]),i.query&&!e.query&&(e.query=i.query),n.socket(i.path,e)}e.protocol=i.protocol,e.connect=c,e.Manager=n(225),e.Socket=n(231)},function(t,e,n){var r=n(222),i=n(159)("socket.io-client:url");t.exports=function(t,e){var n=t;e=e||"undefined"!=typeof location&&location,null==t&&(t=e.protocol+"//"+e.host);"string"==typeof t&&("/"===t.charAt(0)&&(t="/"===t.charAt(1)?e.protocol+t:e.host+t),/^(https?|wss?):\/\//.test(t)||(i("protocol-less url %s",t),t=void 0!==e?e.protocol+"//"+t:"https://"+t),i("parse %s",t),n=r(t));n.port||(/^(http|ws)$/.test(n.protocol)?n.port="80":/^(http|ws)s$/.test(n.protocol)&&(n.port="443"));n.path=n.path||"/";var o=-1!==n.host.indexOf(":")?"["+n.host+"]":n.host;return n.id=n.protocol+"://"+o+":"+n.port,n.href=n.protocol+"://"+o+(e&&e.port===n.port?"":":"+n.port),n}},function(t,e,n){t.exports=function(t){function e(t){let e=0;for(let n=0;n<t.length;n++)e=(e<<5)-e+t.charCodeAt(n),e|=0;return r.colors[Math.abs(e)%r.colors.length]}function r(t){let n;function s(...t){if(!s.enabled)return;const e=s,i=Number(new Date),o=i-(n||i);e.diff=o,e.prev=n,e.curr=i,n=i,t[0]=r.coerce(t[0]),"string"!=typeof t[0]&&t.unshift("%O");let a=0;t[0]=t[0].replace(/%([a-zA-Z%])/g,(n,i)=>{if("%%"===n)return n;a++;const o=r.formatters[i];if("function"==typeof o){const r=t[a];n=o.call(e,r),t.splice(a,1),a--}return n}),r.formatArgs.call(e,t),(e.log||r.log).apply(e,t)}return s.namespace=t,s.enabled=r.enabled(t),s.useColors=r.useColors(),s.color=e(t),s.destroy=i,s.extend=o,"function"==typeof r.init&&r.init(s),r.instances.push(s),s}function i(){const t=r.instances.indexOf(this);return-1!==t&&(r.instances.splice(t,1),!0)}function o(t,e){const n=r(this.namespace+(void 0===e?":":e)+t);return n.log=this.log,n}function s(t){return t.toString().substring(2,t.toString().length-2).replace(/\.\*\?$/,"*")}return r.debug=r,r.default=r,r.coerce=function(t){if(t instanceof Error)return t.stack||t.message;return t},r.disable=function(){const t=[...r.names.map(s),...r.skips.map(s).map(t=>"-"+t)].join(",");return r.enable(""),t},r.enable=function(t){let e;r.save(t),r.names=[],r.skips=[];const n=("string"==typeof t?t:"").split(/[\s,]+/),i=n.length;for(e=0;e<i;e++)n[e]&&("-"===(t=n[e].replace(/\*/g,".*?"))[0]?r.skips.push(new RegExp("^"+t.substr(1)+"$")):r.names.push(new RegExp("^"+t+"$")));for(e=0;e<r.instances.length;e++){const t=r.instances[e];t.enabled=r.enabled(t.namespace)}},r.enabled=function(t){if("*"===t[t.length-1])return!0;let e,n;for(e=0,n=r.skips.length;e<n;e++)if(r.skips[e].test(t))return!1;for(e=0,n=r.names.length;e<n;e++)if(r.names[e].test(t))return!0;return!1},r.humanize=n(276),Object.keys(t).forEach(e=>{r[e]=t[e]}),r.instances=[],r.names=[],r.skips=[],r.formatters={},r.selectColor=e,r.enable(r.load()),r}},function(t,e){var n=1e3,r=6e4,i=60*r,o=24*i;function s(t,e,n,r){var i=e>=1.5*n;return Math.round(t/n)+" "+r+(i?"s":"")}t.exports=function(t,e){e=e||{};var a=typeof t;if("string"===a&&t.length>0)return function(t){if((t=String(t)).length>100)return;var e=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(t);if(!e)return;var s=parseFloat(e[1]);switch((e[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*s;case"weeks":case"week":case"w":return 6048e5*s;case"days":case"day":case"d":return s*o;case"hours":case"hour":case"hrs":case"hr":case"h":return s*i;case"minutes":case"minute":case"mins":case"min":case"m":return s*r;case"seconds":case"second":case"secs":case"sec":case"s":return s*n;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return s;default:return}}(t);if("number"===a&&isFinite(t))return e.long?function(t){var e=Math.abs(t);if(e>=o)return s(t,e,o,"day");if(e>=i)return s(t,e,i,"hour");if(e>=r)return s(t,e,r,"minute");if(e>=n)return s(t,e,n,"second");return t+" ms"}(t):function(t){var e=Math.abs(t);if(e>=o)return Math.round(t/o)+"d";if(e>=i)return Math.round(t/i)+"h";if(e>=r)return Math.round(t/r)+"m";if(e>=n)return Math.round(t/n)+"s";return t+"ms"}(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))}},function(t,e,n){(function(r){function i(){var t;try{t=e.storage.debug}catch(t){}return!t&&void 0!==r&&"env"in r&&(t=r.env.DEBUG),t}(e=t.exports=n(278)).log=function(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},e.formatArgs=function(t){var n=this.useColors;if(t[0]=(n?"%c":"")+this.namespace+(n?" %c":" ")+t[0]+(n?"%c ":" ")+"+"+e.humanize(this.diff),!n)return;var r="color: "+this.color;t.splice(1,0,r,"color: inherit");var i=0,o=0;t[0].replace(/%[a-zA-Z%]/g,(function(t){"%%"!==t&&(i++,"%c"===t&&(o=i))})),t.splice(o,0,r)},e.save=function(t){try{null==t?e.storage.removeItem("debug"):e.storage.debug=t}catch(t){}},e.load=i,e.useColors=function(){if("undefined"!=typeof window&&window.process&&"renderer"===window.process.type)return!0;if("undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;return"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},e.storage="undefined"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(t){}}(),e.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],e.formatters.j=function(t){try{return JSON.stringify(t)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}},e.enable(i())}).call(this,n(160))},function(t,e,n){function r(t){var n;function r(){if(r.enabled){var t=r,i=+new Date,o=i-(n||i);t.diff=o,t.prev=n,t.curr=i,n=i;for(var s=new Array(arguments.length),a=0;a<s.length;a++)s[a]=arguments[a];s[0]=e.coerce(s[0]),"string"!=typeof s[0]&&s.unshift("%O");var c=0;s[0]=s[0].replace(/%([a-zA-Z%])/g,(function(n,r){if("%%"===n)return n;c++;var i=e.formatters[r];if("function"==typeof i){var o=s[c];n=i.call(t,o),s.splice(c,1),c--}return n})),e.formatArgs.call(t,s);var u=r.log||e.log||console.log.bind(console);u.apply(t,s)}}return r.namespace=t,r.enabled=e.enabled(t),r.useColors=e.useColors(),r.color=function(t){var n,r=0;for(n in t)r=(r<<5)-r+t.charCodeAt(n),r|=0;return e.colors[Math.abs(r)%e.colors.length]}(t),r.destroy=i,"function"==typeof e.init&&e.init(r),e.instances.push(r),r}function i(){var t=e.instances.indexOf(this);return-1!==t&&(e.instances.splice(t,1),!0)}(e=t.exports=r.debug=r.default=r).coerce=function(t){return t instanceof Error?t.stack||t.message:t},e.disable=function(){e.enable("")},e.enable=function(t){var n;e.save(t),e.names=[],e.skips=[];var r=("string"==typeof t?t:"").split(/[\s,]+/),i=r.length;for(n=0;n<i;n++)r[n]&&("-"===(t=r[n].replace(/\*/g,".*?"))[0]?e.skips.push(new RegExp("^"+t.substr(1)+"$")):e.names.push(new RegExp("^"+t+"$")));for(n=0;n<e.instances.length;n++){var o=e.instances[n];o.enabled=e.enabled(o.namespace)}},e.enabled=function(t){if("*"===t[t.length-1])return!0;var n,r;for(n=0,r=e.skips.length;n<r;n++)if(e.skips[n].test(t))return!1;for(n=0,r=e.names.length;n<r;n++)if(e.names[n].test(t))return!0;return!1},e.humanize=n(279),e.instances=[],e.names=[],e.skips=[],e.formatters={}},function(t,e){var n=1e3,r=6e4,i=60*r,o=24*i;function s(t,e,n){if(!(t<e))return t<1.5*e?Math.floor(t/e)+" "+n:Math.ceil(t/e)+" "+n+"s"}t.exports=function(t,e){e=e||{};var a,c=typeof t;if("string"===c&&t.length>0)return function(t){if((t=String(t)).length>100)return;var e=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(t);if(!e)return;var s=parseFloat(e[1]);switch((e[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*s;case"days":case"day":case"d":return s*o;case"hours":case"hour":case"hrs":case"hr":case"h":return s*i;case"minutes":case"minute":case"mins":case"min":case"m":return s*r;case"seconds":case"second":case"secs":case"sec":case"s":return s*n;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return s;default:return}}(t);if("number"===c&&!1===isNaN(t))return e.long?s(a=t,o,"day")||s(a,i,"hour")||s(a,r,"minute")||s(a,n,"second")||a+" ms":function(t){if(t>=o)return Math.round(t/o)+"d";if(t>=i)return Math.round(t/i)+"h";if(t>=r)return Math.round(t/r)+"m";if(t>=n)return Math.round(t/n)+"s";return t+"ms"}(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))}},function(t,e,n){function r(t){if(t)return function(t){for(var e in r.prototype)t[e]=r.prototype[e];return t}(t)}t.exports=r,r.prototype.on=r.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this},r.prototype.once=function(t,e){function n(){this.off(t,n),e.apply(this,arguments)}return n.fn=e,this.on(t,n),this},r.prototype.off=r.prototype.removeListener=r.prototype.removeAllListeners=r.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n,r=this._callbacks["$"+t];if(!r)return this;if(1==arguments.length)return delete this._callbacks["$"+t],this;for(var i=0;i<r.length;i++)if((n=r[i])===e||n.fn===e){r.splice(i,1);break}return this},r.prototype.emit=function(t){this._callbacks=this._callbacks||{};var e=[].slice.call(arguments,1),n=this._callbacks["$"+t];if(n)for(var r=0,i=(n=n.slice(0)).length;r<i;++r)n[r].apply(this,e);return this},r.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]},r.prototype.hasListeners=function(t){return!!this.listeners(t).length}},function(t,e,n){var r=n(223),i=n(224),o=Object.prototype.toString,s="function"==typeof Blob||"undefined"!=typeof Blob&&"[object BlobConstructor]"===o.call(Blob),a="function"==typeof File||"undefined"!=typeof File&&"[object FileConstructor]"===o.call(File);e.deconstructPacket=function(t){var e=[],n=t.data,o=t;return o.data=function t(e,n){if(!e)return e;if(i(e)){var o={_placeholder:!0,num:n.length};return n.push(e),o}if(r(e)){for(var s=new Array(e.length),a=0;a<e.length;a++)s[a]=t(e[a],n);return s}if("object"==typeof e&&!(e instanceof Date)){s={};for(var c in e)s[c]=t(e[c],n);return s}return e}(n,e),o.attachments=e.length,{packet:o,buffers:e}},e.reconstructPacket=function(t,e){return t.data=function t(e,n){if(!e)return e;if(e&&e._placeholder)return n[e.num];if(r(e))for(var i=0;i<e.length;i++)e[i]=t(e[i],n);else if("object"==typeof e)for(var o in e)e[o]=t(e[o],n);return e}(t.data,e),t.attachments=void 0,t},e.removeBlobs=function(t,e){var n=0,o=t;!function t(c,u,l){if(!c)return c;if(s&&c instanceof Blob||a&&c instanceof File){n++;var h=new FileReader;h.onload=function(){l?l[u]=this.result:o=this.result,--n||e(o)},h.readAsArrayBuffer(c)}else if(r(c))for(var f=0;f<c.length;f++)t(c[f],f,c);else if("object"==typeof c&&!i(c))for(var p in c)t(c[p],p,c)}(o),n||e(o)}},function(t,e,n){t.exports=n(283),t.exports.parser=n(135)},function(t,e,n){var r=n(226),i=n(206),o=n(163)("engine.io-client:socket"),s=n(230),a=n(135),c=n(222),u=n(161);function l(t,e){if(!(this instanceof l))return new l(t,e);e=e||{},t&&"object"==typeof t&&(e=t,t=null),t?(t=c(t),e.hostname=t.host,e.secure="https"===t.protocol||"wss"===t.protocol,e.port=t.port,t.query&&(e.query=t.query)):e.host&&(e.hostname=c(e.host).host),this.secure=null!=e.secure?e.secure:"undefined"!=typeof location&&"https:"===location.protocol,e.hostname&&!e.port&&(e.port=this.secure?"443":"80"),this.agent=e.agent||!1,this.hostname=e.hostname||("undefined"!=typeof location?location.hostname:"localhost"),this.port=e.port||("undefined"!=typeof location&&location.port?location.port:this.secure?443:80),this.query=e.query||{},"string"==typeof this.query&&(this.query=u.decode(this.query)),this.upgrade=!1!==e.upgrade,this.path=(e.path||"/engine.io").replace(/\/$/,"")+"/",this.forceJSONP=!!e.forceJSONP,this.jsonp=!1!==e.jsonp,this.forceBase64=!!e.forceBase64,this.enablesXDR=!!e.enablesXDR,this.withCredentials=!1!==e.withCredentials,this.timestampParam=e.timestampParam||"t",this.timestampRequests=e.timestampRequests,this.transports=e.transports||["polling","websocket"],this.transportOptions=e.transportOptions||{},this.readyState="",this.writeBuffer=[],this.prevBufferLen=0,this.policyPort=e.policyPort||843,this.rememberUpgrade=e.rememberUpgrade||!1,this.binaryType=null,this.onlyBinaryUpgrades=e.onlyBinaryUpgrades,this.perMessageDeflate=!1!==e.perMessageDeflate&&(e.perMessageDeflate||{}),!0===this.perMessageDeflate&&(this.perMessageDeflate={}),this.perMessageDeflate&&null==this.perMessageDeflate.threshold&&(this.perMessageDeflate.threshold=1024),this.pfx=e.pfx||null,this.key=e.key||null,this.passphrase=e.passphrase||null,this.cert=e.cert||null,this.ca=e.ca||null,this.ciphers=e.ciphers||null,this.rejectUnauthorized=void 0===e.rejectUnauthorized||e.rejectUnauthorized,this.forceNode=!!e.forceNode,this.isReactNative="undefined"!=typeof navigator&&"string"==typeof navigator.product&&"reactnative"===navigator.product.toLowerCase(),("undefined"==typeof self||this.isReactNative)&&(e.extraHeaders&&Object.keys(e.extraHeaders).length>0&&(this.extraHeaders=e.extraHeaders),e.localAddress&&(this.localAddress=e.localAddress)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingIntervalTimer=null,this.pingTimeoutTimer=null,this.open()}t.exports=l,l.priorWebsocketSuccess=!1,i(l.prototype),l.protocol=a.protocol,l.Socket=l,l.Transport=n(205),l.transports=n(226),l.parser=n(135),l.prototype.createTransport=function(t){o('creating transport "%s"',t);var e=function(t){var e={};for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}(this.query);e.EIO=a.protocol,e.transport=t;var n=this.transportOptions[t]||{};return this.id&&(e.sid=this.id),new r[t]({query:e,socket:this,agent:n.agent||this.agent,hostname:n.hostname||this.hostname,port:n.port||this.port,secure:n.secure||this.secure,path:n.path||this.path,forceJSONP:n.forceJSONP||this.forceJSONP,jsonp:n.jsonp||this.jsonp,forceBase64:n.forceBase64||this.forceBase64,enablesXDR:n.enablesXDR||this.enablesXDR,withCredentials:n.withCredentials||this.withCredentials,timestampRequests:n.timestampRequests||this.timestampRequests,timestampParam:n.timestampParam||this.timestampParam,policyPort:n.policyPort||this.policyPort,pfx:n.pfx||this.pfx,key:n.key||this.key,passphrase:n.passphrase||this.passphrase,cert:n.cert||this.cert,ca:n.ca||this.ca,ciphers:n.ciphers||this.ciphers,rejectUnauthorized:n.rejectUnauthorized||this.rejectUnauthorized,perMessageDeflate:n.perMessageDeflate||this.perMessageDeflate,extraHeaders:n.extraHeaders||this.extraHeaders,forceNode:n.forceNode||this.forceNode,localAddress:n.localAddress||this.localAddress,requestTimeout:n.requestTimeout||this.requestTimeout,protocols:n.protocols||void 0,isReactNative:this.isReactNative})},l.prototype.open=function(){var t;if(this.rememberUpgrade&&l.priorWebsocketSuccess&&-1!==this.transports.indexOf("websocket"))t="websocket";else{if(0===this.transports.length){var e=this;return void setTimeout((function(){e.emit("error","No transports available")}),0)}t=this.transports[0]}this.readyState="opening";try{t=this.createTransport(t)}catch(t){return this.transports.shift(),void this.open()}t.open(),this.setTransport(t)},l.prototype.setTransport=function(t){o("setting transport %s",t.name);var e=this;this.transport&&(o("clearing existing transport %s",this.transport.name),this.transport.removeAllListeners()),this.transport=t,t.on("drain",(function(){e.onDrain()})).on("packet",(function(t){e.onPacket(t)})).on("error",(function(t){e.onError(t)})).on("close",(function(){e.onClose("transport close")}))},l.prototype.probe=function(t){o('probing transport "%s"',t);var e=this.createTransport(t,{probe:1}),n=!1,r=this;function i(){if(r.onlyBinaryUpgrades){var i=!this.supportsBinary&&r.transport.supportsBinary;n=n||i}n||(o('probe transport "%s" opened',t),e.send([{type:"ping",data:"probe"}]),e.once("packet",(function(i){if(!n)if("pong"===i.type&&"probe"===i.data){if(o('probe transport "%s" pong',t),r.upgrading=!0,r.emit("upgrading",e),!e)return;l.priorWebsocketSuccess="websocket"===e.name,o('pausing current transport "%s"',r.transport.name),r.transport.pause((function(){n||"closed"!==r.readyState&&(o("changing transport and sending upgrade packet"),f(),r.setTransport(e),e.send([{type:"upgrade"}]),r.emit("upgrade",e),e=null,r.upgrading=!1,r.flush())}))}else{o('probe transport "%s" failed',t);var s=new Error("probe error");s.transport=e.name,r.emit("upgradeError",s)}})))}function s(){n||(n=!0,f(),e.close(),e=null)}function a(n){var i=new Error("probe error: "+n);i.transport=e.name,s(),o('probe transport "%s" failed because of error: %s',t,n),r.emit("upgradeError",i)}function c(){a("transport closed")}function u(){a("socket closed")}function h(t){e&&t.name!==e.name&&(o('"%s" works - aborting "%s"',t.name,e.name),s())}function f(){e.removeListener("open",i),e.removeListener("error",a),e.removeListener("close",c),r.removeListener("close",u),r.removeListener("upgrading",h)}l.priorWebsocketSuccess=!1,e.once("open",i),e.once("error",a),e.once("close",c),this.once("close",u),this.once("upgrading",h),e.open()},l.prototype.onOpen=function(){if(o("socket open"),this.readyState="open",l.priorWebsocketSuccess="websocket"===this.transport.name,this.emit("open"),this.flush(),"open"===this.readyState&&this.upgrade&&this.transport.pause){o("starting upgrade probes");for(var t=0,e=this.upgrades.length;t<e;t++)this.probe(this.upgrades[t])}},l.prototype.onPacket=function(t){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)switch(o('socket receive: type "%s", data "%s"',t.type,t.data),this.emit("packet",t),this.emit("heartbeat"),t.type){case"open":this.onHandshake(JSON.parse(t.data));break;case"pong":this.setPing(),this.emit("pong");break;case"error":var e=new Error("server error");e.code=t.data,this.onError(e);break;case"message":this.emit("data",t.data),this.emit("message",t.data)}else o('packet received with socket readyState "%s"',this.readyState)},l.prototype.onHandshake=function(t){this.emit("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this.upgrades=this.filterUpgrades(t.upgrades),this.pingInterval=t.pingInterval,this.pingTimeout=t.pingTimeout,this.onOpen(),"closed"!==this.readyState&&(this.setPing(),this.removeListener("heartbeat",this.onHeartbeat),this.on("heartbeat",this.onHeartbeat))},l.prototype.onHeartbeat=function(t){clearTimeout(this.pingTimeoutTimer);var e=this;e.pingTimeoutTimer=setTimeout((function(){"closed"!==e.readyState&&e.onClose("ping timeout")}),t||e.pingInterval+e.pingTimeout)},l.prototype.setPing=function(){var t=this;clearTimeout(t.pingIntervalTimer),t.pingIntervalTimer=setTimeout((function(){o("writing ping packet - expecting pong within %sms",t.pingTimeout),t.ping(),t.onHeartbeat(t.pingTimeout)}),t.pingInterval)},l.prototype.ping=function(){var t=this;this.sendPacket("ping",(function(){t.emit("ping")}))},l.prototype.onDrain=function(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,0===this.writeBuffer.length?this.emit("drain"):this.flush()},l.prototype.flush=function(){"closed"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length&&(o("flushing %d packets in socket",this.writeBuffer.length),this.transport.send(this.writeBuffer),this.prevBufferLen=this.writeBuffer.length,this.emit("flush"))},l.prototype.write=l.prototype.send=function(t,e,n){return this.sendPacket("message",t,e,n),this},l.prototype.sendPacket=function(t,e,n,r){if("function"==typeof e&&(r=e,e=void 0),"function"==typeof n&&(r=n,n=null),"closing"!==this.readyState&&"closed"!==this.readyState){(n=n||{}).compress=!1!==n.compress;var i={type:t,data:e,options:n};this.emit("packetCreate",i),this.writeBuffer.push(i),r&&this.once("flush",r),this.flush()}},l.prototype.close=function(){if("opening"===this.readyState||"open"===this.readyState){this.readyState="closing";var t=this;this.writeBuffer.length?this.once("drain",(function(){this.upgrading?r():e()})):this.upgrading?r():e()}function e(){t.onClose("forced close"),o("socket closing - telling transport to close"),t.transport.close()}function n(){t.removeListener("upgrade",n),t.removeListener("upgradeError",n),e()}function r(){t.once("upgrade",n),t.once("upgradeError",n)}return this},l.prototype.onError=function(t){o("socket error %j",t),l.priorWebsocketSuccess=!1,this.emit("error",t),this.onClose("transport error",t)},l.prototype.onClose=function(t,e){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState){o('socket close with reason: "%s"',t);clearTimeout(this.pingIntervalTimer),clearTimeout(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),this.readyState="closed",this.id=null,this.emit("close",t,e),this.writeBuffer=[],this.prevBufferLen=0}},l.prototype.filterUpgrades=function(t){for(var e=[],n=0,r=t.length;n<r;n++)~s(this.transports,t[n])&&e.push(t[n]);return e}},function(t,e){try{t.exports="undefined"!=typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch(e){t.exports=!1}},function(t,e,n){var r=n(203),i=n(227),o=n(206),s=n(162),a=n(163)("engine.io-client:polling-xhr"),c=n(204);function u(){}function l(t){if(i.call(this,t),this.requestTimeout=t.requestTimeout,this.extraHeaders=t.extraHeaders,"undefined"!=typeof location){var e="https:"===location.protocol,n=location.port;n||(n=e?443:80),this.xd="undefined"!=typeof location&&t.hostname!==location.hostname||n!==t.port,this.xs=t.secure!==e}}function h(t){this.method=t.method||"GET",this.uri=t.uri,this.xd=!!t.xd,this.xs=!!t.xs,this.async=!1!==t.async,this.data=void 0!==t.data?t.data:null,this.agent=t.agent,this.isBinary=t.isBinary,this.supportsBinary=t.supportsBinary,this.enablesXDR=t.enablesXDR,this.withCredentials=t.withCredentials,this.requestTimeout=t.requestTimeout,this.pfx=t.pfx,this.key=t.key,this.passphrase=t.passphrase,this.cert=t.cert,this.ca=t.ca,this.ciphers=t.ciphers,this.rejectUnauthorized=t.rejectUnauthorized,this.extraHeaders=t.extraHeaders,this.create()}if(t.exports=l,t.exports.Request=h,s(l,i),l.prototype.supportsBinary=!0,l.prototype.request=function(t){return(t=t||{}).uri=this.uri(),t.xd=this.xd,t.xs=this.xs,t.agent=this.agent||!1,t.supportsBinary=this.supportsBinary,t.enablesXDR=this.enablesXDR,t.withCredentials=this.withCredentials,t.pfx=this.pfx,t.key=this.key,t.passphrase=this.passphrase,t.cert=this.cert,t.ca=this.ca,t.ciphers=this.ciphers,t.rejectUnauthorized=this.rejectUnauthorized,t.requestTimeout=this.requestTimeout,t.extraHeaders=this.extraHeaders,new h(t)},l.prototype.doWrite=function(t,e){var n="string"!=typeof t&&void 0!==t,r=this.request({method:"POST",data:t,isBinary:n}),i=this;r.on("success",e),r.on("error",(function(t){i.onError("xhr post error",t)})),this.sendXhr=r},l.prototype.doPoll=function(){a("xhr poll");var t=this.request(),e=this;t.on("data",(function(t){e.onData(t)})),t.on("error",(function(t){e.onError("xhr poll error",t)})),this.pollXhr=t},o(h.prototype),h.prototype.create=function(){var t={agent:this.agent,xdomain:this.xd,xscheme:this.xs,enablesXDR:this.enablesXDR};t.pfx=this.pfx,t.key=this.key,t.passphrase=this.passphrase,t.cert=this.cert,t.ca=this.ca,t.ciphers=this.ciphers,t.rejectUnauthorized=this.rejectUnauthorized;var e=this.xhr=new r(t),n=this;try{a("xhr open %s: %s",this.method,this.uri),e.open(this.method,this.uri,this.async);try{if(this.extraHeaders)for(var i in e.setDisableHeaderCheck&&e.setDisableHeaderCheck(!0),this.extraHeaders)this.extraHeaders.hasOwnProperty(i)&&e.setRequestHeader(i,this.extraHeaders[i])}catch(t){}if("POST"===this.method)try{this.isBinary?e.setRequestHeader("Content-type","application/octet-stream"):e.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(t){}try{e.setRequestHeader("Accept","*/*")}catch(t){}"withCredentials"in e&&(e.withCredentials=this.withCredentials),this.requestTimeout&&(e.timeout=this.requestTimeout),this.hasXDR()?(e.onload=function(){n.onLoad()},e.onerror=function(){n.onError(e.responseText)}):e.onreadystatechange=function(){if(2===e.readyState)try{var t=e.getResponseHeader("Content-Type");(n.supportsBinary&&"application/octet-stream"===t||"application/octet-stream; charset=UTF-8"===t)&&(e.responseType="arraybuffer")}catch(t){}4===e.readyState&&(200===e.status||1223===e.status?n.onLoad():setTimeout((function(){n.onError("number"==typeof e.status?e.status:0)}),0))},a("xhr data %s",this.data),e.send(this.data)}catch(t){return void setTimeout((function(){n.onError(t)}),0)}"undefined"!=typeof document&&(this.index=h.requestsCount++,h.requests[this.index]=this)},h.prototype.onSuccess=function(){this.emit("success"),this.cleanup()},h.prototype.onData=function(t){this.emit("data",t),this.onSuccess()},h.prototype.onError=function(t){this.emit("error",t),this.cleanup(!0)},h.prototype.cleanup=function(t){if(void 0!==this.xhr&&null!==this.xhr){if(this.hasXDR()?this.xhr.onload=this.xhr.onerror=u:this.xhr.onreadystatechange=u,t)try{this.xhr.abort()}catch(t){}"undefined"!=typeof document&&delete h.requests[this.index],this.xhr=null}},h.prototype.onLoad=function(){var t;try{var e;try{e=this.xhr.getResponseHeader("Content-Type")}catch(t){}t=("application/octet-stream"===e||"application/octet-stream; charset=UTF-8"===e)&&this.xhr.response||this.xhr.responseText}catch(t){this.onError(t)}null!=t&&this.onData(t)},h.prototype.hasXDR=function(){return"undefined"!=typeof XDomainRequest&&!this.xs&&this.enablesXDR},h.prototype.abort=function(){this.cleanup()},h.requestsCount=0,h.requests={},"undefined"!=typeof document)if("function"==typeof attachEvent)attachEvent("onunload",f);else if("function"==typeof addEventListener){addEventListener("onpagehide"in c?"pagehide":"unload",f,!1)}function f(){for(var t in h.requests)h.requests.hasOwnProperty(t)&&h.requests[t].abort()}},function(t,e){t.exports=Object.keys||function(t){var e=[],n=Object.prototype.hasOwnProperty;for(var r in t)n.call(t,r)&&e.push(r);return e}},function(t,e){var n={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==n.call(t)}},function(t,e){t.exports=function(t,e,n){var r=t.byteLength;if(e=e||0,n=n||r,t.slice)return t.slice(e,n);if(e<0&&(e+=r),n<0&&(n+=r),n>r&&(n=r),e>=r||e>=n||0===r)return new ArrayBuffer(0);for(var i=new Uint8Array(t),o=new Uint8Array(n-e),s=e,a=0;s<n;s++,a++)o[a]=i[s];return o.buffer}},function(t,e){function n(){}t.exports=function(t,e,r){var i=!1;return r=r||n,o.count=t,0===t?e():o;function o(t,n){if(o.count<=0)throw new Error("after called too many times");--o.count,t?(i=!0,e(t),e=r):0!==o.count||i||e(null,n)}}},function(t,e){
/*! https://mths.be/utf8js v2.1.2 by @mathias */
var n,r,i,o=String.fromCharCode;function s(t){for(var e,n,r=[],i=0,o=t.length;i<o;)(e=t.charCodeAt(i++))>=55296&&e<=56319&&i<o?56320==(64512&(n=t.charCodeAt(i++)))?r.push(((1023&e)<<10)+(1023&n)+65536):(r.push(e),i--):r.push(e);return r}function a(t,e){if(t>=55296&&t<=57343){if(e)throw Error("Lone surrogate U+"+t.toString(16).toUpperCase()+" is not a scalar value");return!1}return!0}function c(t,e){return o(t>>e&63|128)}function u(t,e){if(0==(4294967168&t))return o(t);var n="";return 0==(4294965248&t)?n=o(t>>6&31|192):0==(4294901760&t)?(a(t,e)||(t=65533),n=o(t>>12&15|224),n+=c(t,6)):0==(4292870144&t)&&(n=o(t>>18&7|240),n+=c(t,12),n+=c(t,6)),n+=o(63&t|128)}function l(){if(i>=r)throw Error("Invalid byte index");var t=255&n[i];if(i++,128==(192&t))return 63&t;throw Error("Invalid continuation byte")}function h(t){var e,o;if(i>r)throw Error("Invalid byte index");if(i==r)return!1;if(e=255&n[i],i++,0==(128&e))return e;if(192==(224&e)){if((o=(31&e)<<6|l())>=128)return o;throw Error("Invalid continuation byte")}if(224==(240&e)){if((o=(15&e)<<12|l()<<6|l())>=2048)return a(o,t)?o:65533;throw Error("Invalid continuation byte")}if(240==(248&e)&&(o=(7&e)<<18|l()<<12|l()<<6|l())>=65536&&o<=1114111)return o;throw Error("Invalid UTF-8 detected")}t.exports={version:"2.1.2",encode:function(t,e){for(var n=!1!==(e=e||{}).strict,r=s(t),i=r.length,o=-1,a="";++o<i;)a+=u(r[o],n);return a},decode:function(t,e){var a=!1!==(e=e||{}).strict;n=s(t),r=n.length,i=0;for(var c,u=[];!1!==(c=h(a));)u.push(c);return function(t){for(var e,n=t.length,r=-1,i="";++r<n;)(e=t[r])>65535&&(i+=o((e-=65536)>>>10&1023|55296),e=56320|1023&e),i+=o(e);return i}(u)}}},function(t,e){!function(){"use strict";for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n=new Uint8Array(256),r=0;r<t.length;r++)n[t.charCodeAt(r)]=r;e.encode=function(e){var n,r=new Uint8Array(e),i=r.length,o="";for(n=0;n<i;n+=3)o+=t[r[n]>>2],o+=t[(3&r[n])<<4|r[n+1]>>4],o+=t[(15&r[n+1])<<2|r[n+2]>>6],o+=t[63&r[n+2]];return i%3==2?o=o.substring(0,o.length-1)+"=":i%3==1&&(o=o.substring(0,o.length-2)+"=="),o},e.decode=function(t){var e,r,i,o,s,a=.75*t.length,c=t.length,u=0;"="===t[t.length-1]&&(a--,"="===t[t.length-2]&&a--);var l=new ArrayBuffer(a),h=new Uint8Array(l);for(e=0;e<c;e+=4)r=n[t.charCodeAt(e)],i=n[t.charCodeAt(e+1)],o=n[t.charCodeAt(e+2)],s=n[t.charCodeAt(e+3)],h[u++]=r<<2|i>>4,h[u++]=(15&i)<<4|o>>2,h[u++]=(3&o)<<6|63&s;return l}}()},function(t,e){var n=void 0!==n?n:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:"undefined"!=typeof MSBlobBuilder?MSBlobBuilder:"undefined"!=typeof MozBlobBuilder&&MozBlobBuilder,r=function(){try{return 2===new Blob(["hi"]).size}catch(t){return!1}}(),i=r&&function(){try{return 2===new Blob([new Uint8Array([1,2])]).size}catch(t){return!1}}(),o=n&&n.prototype.append&&n.prototype.getBlob;function s(t){return t.map((function(t){if(t.buffer instanceof ArrayBuffer){var e=t.buffer;if(t.byteLength!==e.byteLength){var n=new Uint8Array(t.byteLength);n.set(new Uint8Array(e,t.byteOffset,t.byteLength)),e=n.buffer}return e}return t}))}function a(t,e){e=e||{};var r=new n;return s(t).forEach((function(t){r.append(t)})),e.type?r.getBlob(e.type):r.getBlob()}function c(t,e){return new Blob(s(t),e||{})}"undefined"!=typeof Blob&&(a.prototype=Blob.prototype,c.prototype=Blob.prototype),t.exports=r?i?Blob:c:o?a:void 0},function(t,e,n){t.exports=function(t){function e(t){let e=0;for(let n=0;n<t.length;n++)e=(e<<5)-e+t.charCodeAt(n),e|=0;return r.colors[Math.abs(e)%r.colors.length]}function r(t){let n;function s(...t){if(!s.enabled)return;const e=s,i=Number(new Date),o=i-(n||i);e.diff=o,e.prev=n,e.curr=i,n=i,t[0]=r.coerce(t[0]),"string"!=typeof t[0]&&t.unshift("%O");let a=0;t[0]=t[0].replace(/%([a-zA-Z%])/g,(n,i)=>{if("%%"===n)return n;a++;const o=r.formatters[i];if("function"==typeof o){const r=t[a];n=o.call(e,r),t.splice(a,1),a--}return n}),r.formatArgs.call(e,t),(e.log||r.log).apply(e,t)}return s.namespace=t,s.enabled=r.enabled(t),s.useColors=r.useColors(),s.color=e(t),s.destroy=i,s.extend=o,"function"==typeof r.init&&r.init(s),r.instances.push(s),s}function i(){const t=r.instances.indexOf(this);return-1!==t&&(r.instances.splice(t,1),!0)}function o(t,e){const n=r(this.namespace+(void 0===e?":":e)+t);return n.log=this.log,n}function s(t){return t.toString().substring(2,t.toString().length-2).replace(/\.\*\?$/,"*")}return r.debug=r,r.default=r,r.coerce=function(t){if(t instanceof Error)return t.stack||t.message;return t},r.disable=function(){const t=[...r.names.map(s),...r.skips.map(s).map(t=>"-"+t)].join(",");return r.enable(""),t},r.enable=function(t){let e;r.save(t),r.names=[],r.skips=[];const n=("string"==typeof t?t:"").split(/[\s,]+/),i=n.length;for(e=0;e<i;e++)n[e]&&("-"===(t=n[e].replace(/\*/g,".*?"))[0]?r.skips.push(new RegExp("^"+t.substr(1)+"$")):r.names.push(new RegExp("^"+t+"$")));for(e=0;e<r.instances.length;e++){const t=r.instances[e];t.enabled=r.enabled(t.namespace)}},r.enabled=function(t){if("*"===t[t.length-1])return!0;let e,n;for(e=0,n=r.skips.length;e<n;e++)if(r.skips[e].test(t))return!1;for(e=0,n=r.names.length;e<n;e++)if(r.names[e].test(t))return!0;return!1},r.humanize=n(294),Object.keys(t).forEach(e=>{r[e]=t[e]}),r.instances=[],r.names=[],r.skips=[],r.formatters={},r.selectColor=e,r.enable(r.load()),r}},function(t,e){var n=1e3,r=6e4,i=60*r,o=24*i;function s(t,e,n,r){var i=e>=1.5*n;return Math.round(t/n)+" "+r+(i?"s":"")}t.exports=function(t,e){e=e||{};var a=typeof t;if("string"===a&&t.length>0)return function(t){if((t=String(t)).length>100)return;var e=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(t);if(!e)return;var s=parseFloat(e[1]);switch((e[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*s;case"weeks":case"week":case"w":return 6048e5*s;case"days":case"day":case"d":return s*o;case"hours":case"hour":case"hrs":case"hr":case"h":return s*i;case"minutes":case"minute":case"mins":case"min":case"m":return s*r;case"seconds":case"second":case"secs":case"sec":case"s":return s*n;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return s;default:return}}(t);if("number"===a&&isFinite(t))return e.long?function(t){var e=Math.abs(t);if(e>=o)return s(t,e,o,"day");if(e>=i)return s(t,e,i,"hour");if(e>=r)return s(t,e,r,"minute");if(e>=n)return s(t,e,n,"second");return t+" ms"}(t):function(t){var e=Math.abs(t);if(e>=o)return Math.round(t/o)+"d";if(e>=i)return Math.round(t/i)+"h";if(e>=r)return Math.round(t/r)+"m";if(e>=n)return Math.round(t/n)+"s";return t+"ms"}(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))}},function(t,e,n){var r=n(227),i=n(162),o=n(204);t.exports=l;var s,a=/\n/g,c=/\\n/g;function u(){}function l(t){r.call(this,t),this.query=this.query||{},s||(s=o.___eio=o.___eio||[]),this.index=s.length;var e=this;s.push((function(t){e.onData(t)})),this.query.j=this.index,"function"==typeof addEventListener&&addEventListener("beforeunload",(function(){e.script&&(e.script.onerror=u)}),!1)}i(l,r),l.prototype.supportsBinary=!1,l.prototype.doClose=function(){this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),this.form&&(this.form.parentNode.removeChild(this.form),this.form=null,this.iframe=null),r.prototype.doClose.call(this)},l.prototype.doPoll=function(){var t=this,e=document.createElement("script");this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),e.async=!0,e.src=this.uri(),e.onerror=function(e){t.onError("jsonp poll error",e)};var n=document.getElementsByTagName("script")[0];n?n.parentNode.insertBefore(e,n):(document.head||document.body).appendChild(e),this.script=e,"undefined"!=typeof navigator&&/gecko/i.test(navigator.userAgent)&&setTimeout((function(){var t=document.createElement("iframe");document.body.appendChild(t),document.body.removeChild(t)}),100)},l.prototype.doWrite=function(t,e){var n=this;if(!this.form){var r,i=document.createElement("form"),o=document.createElement("textarea"),s=this.iframeId="eio_iframe_"+this.index;i.className="socketio",i.style.position="absolute",i.style.top="-1000px",i.style.left="-1000px",i.target=s,i.method="POST",i.setAttribute("accept-charset","utf-8"),o.name="d",i.appendChild(o),document.body.appendChild(i),this.form=i,this.area=o}function u(){l(),e()}function l(){if(n.iframe)try{n.form.removeChild(n.iframe)}catch(t){n.onError("jsonp polling iframe removal error",t)}try{var t='<iframe src="javascript:0" name="'+n.iframeId+'">';r=document.createElement(t)}catch(t){(r=document.createElement("iframe")).name=n.iframeId,r.src="javascript:0"}r.id=n.iframeId,n.form.appendChild(r),n.iframe=r}this.form.action=this.uri(),l(),t=t.replace(c,"\\\n"),this.area.value=t.replace(a,"\\n");try{this.form.submit()}catch(t){}this.iframe.attachEvent?this.iframe.onreadystatechange=function(){"complete"===n.iframe.readyState&&u()}:this.iframe.onload=u}},function(t,e,n){(function(e){var r,i,o=n(205),s=n(135),a=n(161),c=n(162),u=n(229),l=n(163)("engine.io-client:websocket");if("undefined"!=typeof WebSocket?r=WebSocket:"undefined"!=typeof self&&(r=self.WebSocket||self.MozWebSocket),"undefined"==typeof window)try{i=n(297)}catch(t){}var h=r||i;function f(t){t&&t.forceBase64&&(this.supportsBinary=!1),this.perMessageDeflate=t.perMessageDeflate,this.usingBrowserWebSocket=r&&!t.forceNode,this.protocols=t.protocols,this.usingBrowserWebSocket||(h=i),o.call(this,t)}t.exports=f,c(f,o),f.prototype.name="websocket",f.prototype.supportsBinary=!0,f.prototype.doOpen=function(){if(this.check()){var t=this.uri(),e=this.protocols,n={agent:this.agent,perMessageDeflate:this.perMessageDeflate};n.pfx=this.pfx,n.key=this.key,n.passphrase=this.passphrase,n.cert=this.cert,n.ca=this.ca,n.ciphers=this.ciphers,n.rejectUnauthorized=this.rejectUnauthorized,this.extraHeaders&&(n.headers=this.extraHeaders),this.localAddress&&(n.localAddress=this.localAddress);try{this.ws=this.usingBrowserWebSocket&&!this.isReactNative?e?new h(t,e):new h(t):new h(t,e,n)}catch(t){return this.emit("error",t)}void 0===this.ws.binaryType&&(this.supportsBinary=!1),this.ws.supports&&this.ws.supports.binary?(this.supportsBinary=!0,this.ws.binaryType="nodebuffer"):this.ws.binaryType="arraybuffer",this.addEventListeners()}},f.prototype.addEventListeners=function(){var t=this;this.ws.onopen=function(){t.onOpen()},this.ws.onclose=function(){t.onClose()},this.ws.onmessage=function(e){t.onData(e.data)},this.ws.onerror=function(e){t.onError("websocket error",e)}},f.prototype.write=function(t){var n=this;this.writable=!1;for(var r=t.length,i=0,o=r;i<o;i++)!function(t){s.encodePacket(t,n.supportsBinary,(function(i){if(!n.usingBrowserWebSocket){var o={};if(t.options&&(o.compress=t.options.compress),n.perMessageDeflate)("string"==typeof i?e.byteLength(i):i.length)<n.perMessageDeflate.threshold&&(o.compress=!1)}try{n.usingBrowserWebSocket?n.ws.send(i):n.ws.send(i,o)}catch(t){l("websocket closed before onclose event")}--r||a()}))}(t[i]);function a(){n.emit("flush"),setTimeout((function(){n.writable=!0,n.emit("drain")}),0)}},f.prototype.onClose=function(){o.prototype.onClose.call(this)},f.prototype.doClose=function(){void 0!==this.ws&&this.ws.close()},f.prototype.uri=function(){var t=this.query||{},e=this.secure?"wss":"ws",n="";return this.port&&("wss"===e&&443!==Number(this.port)||"ws"===e&&80!==Number(this.port))&&(n=":"+this.port),this.timestampRequests&&(t[this.timestampParam]=u()),this.supportsBinary||(t.b64=1),(t=a.encode(t)).length&&(t="?"+t),e+"://"+(-1!==this.hostname.indexOf(":")?"["+this.hostname+"]":this.hostname)+n+this.path+t},f.prototype.check=function(){return!(!h||"__initialize"in h&&this.name===f.prototype.name)}}).call(this,n(202))},function(t,e){},function(t,e){t.exports=function(t,e){for(var n=[],r=(e=e||0)||0;r<t.length;r++)n[r-e]=t[r];return n}},function(t,e){function n(t){t=t||{},this.ms=t.min||100,this.max=t.max||1e4,this.factor=t.factor||2,this.jitter=t.jitter>0&&t.jitter<=1?t.jitter:0,this.attempts=0}t.exports=n,n.prototype.duration=function(){var t=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),n=Math.floor(e*this.jitter*t);t=0==(1&Math.floor(10*e))?t-n:t+n}return 0|Math.min(t,this.max)},n.prototype.reset=function(){this.attempts=0},n.prototype.setMin=function(t){this.ms=t},n.prototype.setMax=function(t){this.max=t},n.prototype.setJitter=function(t){this.jitter=t}},function(t,e,n){var r=n(301);function i(t){for(var e,n,i=0,o=t.length,s=0;s<t.length;){for(e=t[s],n=0;s<o&&t[s]===e;)++s,++n;i+=r.log2(n)/7|0,i+=r.log2(e>>>0)/7|0,i+=2}return i}e.size=i,e.encode=function(t,e){e||(e=new Uint8Array(i(t)));for(var n,r,o=0,s=e.length,a=0;a<t.length;){for(n=t[a],r=0;a<t.length&&t[a]===n;)++a,++r;for(;o<s&&r>=128;)e[o++]=128+(127&r),r>>>=7;if(o>=s)throw new Error("RLE buffer overflow");for(e[o++]=r,n>>>=0;o<s&&n>=128;)e[o++]=128+(127&n),n>>>=7;if(o>=s)throw new Error("RLE buffer overflow");e[o++]=n}return e},e.decode=function(t,e){for(var n,r,i,o,s=e.length,a=t.length,c=0,u=0;u<a;){for(n=0,r=0;u<a&&t[u]>=128;)n+=(127&t[u++])<<r,r+=7;if(n+=t[u++]<<r,u>=a)throw new Error("RLE buffer underrun");if(c+n>s)throw new Error("Chunk buffer overflow");for(i=0,r=0;u<a&&t[u]>=128;)i+=(127&t[u++])<<r,r+=7;if(u>=a)throw new Error("RLE buffer underrun");for(i+=t[u++]<<r,o=0;o<n;++o)e[c++]=i}return e}},function(t,e,n){"use strict";function r(t){var e=32;return(t&=-t)&&e--,65535&t&&(e-=16),16711935&t&&(e-=8),252645135&t&&(e-=4),858993459&t&&(e-=2),1431655765&t&&(e-=1),e}e.INT_BITS=32,e.INT_MAX=2147483647,e.INT_MIN=-1<<31,e.sign=function(t){return(t>0)-(t<0)},e.abs=function(t){var e=t>>31;return(t^e)-e},e.min=function(t,e){return e^(t^e)&-(t<e)},e.max=function(t,e){return t^(t^e)&-(t<e)},e.isPow2=function(t){return!(t&t-1||!t)},e.log2=function(t){var e,n;return e=(t>65535)<<4,e|=n=((t>>>=e)>255)<<3,e|=n=((t>>>=n)>15)<<2,(e|=n=((t>>>=n)>3)<<1)|(t>>>=n)>>1},e.log10=function(t){return t>=1e9?9:t>=1e8?8:t>=1e7?7:t>=1e6?6:t>=1e5?5:t>=1e4?4:t>=1e3?3:t>=100?2:t>=10?1:0},e.popCount=function(t){return 16843009*((t=(858993459&(t-=t>>>1&1431655765))+(t>>>2&858993459))+(t>>>4)&252645135)>>>24},e.countTrailingZeros=r,e.nextPow2=function(t){return t+=0===t,--t,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,(t|=t>>>16)+1},e.prevPow2=function(t){return t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,(t|=t>>>16)-(t>>>1)},e.parity=function(t){return t^=t>>>16,t^=t>>>8,t^=t>>>4,27030>>>(t&=15)&1};var i=new Array(256);!function(t){for(var e=0;e<256;++e){var n=e,r=e,i=7;for(n>>>=1;n;n>>>=1)r<<=1,r|=1&n,--i;t[e]=r<<i&255}}(i),e.reverse=function(t){return i[255&t]<<24|i[t>>>8&255]<<16|i[t>>>16&255]<<8|i[t>>>24&255]},e.interleave2=function(t,e){return(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t&=65535)|t<<8))|t<<4))|t<<2))|t<<1))|(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e&=65535)|e<<8))|e<<4))|e<<2))|e<<1))<<1},e.deinterleave2=function(t,e){return(t=65535&((t=16711935&((t=252645135&((t=858993459&((t=t>>>e&1431655765)|t>>>1))|t>>>2))|t>>>4))|t>>>16))<<16>>16},e.interleave3=function(t,e,n){return t=1227133513&((t=3272356035&((t=251719695&((t=4278190335&((t&=1023)|t<<16))|t<<8))|t<<4))|t<<2),(t|=(e=1227133513&((e=3272356035&((e=251719695&((e=4278190335&((e&=1023)|e<<16))|e<<8))|e<<4))|e<<2))<<1)|(n=1227133513&((n=3272356035&((n=251719695&((n=4278190335&((n&=1023)|n<<16))|n<<8))|n<<4))|n<<2))<<2},e.deinterleave3=function(t,e){return(t=1023&((t=4278190335&((t=251719695&((t=3272356035&((t=t>>>e&1227133513)|t>>>2))|t>>>4))|t>>>8))|t>>>16))<<22>>22},e.nextCombination=function(t){var e=t|t-1;return e+1|(~e&-~e)-1>>>r(t)+1}},function(t,e){function n(t){return!!t.constructor&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)}
/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */
t.exports=function(t){return null!=t&&(n(t)||function(t){return"function"==typeof t.readFloatLE&&"function"==typeof t.slice&&n(t.slice(0,0))}(t)||!!t._isBuffer)}},function(t,e){t.exports=function(t){var e=new Float32Array(3);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e}},function(t,e,n){t.exports=function(t,e){var n=r(t[0],t[1],t[2]),s=r(e[0],e[1],e[2]);i(n,n),i(s,s);var a=o(n,s);return a>1?0:Math.acos(a)};var r=n(238),i=n(239),o=n(240)},function(t,e){t.exports=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t}},function(t,e){t.exports=function(t,e,n,r){return t[0]=e,t[1]=n,t[2]=r,t}},function(t,e,n){t.exports=function(t,e){var n=t[0],i=t[1],o=t[2],s=e[0],a=e[1],c=e[2];return Math.abs(n-s)<=r*Math.max(1,Math.abs(n),Math.abs(s))&&Math.abs(i-a)<=r*Math.max(1,Math.abs(i),Math.abs(a))&&Math.abs(o-c)<=r*Math.max(1,Math.abs(o),Math.abs(c))};var r=n(236)},function(t,e){t.exports=function(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]}},function(t,e){t.exports=function(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t}},function(t,e,n){t.exports=n(241)},function(t,e,n){t.exports=n(242)},function(t,e,n){t.exports=n(243)},function(t,e){t.exports=function(t,e,n){return t[0]=Math.min(e[0],n[0]),t[1]=Math.min(e[1],n[1]),t[2]=Math.min(e[2],n[2]),t}},function(t,e){t.exports=function(t,e,n){return t[0]=Math.max(e[0],n[0]),t[1]=Math.max(e[1],n[1]),t[2]=Math.max(e[2],n[2]),t}},function(t,e){t.exports=function(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t[2]=Math.floor(e[2]),t}},function(t,e){t.exports=function(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t[2]=Math.ceil(e[2]),t}},function(t,e){t.exports=function(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t[2]=Math.round(e[2]),t}},function(t,e){t.exports=function(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t}},function(t,e){t.exports=function(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t}},function(t,e,n){t.exports=n(244)},function(t,e,n){t.exports=n(245)},function(t,e,n){t.exports=n(246)},function(t,e,n){t.exports=n(247)},function(t,e){t.exports=function(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t}},function(t,e){t.exports=function(t,e){return t[0]=1/e[0],t[1]=1/e[1],t[2]=1/e[2],t}},function(t,e){t.exports=function(t,e,n){var r=e[0],i=e[1],o=e[2],s=n[0],a=n[1],c=n[2];return t[0]=i*c-o*a,t[1]=o*s-r*c,t[2]=r*a-i*s,t}},function(t,e){t.exports=function(t,e,n,r){var i=e[0],o=e[1],s=e[2];return t[0]=i+r*(n[0]-i),t[1]=o+r*(n[1]-o),t[2]=s+r*(n[2]-s),t}},function(t,e){t.exports=function(t,e){e=e||1;var n=2*Math.random()*Math.PI,r=2*Math.random()-1,i=Math.sqrt(1-r*r)*e;return t[0]=Math.cos(n)*i,t[1]=Math.sin(n)*i,t[2]=r*e,t}},function(t,e){t.exports=function(t,e,n){var r=e[0],i=e[1],o=e[2],s=n[3]*r+n[7]*i+n[11]*o+n[15];return s=s||1,t[0]=(n[0]*r+n[4]*i+n[8]*o+n[12])/s,t[1]=(n[1]*r+n[5]*i+n[9]*o+n[13])/s,t[2]=(n[2]*r+n[6]*i+n[10]*o+n[14])/s,t}},function(t,e){t.exports=function(t,e,n){var r=e[0],i=e[1],o=e[2];return t[0]=r*n[0]+i*n[3]+o*n[6],t[1]=r*n[1]+i*n[4]+o*n[7],t[2]=r*n[2]+i*n[5]+o*n[8],t}},function(t,e){t.exports=function(t,e,n){var r=e[0],i=e[1],o=e[2],s=n[0],a=n[1],c=n[2],u=n[3],l=u*r+a*o-c*i,h=u*i+c*r-s*o,f=u*o+s*i-a*r,p=-s*r-a*i-c*o;return t[0]=l*u+p*-s+h*-c-f*-a,t[1]=h*u+p*-a+f*-s-l*-c,t[2]=f*u+p*-c+l*-a-h*-s,t}},function(t,e){t.exports=function(t,e,n,r){var i=n[1],o=n[2],s=e[1]-i,a=e[2]-o,c=Math.sin(r),u=Math.cos(r);return t[0]=e[0],t[1]=i+s*u-a*c,t[2]=o+s*c+a*u,t}},function(t,e){t.exports=function(t,e,n,r){var i=n[0],o=n[2],s=e[0]-i,a=e[2]-o,c=Math.sin(r),u=Math.cos(r);return t[0]=i+a*c+s*u,t[1]=e[1],t[2]=o+a*u-s*c,t}},function(t,e){t.exports=function(t,e,n,r){var i=n[0],o=n[1],s=e[0]-i,a=e[1]-o,c=Math.sin(r),u=Math.cos(r);return t[0]=i+s*u-a*c,t[1]=o+s*c+a*u,t[2]=e[2],t}},function(t,e,n){t.exports=function(t,e,n,i,o,s){var a,c;e||(e=3);n||(n=0);c=i?Math.min(i*e+n,t.length):t.length;for(a=n;a<c;a+=e)r[0]=t[a],r[1]=t[a+1],r[2]=t[a+2],o(r,r,s),t[a]=r[0],t[a+1]=r[1],t[a+2]=r[2];return t};var r=n(237)()},function(t,e,n){"use strict";t.exports=function(t,e,n,r,i,o){var s=+e[0],a=+e[1],c=+e[2],u=+n[0],l=+n[1],h=+n[2],f=Math.sqrt(u*u+l*l+h*h);if(0===f)throw new Error("Can't raycast along a zero vector");return function(t,e,n,r,i,o,s,a,c,u){for(var l=0,h=Math.floor,f=0|h(e),p=0|h(n),d=0|h(r),y=i>0?1:-1,m=o>0?1:-1,g=s>0?1:-1,v=Math.abs(1/i),b=Math.abs(1/o),_=Math.abs(1/s),w=v<1/0?v*(y>0?f+1-e:e-f):1/0,k=b<1/0?b*(m>0?p+1-n:n-p):1/0,E=_<1/0?_*(g>0?d+1-r:r-d):1/0,S=-1;l<=a;){var C=t(f,p,d);if(C)return c&&(c[0]=e+l*i,c[1]=n+l*o,c[2]=r+l*s),u&&(u[0]=u[1]=u[2]=0,0===S&&(u[0]=-y),1===S&&(u[1]=-m),2===S&&(u[2]=-g)),C;w<k?w<E?(f+=y,l=w,w+=v,S=0):(d+=g,l=E,E+=_,S=2):k<E?(p+=m,l=k,k+=b,S=1):(d+=g,l=E,E+=_,S=2)}return c&&(c[0]=e+l*i,c[1]=n+l*o,c[2]=r+l*s),u&&(u[0]=u[1]=u[2]=0),0}(t,s,a,c,u/=f,l/=f,h/=f,r=void 0===r?64:+r,i,o)}},function(t,e,n){"use strict";var r=n(136).EventEmitter,i=n(338),o=n(341),s=n(342),a=n(343),c=n(344),u=n(345),l=n(235),h=Math.min;n(346);var f=n(347),p=n(348),d=function(){var t,e,n=new Array(256);for(t=0;t<256;++t)n[t]="UNK";for(t in s)"<"===(e=s[t]).charAt(0)&&">"===e.charAt(e.length-1)&&(e=e.substring(1,e.length-1)),e=e.replace(/\s/g,"-"),n[parseInt(t)]=e;return n}(),y=c(Object.keys(a(d)));function m(t){return u.eq(y,t)}function g(t){return m(d[t])}function v(){r.call(this),this._curKeyState=new Array(y.length),this._pressCount=new Array(y.length),this._releaseCount=new Array(y.length),this._tickInterval=null,this._rafHandle=null,this._tickRate=0,this._lastTick=p(),this._frameTime=0,this._paused=!0,this._width=0,this._height=0,this._wantFullscreen=!1,this._wantPointerLock=!1,this._fullscreenActive=!1,this._pointerLockActive=!1,this._rafFunction=A.bind(void 0,this,!0),this.preventDefaults=!0,this.stopPropagation=!1;for(var t=0;t<y.length;++t)this._curKeyState[t]=!1,this._pressCount[t]=this._releaseCount[t]=0;this.element=null,this.bindings={},this.frameSkip=100,this.tickCount=0,this.frameCount=0,this.startTime=p(),this.tickTime=this._tickRate,this.frameTime=10,this.stickyFullscreen=!1,this.stickyPointerLock=!1,this.scroll=[0,0,0],this.mouseX=0,this.mouseY=0,this.prevMouseX=0,this.prevMouseY=0}i.inherits(v,r);var b=v.prototype;function _(t,e,n){if(n in e){for(var r=e[n],i=0,o=0,s=r.length;o<s;++o)i+=t[m(r[o])];return i}var a=m(n);return a>=0?t[a]:0}function w(t){var e=t.element;t._wantFullscreen&&!t._fullscreenActive&&(e.requestFullscreen||e.requestFullScreen||e.webkitRequestFullscreen||e.webkitRequestFullScreen||e.mozRequestFullscreen||e.mozRequestFullScreen||function(){}).call(e);t._wantPointerLock&&!t._pointerLockActive&&(e.requestPointerLock||e.webkitRequestPointerLock||e.mozRequestPointerLock||e.msRequestPointerLock||e.oRequestPointerLock||function(){}).call(e)}b.keyNames=y,b.bind=function(t){var e,n;e=t in this.bindings?this.bindings[t]:[];for(var r=1,i=arguments.length;r<i;++r)if(m(n=arguments[r])>=0)e.push(n);else if(n in this.bindings)for(var o=this.bindings[n],s=0;s<o.length;++s)e.push(o[s]);(e=c(e)).length>0&&(this.bindings[t]=e),this.emit("bind",t,e)},b.unbind=function(t){t in this.bindings&&delete this.bindings[t],this.emit("unbind",t)},b.down=function(t){return function(t,e,n){if(n in e){for(var r=e[n],i=0,o=r.length;i<o;++i)if(t[m(r[i])])return!0;return!1}var s=m(n);return s>=0&&t[s]}(this._curKeyState,this.bindings,t)},b.wasDown=function(t){return this.down(t)||!!this.press(t)},b.up=function(t){return!this.down(t)},b.wasUp=function(t){return this.up(t)||!!this.release(t)},b.press=function(t){return _(this._pressCount,this.bindings,t)},b.release=function(t){return _(this._releaseCount,this.bindings,t)},Object.defineProperty(b,"paused",{get:function(){return this._paused},set:function(t){!!t!==this._paused&&(this._paused?(this._paused=!1,this._lastTick=p()-Math.floor(this._frameTime*this._tickRate),this._tickInterval=setInterval(A,this._tickRate,this,!1),this._rafHandle=requestAnimationFrame(this._rafFunction)):(this._paused=!0,this._frameTime=h(1,(p()-this._lastTick)/this._tickRate),clearInterval(this._tickInterval)))}});var k=document.exitFullscreen||document.cancelFullscreen||document.cancelFullScreen||document.webkitCancelFullscreen||document.webkitCancelFullScreen||document.mozCancelFullscreen||document.mozCancelFullScreen||function(){};function E(t){t._fullscreenActive=document.fullscreen||document.mozFullScreen||document.webkitIsFullScreen||!1,!t.stickyFullscreen&&t._fullscreenActive&&(t._wantFullscreen=!1)}Object.defineProperty(b,"fullscreen",{get:function(){return this._fullscreenActive},set:function(t){!t?(this._wantFullscreen=!1,(document.fullscreen||document.mozFullScreen||document.webkitIsFullScreen||!1)&&k.call(document)):(this._wantFullscreen=!0,w(this));return this._fullscreenActive}});var S=document.exitPointerLock||document.webkitExitPointerLock||document.mozExitPointerLock||function(){};function C(t,e){t._pointerLockActive=t.element===(document.pointerLockElement||document.mozPointerLockElement||document.webkitPointerLockElement||null),!t.stickyPointerLock&&t._pointerLockActive&&(t._wantPointerLock=!1)}function x(t,e,n){t._curKeyState[e]!==n&&(n?t._pressCount[e]++:t._releaseCount[e]++,t._curKeyState[e]=n)}function A(t,e){!function(t){var e,n,r,i=p()+t.frameSkip,o=t._pressCount,s=t._releaseCount,a=t._tickRate,c=y.length;for(;!t._paused&&p()>=t._lastTick+a;){if(p()>i)return void(t._lastTick=p()+a);for(n=p(),t.emit("tick"),r=p(),t.tickTime=r-n,++t.tickCount,t._lastTick+=a,e=0;e<c;++e)o[e]=s[e]=0;t._pointerLockActive?(t.prevMouseX=t.mouseX=t.width>>1,t.prevMouseY=t.mouseY=t.height>>1):(t.prevMouseX=t.mouseX,t.prevMouseY=t.mouseY),t.scroll[0]=t.scroll[1]=t.scroll[2]=0}}(t),e&&function(t){var e;t._rafHandle=requestAnimationFrame(t._rafFunction),e=t._paused?t._frameTime:h(1,(p()-t._lastTick)/t._tickRate);++t.frameCount;var n=p();t.emit("render",e);var r=p();t.frameTime=r-n}(t)}function T(t,e){t.preventDefaults&&e.preventDefault(),t.stopPropagation&&e.stopPropagation()}function F(t,e){T(t,e);var n=g(e.keyCode||e.char||e.which||e.charCode);n>=0&&x(t,n,!1)}function O(t,e){if(function(t){return document.activeElement===document.body||document.activeElement===t.element}(t))if(T(t,e),e.metaKey)j(t,e);else{var n=g(e.keyCode||e.char||e.which||e.charCode);n>=0&&x(t,n,!0)}}Object.defineProperty(b,"pointerLock",{get:function(){return this._pointerLockActive},set:function(t){return!!t?(this._wantPointerLock=!0,w(this)):(this._wantPointerLock=!1,S.call(document)),this._pointerLockActive}}),Object.defineProperty(b,"width",{get:function(){return this.element.clientWidth}}),Object.defineProperty(b,"height",{get:function(){return this.element.clientHeight}});var D=l(32).map((function(t){return m("mouse-"+(t+1))}));function L(t,e){if(T(t,e),t._pointerLockActive){var n=e.movementX||e.mozMovementX||e.webkitMovementX||0,r=e.movementY||e.mozMovementY||e.webkitMovementY||0;t.mouseX+=n,t.mouseY+=r}else t.mouseX=e.clientX-t.element.offsetLeft,t.mouseY=e.clientY-t.element.offsetTop;return!1}function I(t,e){return T(t,e),x(t,D[e.button],!0),!1}function M(t,e){return T(t,e),x(t,D[e.button],!1),!1}function N(t,e){return T(t,e),t._pointerLockActive?(t.prevMouseX=t.mouseX=t.width>>1,t.prevMouseY=t.mouseY=t.height>>1):(t.prevMouseX=t.mouseX=e.clientX-t.element.offsetLeft,t.prevMouseY=t.mouseY=e.clientY-t.element.offsetTop),!1}function R(t,e){return T(t,e),function(t,e){for(var n=0;n<32;++n)x(t,D[n],!!(e&1<<n))}(t,0),!1}function P(t,e){T(t,e);var n=1;switch(e.deltaMode){case 0:n=1;break;case 1:n=12;break;case 2:n=t.height}return t.scroll[0]+=e.deltaX*n,t.scroll[1]+=e.deltaY*n,t.scroll[2]+=e.deltaZ*n||0,!1}function B(t,e){return T(t,e),!1}function j(t,e){var n,r=y.length,i=t._curKeyState,o=t._releaseCount;for(n=0;n<r;++n)i[n]&&++o[n],i[n]=!1;return!1}function z(t,e){var n=0|t.element.clientWidth,r=0|t.element.clientHeight;n===t._width&&r===t._height||(t._width=n,t._height=r,t.emit("resize",n,r))}function U(){var t=document.createElement("div");return t.tabindex=1,t.style.position="absolute",t.style.left="0px",t.style.right="0px",t.style.top="0px",t.style.bottom="0px",t.style.height="100%",t.style.overflow="hidden",document.body.appendChild(t),document.body.style.overflow="hidden",document.body.style.height="100%",t}t.exports=function(t){var e=!!(t=t||{}).fullscreen,n=e;void 0!==typeof t.pointerLock&&(n=!!t.pointerLock);var r=new v;return r._tickRate=t.tickRate||30,r.frameSkip=t.frameSkip||5*(r._tickRate+5),r.stickyFullscreen=!!t.stickyFullscreen||!!t.sticky,r.stickyPointerLock=!!t.stickyPointerLock||!!t.sticky,t.bindings&&(r.bindings=t.bindings),setTimeout((function(){o((function(){var i=t.element;if("string"==typeof i){var o=document.querySelector(i);o||(o=document.getElementById(i)),o||(o=document.getElementByClass(i)[0]),o||(o=U()),r.element=o}else r.element="object"==typeof i&&i?i:"function"==typeof i?i():U();r.element.style&&(r.element.style["-webkit-touch-callout"]="none",r.element.style["-webkit-user-select"]="none",r.element.style["-khtml-user-select"]="none",r.element.style["-moz-user-select"]="none",r.element.style["-ms-user-select"]="none",r.element.style["user-select"]="none"),r._width=r.element.clientWidth,r._height=r.element.clientHeight;var s=z.bind(void 0,r);"undefined"!=typeof MutationObserver?new MutationObserver(s).observe(r.element,{attributes:!0,subtree:!0}):r.element.addEventListener("DOMSubtreeModified",s,!1);window.addEventListener("resize",s,!1),window.addEventListener("keydown",O.bind(void 0,r),!1),window.addEventListener("keyup",F.bind(void 0,r),!1),r.element.oncontextmenu=B.bind(void 0,r),r.element.addEventListener("mousedown",I.bind(void 0,r),!1),r.element.addEventListener("mouseup",M.bind(void 0,r),!1),r.element.addEventListener("mousemove",L.bind(void 0,r),!1),r.element.addEventListener("mouseenter",N.bind(void 0,r),!1);var a=R.bind(void 0,r);r.element.addEventListener("mouseleave",a,!1),r.element.addEventListener("mouseout",a,!1),window.addEventListener("mouseleave",a,!1),window.addEventListener("mouseout",a,!1);var c=j.bind(void 0,r);r.element.addEventListener("blur",c,!1),r.element.addEventListener("focusout",c,!1),r.element.addEventListener("focus",c,!1),window.addEventListener("blur",c,!1),window.addEventListener("focusout",c,!1),window.addEventListener("focus",c,!1),f(r.element,P.bind(void 0,r),!1);var u=E.bind(void 0,r);document.addEventListener("fullscreenchange",u,!1),document.addEventListener("mozfullscreenchange",u,!1),document.addEventListener("webkitfullscreenchange",u,!1),r.element.addEventListener("click",w.bind(void 0,r),!1);var l=C.bind(void 0,r);document.addEventListener("pointerlockchange",l,!1),document.addEventListener("mozpointerlockchange",l,!1),document.addEventListener("webkitpointerlockchange",l,!1),document.addEventListener("pointerlocklost",l,!1),document.addEventListener("webkitpointerlocklost",l,!1),document.addEventListener("mozpointerlocklost",l,!1),r.fullscreen=e,r.pointerLock=n,r.bind("mouse-left","mouse-1"),r.bind("mouse-right","mouse-3"),r.bind("mouse-middle","mouse-2"),r._lastTick=p(),r.startTime=p(),r.paused=!1,r.emit("init")}))}),0),r}},function(t,e,n){(function(t){var r=Object.getOwnPropertyDescriptors||function(t){for(var e=Object.keys(t),n={},r=0;r<e.length;r++)n[e[r]]=Object.getOwnPropertyDescriptor(t,e[r]);return n},i=/%[sdj%]/g;e.format=function(t){if(!g(t)){for(var e=[],n=0;n<arguments.length;n++)e.push(a(arguments[n]));return e.join(" ")}n=1;for(var r=arguments,o=r.length,s=String(t).replace(i,(function(t){if("%%"===t)return"%";if(n>=o)return t;switch(t){case"%s":return String(r[n++]);case"%d":return Number(r[n++]);case"%j":try{return JSON.stringify(r[n++])}catch(t){return"[Circular]"}default:return t}})),c=r[n];n<o;c=r[++n])y(c)||!_(c)?s+=" "+c:s+=" "+a(c);return s},e.deprecate=function(n,r){if(void 0!==t&&!0===t.noDeprecation)return n;if(void 0===t)return function(){return e.deprecate(n,r).apply(this,arguments)};var i=!1;return function(){if(!i){if(t.throwDeprecation)throw new Error(r);t.traceDeprecation?console.trace(r):console.error(r),i=!0}return n.apply(this,arguments)}};var o,s={};function a(t,n){var r={seen:[],stylize:u};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),d(n)?r.showHidden=n:n&&e._extend(r,n),v(r.showHidden)&&(r.showHidden=!1),v(r.depth)&&(r.depth=2),v(r.colors)&&(r.colors=!1),v(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=c),l(r,t,r.depth)}function c(t,e){var n=a.styles[e];return n?"["+a.colors[n][0]+"m"+t+"["+a.colors[n][1]+"m":t}function u(t,e){return t}function l(t,n,r){if(t.customInspect&&n&&E(n.inspect)&&n.inspect!==e.inspect&&(!n.constructor||n.constructor.prototype!==n)){var i=n.inspect(r,t);return g(i)||(i=l(t,i,r)),i}var o=function(t,e){if(v(e))return t.stylize("undefined","undefined");if(g(e)){var n="'"+JSON.stringify(e).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return t.stylize(n,"string")}if(m(e))return t.stylize(""+e,"number");if(d(e))return t.stylize(""+e,"boolean");if(y(e))return t.stylize("null","null")}(t,n);if(o)return o;var s=Object.keys(n),a=function(t){var e={};return t.forEach((function(t,n){e[t]=!0})),e}(s);if(t.showHidden&&(s=Object.getOwnPropertyNames(n)),k(n)&&(s.indexOf("message")>=0||s.indexOf("description")>=0))return h(n);if(0===s.length){if(E(n)){var c=n.name?": "+n.name:"";return t.stylize("[Function"+c+"]","special")}if(b(n))return t.stylize(RegExp.prototype.toString.call(n),"regexp");if(w(n))return t.stylize(Date.prototype.toString.call(n),"date");if(k(n))return h(n)}var u,_="",S=!1,C=["{","}"];(p(n)&&(S=!0,C=["[","]"]),E(n))&&(_=" [Function"+(n.name?": "+n.name:"")+"]");return b(n)&&(_=" "+RegExp.prototype.toString.call(n)),w(n)&&(_=" "+Date.prototype.toUTCString.call(n)),k(n)&&(_=" "+h(n)),0!==s.length||S&&0!=n.length?r<0?b(n)?t.stylize(RegExp.prototype.toString.call(n),"regexp"):t.stylize("[Object]","special"):(t.seen.push(n),u=S?function(t,e,n,r,i){for(var o=[],s=0,a=e.length;s<a;++s)T(e,String(s))?o.push(f(t,e,n,r,String(s),!0)):o.push("");return i.forEach((function(i){i.match(/^\d+$/)||o.push(f(t,e,n,r,i,!0))})),o}(t,n,r,a,s):s.map((function(e){return f(t,n,r,a,e,S)})),t.seen.pop(),function(t,e,n){if(t.reduce((function(t,e){return e.indexOf("\n")>=0&&0,t+e.replace(/\u001b\[\d\d?m/g,"").length+1}),0)>60)return n[0]+(""===e?"":e+"\n ")+" "+t.join(",\n  ")+" "+n[1];return n[0]+e+" "+t.join(", ")+" "+n[1]}(u,_,C)):C[0]+_+C[1]}function h(t){return"["+Error.prototype.toString.call(t)+"]"}function f(t,e,n,r,i,o){var s,a,c;if((c=Object.getOwnPropertyDescriptor(e,i)||{value:e[i]}).get?a=c.set?t.stylize("[Getter/Setter]","special"):t.stylize("[Getter]","special"):c.set&&(a=t.stylize("[Setter]","special")),T(r,i)||(s="["+i+"]"),a||(t.seen.indexOf(c.value)<0?(a=y(n)?l(t,c.value,null):l(t,c.value,n-1)).indexOf("\n")>-1&&(a=o?a.split("\n").map((function(t){return"  "+t})).join("\n").substr(2):"\n"+a.split("\n").map((function(t){return"   "+t})).join("\n")):a=t.stylize("[Circular]","special")),v(s)){if(o&&i.match(/^\d+$/))return a;(s=JSON.stringify(""+i)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(s=s.substr(1,s.length-2),s=t.stylize(s,"name")):(s=s.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),s=t.stylize(s,"string"))}return s+": "+a}function p(t){return Array.isArray(t)}function d(t){return"boolean"==typeof t}function y(t){return null===t}function m(t){return"number"==typeof t}function g(t){return"string"==typeof t}function v(t){return void 0===t}function b(t){return _(t)&&"[object RegExp]"===S(t)}function _(t){return"object"==typeof t&&null!==t}function w(t){return _(t)&&"[object Date]"===S(t)}function k(t){return _(t)&&("[object Error]"===S(t)||t instanceof Error)}function E(t){return"function"==typeof t}function S(t){return Object.prototype.toString.call(t)}function C(t){return t<10?"0"+t.toString(10):t.toString(10)}e.debuglog=function(n){if(v(o)&&(o=t.env.NODE_DEBUG||""),n=n.toUpperCase(),!s[n])if(new RegExp("\\b"+n+"\\b","i").test(o)){var r=t.pid;s[n]=function(){var t=e.format.apply(e,arguments);console.error("%s %d: %s",n,r,t)}}else s[n]=function(){};return s[n]},e.inspect=a,a.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},a.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},e.isArray=p,e.isBoolean=d,e.isNull=y,e.isNullOrUndefined=function(t){return null==t},e.isNumber=m,e.isString=g,e.isSymbol=function(t){return"symbol"==typeof t},e.isUndefined=v,e.isRegExp=b,e.isObject=_,e.isDate=w,e.isError=k,e.isFunction=E,e.isPrimitive=function(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"==typeof t||void 0===t},e.isBuffer=n(339);var x=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function A(){var t=new Date,e=[C(t.getHours()),C(t.getMinutes()),C(t.getSeconds())].join(":");return[t.getDate(),x[t.getMonth()],e].join(" ")}function T(t,e){return Object.prototype.hasOwnProperty.call(t,e)}e.log=function(){console.log("%s - %s",A(),e.format.apply(e,arguments))},e.inherits=n(340),e._extend=function(t,e){if(!e||!_(e))return t;for(var n=Object.keys(e),r=n.length;r--;)t[n[r]]=e[n[r]];return t};var F="undefined"!=typeof Symbol?Symbol("util.promisify.custom"):void 0;function O(t,e){if(!t){var n=new Error("Promise was rejected with a falsy value");n.reason=t,t=n}return e(t)}e.promisify=function(t){if("function"!=typeof t)throw new TypeError('The "original" argument must be of type Function');if(F&&t[F]){var e;if("function"!=typeof(e=t[F]))throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(e,F,{value:e,enumerable:!1,writable:!1,configurable:!0}),e}function e(){for(var e,n,r=new Promise((function(t,r){e=t,n=r})),i=[],o=0;o<arguments.length;o++)i.push(arguments[o]);i.push((function(t,r){t?n(t):e(r)}));try{t.apply(this,i)}catch(t){n(t)}return r}return Object.setPrototypeOf(e,Object.getPrototypeOf(t)),F&&Object.defineProperty(e,F,{value:e,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(e,r(t))},e.promisify.custom=F,e.callbackify=function(e){if("function"!=typeof e)throw new TypeError('The "original" argument must be of type Function');function n(){for(var n=[],r=0;r<arguments.length;r++)n.push(arguments[r]);var i=n.pop();if("function"!=typeof i)throw new TypeError("The last argument must be of type Function");var o=this,s=function(){return i.apply(o,arguments)};e.apply(this,n).then((function(e){t.nextTick(s,null,e)}),(function(e){t.nextTick(O,e,s)}))}return Object.setPrototypeOf(n,Object.getPrototypeOf(e)),Object.defineProperties(n,r(e)),n}}).call(this,n(160))},function(t,e){t.exports=function(t){return t&&"object"==typeof t&&"function"==typeof t.copy&&"function"==typeof t.fill&&"function"==typeof t.readUInt8}},function(t,e){"function"==typeof Object.create?t.exports=function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(t,e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}},function(t,e,n){var r,i,o,s,a;t.exports=(i=[],o=document,s=o.documentElement.doScroll,(a=(s?/^loaded|^c/:/^loaded|^i|^c/).test(o.readyState))||o.addEventListener("DOMContentLoaded",r=function(){for(o.removeEventListener("DOMContentLoaded",r),a=1;r=i.shift();)r()}),function(t){a?setTimeout(t,0):i.push(t)})},function(t,e){var n,r="undefined"!=typeof window?window.navigator.userAgent:"",i=/OS X/.test(r),o=/Opera/.test(r),s=!/like Gecko/.test(r)&&!o,a=t.exports={0:i?"<menu>":"<UNK>",1:"<mouse 1>",2:"<mouse 2>",3:"<break>",4:"<mouse 3>",5:"<mouse 4>",6:"<mouse 5>",8:"<backspace>",9:"<tab>",12:"<clear>",13:"<enter>",16:"<shift>",17:"<control>",18:"<alt>",19:"<pause>",20:"<caps-lock>",21:"<ime-hangul>",23:"<ime-junja>",24:"<ime-final>",25:"<ime-kanji>",27:"<escape>",28:"<ime-convert>",29:"<ime-nonconvert>",30:"<ime-accept>",31:"<ime-mode-change>",27:"<escape>",32:"<space>",33:"<page-up>",34:"<page-down>",35:"<end>",36:"<home>",37:"<left>",38:"<up>",39:"<right>",40:"<down>",41:"<select>",42:"<print>",43:"<execute>",44:"<snapshot>",45:"<insert>",46:"<delete>",47:"<help>",91:"<meta>",92:"<meta>",93:i?"<meta>":"<menu>",95:"<sleep>",106:"<num-*>",107:"<num-+>",108:"<num-enter>",109:"<num--\x3e",110:"<num-.>",111:"<num-/>",144:"<num-lock>",145:"<scroll-lock>",160:"<shift-left>",161:"<shift-right>",162:"<control-left>",163:"<control-right>",164:"<alt-left>",165:"<alt-right>",166:"<browser-back>",167:"<browser-forward>",168:"<browser-refresh>",169:"<browser-stop>",170:"<browser-search>",171:"<browser-favorites>",172:"<browser-home>",173:i&&s?"-":"<volume-mute>",174:"<volume-down>",175:"<volume-up>",176:"<next-track>",177:"<prev-track>",178:"<stop>",179:"<play-pause>",180:"<launch-mail>",181:"<launch-media-select>",182:"<launch-app 1>",183:"<launch-app 2>",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",223:"<meta>",224:"<meta>",226:"<alt-gr>",229:"<ime-process>",231:o?"`":"<unicode>",246:"<attention>",247:"<crsel>",248:"<exsel>",249:"<erase-eof>",250:"<play>",251:"<zoom>",252:"<no-name>",253:"<pa-1>",254:"<clear>"};for(n=58;n<65;++n)a[n]=String.fromCharCode(n);for(n=48;n<58;++n)a[n]=n-48+"";for(n=65;n<91;++n)a[n]=String.fromCharCode(n);for(n=96;n<106;++n)a[n]="<num-"+(n-96)+">";for(n=112;n<136;++n)a[n]="F"+(n-111)},function(t,e,n){"use strict";t.exports=function(t){var e={};for(var n in t)t.hasOwnProperty(n)&&(e[t[n]]=n);return e}},function(t,e,n){"use strict";t.exports=function(t,e,n){return 0===t.length?t:e?(n||t.sort(e),function(t,e){for(var n=1,r=t.length,i=t[0],o=t[0],s=1;s<r;++s)if(o=i,e(i=t[s],o)){if(s===n){n++;continue}t[n++]=i}return t.length=n,t}(t,e)):(n||t.sort(),function(t){for(var e=1,n=t.length,r=t[0],i=t[0],o=1;o<n;++o,i=r)if(i=r,(r=t[o])!==i){if(o===e){e++;continue}t[e++]=r}return t.length=e,t}(t))}},function(t,e,n){"use strict";function r(t,e,n,r,i,o){var s=["function ",t,"(a,l,h,",r.join(","),"){",o?"":"var i=",n?"l-1":"h+1",";while(l<=h){var m=(l+h)>>>1,x=a",i?".get(m)":"[m]"];return o?e.indexOf("c")<0?s.push(";if(x===y){return m}else if(x<=y){"):s.push(";var p=c(x,y);if(p===0){return m}else if(p<=0){"):s.push(";if(",e,"){i=m;"),n?s.push("l=m+1}else{h=m-1}"):s.push("h=m-1}else{l=m+1}"),s.push("}"),o?s.push("return -1};"):s.push("return i};"),s.join("")}function i(t,e,n,i){return new Function([r("A","x"+t+"y",e,["y"],!1,i),r("B","x"+t+"y",e,["y"],!0,i),r("P","c(x,y)"+t+"0",e,["y","c"],!1,i),r("Q","c(x,y)"+t+"0",e,["y","c"],!0,i),"function dispatchBsearch",n,"(a,y,c,l,h){if(a.shape){if(typeof(c)==='function'){return Q(a,(l===undefined)?0:l|0,(h===undefined)?a.shape[0]-1:h|0,y,c)}else{return B(a,(c===undefined)?0:c|0,(l===undefined)?a.shape[0]-1:l|0,y)}}else{if(typeof(c)==='function'){return P(a,(l===undefined)?0:l|0,(h===undefined)?a.length-1:h|0,y,c)}else{return A(a,(c===undefined)?0:c|0,(l===undefined)?a.length-1:l|0,y)}}}return dispatchBsearch",n].join(""))()}t.exports={ge:i(">=",!1,"GE"),gt:i(">",!1,"GT"),lt:i("<",!0,"LT"),le:i("<=",!0,"LE"),eq:i("-",!0,"EQ",!0)}},function(t,e){for(var n=0,r=["ms","moz","webkit","o"],i=0;i<r.length&&!window.requestAnimationFrame;++i)window.requestAnimationFrame=window[r[i]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[r[i]+"CancelAnimationFrame"]||window[r[i]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(t,e){var r=(new Date).getTime(),i=Math.max(0,16-(r-n)),o=window.setTimeout((function(){t(r+i)}),i);return n=r+i,o}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(t){clearTimeout(t)})},function(t,e){var n,r,i="";function o(t,e,o,s){t[n](i+e,"wheel"==r?o:function(t){!t&&(t=window.event);var e={originalEvent:t,target:t.target||t.srcElement,type:"wheel",deltaMode:"MozMousePixelScroll"==t.type?0:1,deltaX:0,delatZ:0,preventDefault:function(){t.preventDefault?t.preventDefault():t.returnValue=!1}};return"mousewheel"==r?(e.deltaY=-1/40*t.wheelDelta,t.wheelDeltaX&&(e.deltaX=-1/40*t.wheelDeltaX)):e.deltaY=t.detail,o(e)},s||!1)}window.addEventListener?n="addEventListener":(n="attachEvent",i="on"),r="onwheel"in document.createElement("div")?"wheel":void 0!==document.onmousewheel?"mousewheel":"DOMMouseScroll",t.exports=function(t,e,n){o(t,r,e,n),"DOMMouseScroll"==r&&o(t,"MozMousePixelScroll",e,n)}},function(t,e){"object"==typeof window.performance?window.performance.now?t.exports=function(){return window.performance.now()}:window.performance.webkitNow&&(t.exports=function(){return window.performance.webkitNow()}):Date.now?t.exports=Date.now:t.exports=function(){return(new Date).getTime()}},function(t,e,n){var r=n(350),i=n(136).EventEmitter,o=n(351);function s(t,e){this.element=t||document,e=e||{},this.preventDefaults=!!e.preventDefaults,this.stopPropagation=!!e.stopPropagation,this.allowContextMenu=!!e.allowContextMenu,this.disabled=!!e.disabled,this.down=new i,this.up=new i,this.state={dx:0,dy:0,scrollx:0,scrolly:0,scrollz:0},this._keybindmap={},this._keyStates={},this._bindPressCounts={},this._ignoreMousemoveOnce=!1,this.initEvents()}function a(t,e,n){g(n.keyCode,r[n.keyCode],e,t,n)}function c(t,e,n){return g(-1-n.button,"<mouse "+(n.button+1)+">",e,t,n),!1}function u(t){if(!t.allowContextMenu)return!1}function l(t,e){if(t._ignoreMousemoveOnce)t._ignoreMousemoveOnce=!1;else{var n=e.movementX||e.mozMovementX||0,r=e.movementY||e.mozMovementY||0;if(e.touches&&0==(n|r)){var i=function(t){for(var e,n=t.changedTouches,r=0;r<n.length;++r)n[r].identifier==p&&(e=n[r]);if(!e)return[0,0];var i=[e.clientX-h,e.clientY-f];return h=e.clientX,f=e.clientY,i}(e);n=i[0],r=i[1]}t.state.dx+=n,t.state.dy+=r}}t.exports=function(t,e){return new s(t,e)},s.prototype.initEvents=function(){window.addEventListener("keydown",a.bind(void 0,this,!0),!1),window.addEventListener("keyup",a.bind(void 0,this,!1),!1),this.element.addEventListener("mousedown",c.bind(void 0,this,!0),!1),this.element.addEventListener("mouseup",c.bind(void 0,this,!1),!1),this.element.oncontextmenu=u.bind(void 0,this),this.element.addEventListener("dragstart",c.bind(void 0,this,!1),!1),this.element.addEventListener("mousemove",l.bind(void 0,this),!1),this.element.addEventListener("touchmove",l.bind(void 0,this),!1),this.element.addEventListener("touchstart",d.bind(void 0,this),!1),o(this.element,y.bind(void 0,this),!1),document.addEventListener("pointerlockchange",m.bind(void 0,this),!1),document.addEventListener("mozpointerlockchange",m.bind(void 0,this),!1)},s.prototype.bind=function(t){for(var e=1;e<arguments.length;++e){var n=arguments[e],r=this._keybindmap[n]||[];-1==r.indexOf(t)&&r.push(t),this._keybindmap[n]=r}this.state[t]=!!this.state[t]},s.prototype.unbind=function(t){for(var e in this._keybindmap){var n=this._keybindmap[e],r=n.indexOf(t);r>-1&&n.splice(r,1)}},s.prototype.tick=function(){this.state.dx=this.state.dy=0,this.state.scrollx=this.state.scrolly=this.state.scrollz=0},s.prototype.getBoundKeys=function(){var t=[];for(var e in this._keybindmap)t.push(e);return t};var h=0,f=0,p=null;function d(t,e){var n=e.changedTouches[0];h=n.clientX,f=n.clientY,p=n.identifier}function y(t,e){var n=1;switch(e.deltaMode){case 0:n=1;break;case 1:n=12;break;case 2:n=t.element.clientHeight||window.innerHeight}return t.state.scrollx+=e.deltaX*n,t.state.scrolly+=e.deltaY*n,t.state.scrollz+=e.deltaZ*n||0,!1}function m(t,e){(document.pointerLockElement||document.mozPointerLockElement||null)&&(t._ignoreMousemoveOnce=!0)}function g(t,e,n,r,i){var o=r._keybindmap[e];if(o){if(r.preventDefaults&&i.preventDefault(),r.stopPropagation&&i.stopPropagation(),b(r._keyStates[t],n))for(var s=0;s<o.length;++s)v(o[s],n,r,i);r._keyStates[t]=n}}function v(t,e,n,r){var i=n._bindPressCounts[t]||0;if((i+=e?1:-1)<0&&(i=0),n._bindPressCounts[t]=i,b(n.state[t],i)){var o=e?n.down:n.up;n.disabled||o.emit(t,r)}n.state[t]=!!i}function b(t,e){return t?!e:e}},function(t,e,n){"use strict";var r,i="undefined"!=typeof window?window.navigator.userAgent:"",o=/OS X/.test(i),s=/Opera/.test(i),a=!/like Gecko/.test(i)&&!s,c=t.exports={0:o?"<menu>":"<UNK>",1:"<mouse 1>",2:"<mouse 2>",3:"<break>",4:"<mouse 3>",5:"<mouse 4>",6:"<mouse 5>",8:"<backspace>",9:"<tab>",12:"<clear>",13:"<enter>",16:"<shift>",17:"<control>",18:"<alt>",19:"<pause>",20:"<caps-lock>",21:"<ime-hangul>",23:"<ime-junja>",24:"<ime-final>",25:"<ime-kanji>",27:"<escape>",28:"<ime-convert>",29:"<ime-nonconvert>",30:"<ime-accept>",31:"<ime-mode-change>",32:"<space>",33:"<page-up>",34:"<page-down>",35:"<end>",36:"<home>",37:"<left>",38:"<up>",39:"<right>",40:"<down>",41:"<select>",42:"<print>",43:"<execute>",44:"<snapshot>",45:"<insert>",46:"<delete>",47:"<help>",91:"<meta>",92:"<meta>",93:o?"<meta>":"<menu>",95:"<sleep>",106:"<num-*>",107:"<num-+>",108:"<num-enter>",109:"<num--\x3e",110:"<num-.>",111:"<num-/>",144:"<num-lock>",145:"<scroll-lock>",160:"<shift-left>",161:"<shift-right>",162:"<control-left>",163:"<control-right>",164:"<alt-left>",165:"<alt-right>",166:"<browser-back>",167:"<browser-forward>",168:"<browser-refresh>",169:"<browser-stop>",170:"<browser-search>",171:"<browser-favorites>",172:"<browser-home>",173:o&&a?"-":"<volume-mute>",174:"<volume-down>",175:"<volume-up>",176:"<next-track>",177:"<prev-track>",178:"<stop>",179:"<play-pause>",180:"<launch-mail>",181:"<launch-media-select>",182:"<launch-app 1>",183:"<launch-app 2>",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",223:"<meta>",224:"<meta>",226:"<alt-gr>",229:"<ime-process>",231:s?"`":"<unicode>",246:"<attention>",247:"<crsel>",248:"<exsel>",249:"<erase-eof>",250:"<play>",251:"<zoom>",252:"<no-name>",253:"<pa-1>",254:"<clear>"};for(r=58;r<65;++r)c[r]=String.fromCharCode(r);for(r=48;r<58;++r)c[r]=r-48+"";for(r=65;r<91;++r)c[r]=String.fromCharCode(r);for(r=96;r<106;++r)c[r]="<num-"+(r-96)+">";for(r=112;r<136;++r)c[r]="F"+(r-111)},function(t,e){var n,r,i="";function o(t,e,o,s){t[n](i+e,"wheel"==r?o:function(t){!t&&(t=window.event);var e={originalEvent:t,target:t.target||t.srcElement,type:"wheel",deltaMode:"MozMousePixelScroll"==t.type?0:1,deltaX:0,delatZ:0,preventDefault:function(){t.preventDefault?t.preventDefault():t.returnValue=!1}};return"mousewheel"==r?(e.deltaY=-1/40*t.wheelDelta,t.wheelDeltaX&&(e.deltaX=-1/40*t.wheelDeltaX)):e.deltaY=t.detail,o(e)},s||!1)}window.addEventListener?n="addEventListener":(n="attachEvent",i="on"),r="onwheel"in document.createElement("div")?"wheel":void 0!==document.onmousewheel?"mousewheel":"DOMMouseScroll",t.exports=function(t,e,n){o(t,r,e,n),"DOMMouseScroll"==r&&o(t,"MozMousePixelScroll",e,n)}},function(t,e,n){"use strict";var r=n(208),i=n(79),o=n(252),s=n(353);t.exports=function(t,e,n){return new c(t,e,n)};var a={gravity:[0,-10,0],minBounceImpulse:.5,airDrag:.1,fluidDrag:.4,fluidDensity:2};function c(t,e,n){t=Object.assign({},a,t),this.gravity=t.gravity,this.airDrag=t.airDrag,this.fluidDensity=t.fluidDensity,this.fluidDrag=t.fluidDrag,this.minBounceImpulse=t.minBounceImpulse,this.bodies=[],this.testSolid=e,this.testFluid=n}c.prototype.addBody=function(t,e,n,i,o,a){t=t||new r([0,0,0],[1,1,1]),void 0===e&&(e=1),void 0===n&&(n=1),void 0===i&&(i=0),void 0===o&&(o=1);var c=new s(t,e,n,i,o,a);return this.bodies.push(c),c},c.prototype.removeBody=function(t){var e=this.bodies.indexOf(t);e<0||(this.bodies.splice(e,1),t.aabb=t.onCollide=null)};var u=i.create(),l=i.create(),h=i.create(),f=i.create(),p=i.create();c.prototype.tick=function(t){t/=1e3;var e=S(0,i.squaredLength(this.gravity));this.bodies.forEach(n=>function(t,e,n,r){if(i.copy(p,e.resting),e.mass<=0)return i.set(e.velocity,0,0,0),i.set(e._forces,0,0,0),void i.set(e._impulses,0,0,0);var s=r||0===e.gravityMultiplier;if(function(t,e,n,r){if(e._sleepFrameCount>0)return!1;if(r)return!0;var s=!1,a=.5*n*n*e.gravityMultiplier;return i.scale(E,t.gravity,a),o(t.testSolid,e.aabb,E,(function(){return s=!0,!0}),!0),s}(t,e,n,s))return;e._sleepFrameCount--,function(t,e){var n=e.aabb,r=Math.floor(n.base[0]),o=Math.floor(n.base[2]),s=Math.floor(n.base[1]),a=Math.floor(n.max[1]);if(!t.testFluid(r,s,o))return e.inFluid=!1,void(e.ratioInFluid=0);var c=1,u=s+1;for(;u<=a&&t.testFluid(r,u,o);)c++,u++;var l=(s+c-n.base[1])/n.vec[1];l>1&&(l=1);var h=n.vec[0]*n.vec[1]*n.vec[2]*l,f=d;i.scale(f,t.gravity,-t.fluidDensity*h),e.applyForce(f),e.inFluid=!0,e.ratioInFluid=l}(t,e),x(e._forces),x(e._impulses),x(e.velocity),x(e.resting),i.scale(u,e._forces,1/e.mass),i.scaleAndAdd(u,u,t.gravity,e.gravityMultiplier),i.scale(l,e._impulses,1/e.mass),i.scaleAndAdd(l,l,u,n),i.add(e.velocity,e.velocity,l),e.friction&&(y(0,e,l),y(1,e,l),y(2,e,l));var a=e.airDrag>=0?e.airDrag:t.airDrag;e.inFluid&&(a=e.fluidDrag>=0?e.fluidDrag:t.fluidDrag,a*=1-(1-e.ratioInFluid)**2);var c=Math.max(1-a*n/e.mass,0);i.scale(e.velocity,e.velocity,c),i.scale(h,e.velocity,n),i.set(e._forces,0,0,0),i.set(e._impulses,0,0,0),e.autoStep&&C(v,e.aabb);g(t,e.aabb,h,e.resting),e.autoStep&&function(t,e,n,r){if(e.resting[1]>=0&&!e.inFluid)return;var s=0!==e.resting[0],a=0!==e.resting[2];if(!s&&!a)return;var c=Math.abs(r[0]/r[2]);if(!s&&c>4)return;if(!a&&c<1/4)return;i.add(_,n.base,r);var u=t.testSolid;o(u,n,r,(function(t,e,n,r){if(1!==e)return!0;r[e]=0}));var l=e.aabb.base[1],h=Math.floor(l+1.001)-l;i.set(w,0,h,0);var f=!1;if(o(u,n,w,(function(t,e,n,r){return f=!0,!0})),f)return;if(i.subtract(k,_,n.base),k[1]=0,g(t,n,k,b),s&&!S(n.base[0],_[0]))return;if(a&&!S(n.base[2],_[2]))return;C(e.aabb,n),e.resting[0]=b[0],e.resting[2]=b[2],e.onStep&&e.onStep()}(t,e,v,h);for(var m=0;m<3;++m)f[m]=0,e.resting[m]&&(p[m]||(f[m]=-e.velocity[m]),e.velocity[m]=0);var A=i.length(f);A>.001&&(i.scale(f,f,e.mass),e.onCollide&&e.onCollide(f),e.restitution>0&&A>t.minBounceImpulse&&(i.scale(f,f,e.restitution),e.applyImpulse(f)));i.squaredLength(e.velocity)>1e-5&&e._markActive()}(this,n,t,e))};var d=i.create();function y(t,e,n){var r=e.resting[t],o=n[t];if(0!==r&&!(r*o<=0)){i.copy(m,e.velocity),m[t]=0;var s=i.length(m);if(!S(s,0)){var a=Math.abs(e.friction*o),c=s>a?(s-a)/s:0;e.velocity[(t+1)%3]*=c,e.velocity[(t+2)%3]*=c}}}var m=i.create();function g(t,e,n,r){return i.set(r,0,0,0),o(t.testSolid,e,n,(function(t,e,n,i){r[e]=n,i[e]=0}))}var v=new r([],[]),b=i.create(),_=i.create(),w=i.create(),k=i.create();var E=i.create();function S(t,e){return Math.abs(t-e)<1e-5}function C(t,e){for(var n=0;n<3;n++)t.base[n]=e.base[n],t.max[n]=e.max[n],t.vec[n]=e.vec[n]}var x=function(){}},function(t,e,n){"use strict";var r=n(208),i=n(79);function o(t,e,n,o,s,a,c){this.aabb=new r(t.base,t.vec),this.mass=e,this.friction=n,this.restitution=o,this.gravityMultiplier=s,this.onCollide=a,this.autoStep=!!c,this.airDrag=-1,this.fluidDrag=-1,this.onStep=null,this.velocity=i.create(),this.resting=[0,0,0],this.inFluid=!1,this._ratioInFluid=0,this._forces=i.create(),this._impulses=i.create(),this._sleepFrameCount=10}t.exports=o,o.prototype.setPosition=function(t){s(t),i.subtract(t,t,this.aabb.base),this.aabb.translate(t),this._markActive()},o.prototype.getPosition=function(){return i.clone(this.aabb.base)},o.prototype.applyForce=function(t){s(t),i.add(this._forces,this._forces,t),this._markActive()},o.prototype.applyImpulse=function(t){s(t),i.add(this._impulses,this._impulses,t),this._markActive()},o.prototype._markActive=function(){this._sleepFrameCount=10},o.prototype.atRestX=function(){return this.resting[0]},o.prototype.atRestY=function(){return this.resting[1]},o.prototype.atRestZ=function(){return this.resting[2]};var s=function(){}},function(t,e,n){"use strict";t.exports=
/*!
 * ent-comp: a light, *fast* Entity Component System in JS
 * @url      github.com/andyhall/ent-comp
 * @author   Andy Hall <andy@fenomas.com>
 * @license  MIT
*/
function t(){var e=this;this.components={},this.comps=this.components;var n=this.components,i=1,o={},s=[],a=[],c=[],u=[],l=[];function h(t){Object.keys(o).forEach(e=>{o[e].hash[t]&&f(t,e)})}function f(t,e){var i=n[e],s=o[e];s&&s.hash[t]&&(i.onRemove&&(i.multi?s.hash[t].forEach(e=>{i.onRemove(t,e)}):i.onRemove(t,s.hash[t])),i.multi&&(s.hash[t].length=0),r.remove(s,t))}function p(t,e,r){var i=n[e],s=o[e].hash[t];if(s){var a=s.indexOf(r);a<0||(i.onRemove&&i.onRemove(t,r),s.splice(a,1),0===s.length&&f(t,e))}}function d(){y||(y=!0,setTimeout((function(){y=!1,m()}),1))}this._storage=o,this._systems=s,this._renderSystems=a,this.createEntity=function(t){var n=i++;return t&&t.length&&t.forEach(t=>e.addComponent(n,t)),n},this.deleteEntity=function(t,n){return n?h(t):(c.push(t),d()),e},this.createComponent=function(t){if(!t)throw"Missing component definition";var e=t.name;if(!e)throw"Component definition must have a name property.";if("string"!=typeof e)throw"Component name must be a string.";if(""===e)throw"Component name must be a non-empty string.";if(o[e])throw`Component ${e} already exists.`;var i={};return i.name=e,i.order=isNaN(t.order)?99:t.order,i.state=t.state||{},i.onAdd=t.onAdd||null,i.onRemove=t.onRemove||null,i.system=t.system||null,i.renderSystem=t.renderSystem||null,i.multi=!!t.multi,n[e]=i,o[e]=r.create(),i.system&&(s.push(e),s.sort((t,e)=>n[t].order-n[e].order)),i.renderSystem&&(a.push(e),a.sort((t,e)=>n[t].order-n[e].order)),e},this.deleteComponent=function(t){var r=o[t];if(!r)throw"Unknown component: "+t;r.list.forEach(n=>{var r=n.__id||n[0].__id;e.removeComponent(r,t,!0)});var i=s.indexOf(t),c=a.indexOf(t);return i>-1&&s.splice(i,1),c>-1&&a.splice(c,1),delete n[t],delete o[t],e},this.addComponent=function(t,e,i){var s=n[e],a=o[e];if(!a)throw`Unknown component: ${e}.`;var c=!1;if(u.forEach(n=>{n.id===t&&n.compName===e&&(c=!0)}),c&&g(),a.hash[t]&&!s.multi)throw`Entity ${t} already has component: ${e}.`;var l=Object.assign({},{__id:t},s.state,i);if(l.__id=t,s.multi){var h=a.hash[t];h||(h=[],r.add(a,t,h)),h.push(l)}else r.add(a,t,l);return s.onAdd&&s.onAdd(t,l),this},this.hasComponent=function(t,e){var n=o[e];if(!n)throw`Unknown component: ${e}.`;return void 0!==n.hash[t]},this.removeComponent=function(t,r,i){var s=n[r],a=o[r];if(!a)throw`Unknown component: ${r}.`;if(!a.hash[t]){if(s.multi)return e;throw`Entity ${t} does not have component: ${r} to remove.`}return i?f(t,r):(u.push({id:t,compName:r}),d()),e},this.getState=function(t,e){var n=o[e];if(!n)throw`Unknown component: ${e}.`;return n.hash[t]},t.prototype.getStatesList=function(t){var e=o[t];if(!e)throw`Unknown component: ${t}.`;return e.list},this.getStateAccessor=function(t){if(!o[t])throw`Unknown component: ${t}.`;var e=o[t].hash;return function(t){return e[t]}},this.getComponentAccessor=function(t){if(!o[t])throw`Unknown component: ${t}.`;var e=o[t].hash;return function(t){return void 0!==e[t]}},this.tick=function(t){return m(),s.forEach(e=>{var r=o[e].list;n[e].system(t,r)}),m(),e},this.render=function(t){return m(),a.forEach(e=>{var r=o[e].list;n[e].renderSystem(t,r)}),m(),e},this.removeMultiComponent=function(t,r,i,s){var a=n[r],c=o[r];if(!c)throw`Unknown component: ${r}.`;if(!a.multi)throw"removeMultiComponent called on non-multi component";var u=c.hash[t];if(!u||!u[i])throw`Multicomponent ${r} instance not found at index ${i}`;var h=u[i];return s?p(t,r,h):l.push({id:t,compName:r,state:h}),e};var y=!1;function m(){g(),function(t){for(;l.length;){var e=l.pop();p(e.id,e.compName,e.state),e.state=null}}(),function(){for(;c.length;){h(c.pop())}}()}function g(){for(;u.length;){var t=u.pop();f(t.id,t.compName)}}};var r=n(355)},function(t,e,n){"use strict";t.exports={create:function(){return{list:[],hash:{},_map:{}}},add:function(t,e,n){t.list.push(n),t.hash[e]=n,t._map[e]=t.list.length-1},remove:function(t,e){var n=t._map[e];if(n===t.list.length-1)t.list.pop();else{var r=t.list.pop();t.list[n]=r;var i=r.__id||r[0].__id;t._map[i]=n}delete t.hash[e],delete t._map[e]}}},function(t,e,n){var r={"./collideEntities.js":357,"./collideTerrain.js":365,"./fadeOnZoom.js":366,"./followsEntity.js":367,"./mesh.js":368,"./movement.js":369,"./physics.js":218,"./position.js":217,"./receivesInputs.js":370,"./shadow.js":371,"./smoothCamera.js":372};function i(t){var e=o(t);return n(e)}function o(t){if(!n.o(r,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return r[t]}i.keys=function(){return Object.keys(r)},i.resolve=o,t.exports=i,i.id=356},function(t,e,n){"use strict";n.r(e);var r=n(358);e.default=function(t){var e=[];return{name:"collideEntities",order:70,state:{cylinder:!1,collideBits:1,collideMask:1,callback:null},onAdd:null,onRemove:null,system:function(i,o){for(var s=t.ents,a=0;a<o.length;a++){var c=o[a].__id,u=s.getPositionData(c);e[a]=u._extents}e.length=o.length,r(e,(function(r,i){var s=o[r],a=o[i];(function(t,e,r,i){if(t.cylinder)return e.cylinder?function(t,e){var n=(t[3]-t[0])/2,r=(e[3]-e[0])/2,i=t[0]+n-(e[0]+r),o=t[2]+n-(e[2]+r),s=n+r;return i*i+o*o<=s*s}(r,i):n(r,i);if(e.cylinder)return n(i,r);return!0})(s,a,e[r],e[i])&&function(t,e,n){var r=e.__id,i=n.__id;e.collideMask&n.collideBits&&e.callback&&e.callback(i);n.collideMask&e.collideBits&&n.callback&&n.callback(r);t.ents.onPairwiseEntityCollision(r,i)}(t,s,a)}))}};function n(t,e){var n=(t[3]-t[0])/2,r=t[0]+n,o=t[2]+n,s=i(r,e[0],e[3])-r,a=i(o,e[2],e[5])-o;return s*s+a*a<=n*n}function i(t,e,n){return t<e?e:t>n?n:t}}},function(t,e,n){"use strict";t.exports=function(t,e,n){switch(arguments.length){case 1:return h(t);case 2:return"function"==typeof e?u(t,t,e,!0):f(t,e);case 3:return u(t,e,n,!1);default:throw new Error("box-intersect: Invalid arguments")}};var r,i=n(209),o=n(253),s=n(362);function a(t,e){for(var n=0;n<t;++n)if(!(e[n]<=e[n+t]))return!0;return!1}function c(t,e,n,r){for(var i=0,o=0,s=0,c=t.length;s<c;++s){var u=t[s];if(!a(e,u)){for(var l=0;l<2*e;++l)n[i++]=u[l];r[o++]=s}}return o}function u(t,e,n,r){var a=t.length,u=e.length;if(!(a<=0||u<=0)){var l=t[0].length>>>1;if(!(l<=0)){var h,f=i.mallocDouble(2*l*a),p=i.mallocInt32(a);if((a=c(t,l,f,p))>0){if(1===l&&r)o.init(a),h=o.sweepComplete(l,n,0,a,f,p,0,a,f,p);else{var d=i.mallocDouble(2*l*u),y=i.mallocInt32(u);(u=c(e,l,d,y))>0&&(o.init(a+u),h=1===l?o.sweepBipartite(l,n,0,a,f,p,0,u,d,y):s(l,n,r,a,f,p,u,d,y),i.free(d),i.free(y))}i.free(f),i.free(p)}return h}}}function l(t,e){r.push([t,e])}function h(t){return r=[],u(t,t,l,!0),r}function f(t,e){return r=[],u(t,e,l,!1),r}},function(t,e,n){"use strict";t.exports=function(t,e){switch(void 0===e&&(e=0),typeof t){case"number":if(t>0)return function(t,e){var n,r;for(n=new Array(t),r=0;r<t;++r)n[r]=e;return n}(0|t,e);break;case"object":if("number"==typeof t.length)return function t(e,n,r){var i=0|e[r];if(i<=0)return[];var o,s=new Array(i);if(r===e.length-1)for(o=0;o<i;++o)s[o]=n;else for(o=0;o<i;++o)s[o]=t(e,n,r+1);return s}(t,e,0)}return[]}},function(t,e,n){(function(e){t.exports=e.BFSRequire("buffer")}).call(this,n(200))},function(t,e,n){"use strict";t.exports=function(t,e){e<=128?r(0,e-1,t):function t(e,n,l){var h=(n-e+1)/6|0,f=e+h,p=n-h,d=e+n>>1,y=d-h,m=d+h,g=f,v=y,b=d,_=m,w=p,k=e+1,E=n-1,S=0;c(g,v,l)&&(S=g,g=v,v=S);c(_,w,l)&&(S=_,_=w,w=S);c(g,b,l)&&(S=g,g=b,b=S);c(v,b,l)&&(S=v,v=b,b=S);c(g,_,l)&&(S=g,g=_,_=S);c(b,_,l)&&(S=b,b=_,_=S);c(v,w,l)&&(S=v,v=w,w=S);c(v,b,l)&&(S=v,v=b,b=S);c(_,w,l)&&(S=_,_=w,w=S);for(var C=l[2*v],x=l[2*v+1],A=l[2*_],T=l[2*_+1],F=2*g,O=2*b,D=2*w,L=2*f,I=2*d,M=2*p,N=0;N<2;++N){var R=l[F+N],P=l[O+N],B=l[D+N];l[L+N]=R,l[I+N]=P,l[M+N]=B}o(y,e,l),o(m,n,l);for(var j=k;j<=E;++j)if(u(j,C,x,l))j!==k&&i(j,k,l),++k;else if(!u(j,A,T,l))for(;;){if(u(E,A,T,l)){u(E,C,x,l)?(s(j,k,E,l),++k,--E):(i(j,E,l),--E);break}if(--E<j)break}a(e,k-1,C,x,l),a(n,E+1,A,T,l),k-2-e<=32?r(e,k-2,l):t(e,k-2,l);n-(E+2)<=32?r(E+2,n,l):t(E+2,n,l);E-k<=32?r(k,E,l):t(k,E,l)}(0,e-1,t)};function r(t,e,n){for(var r=2*(t+1),i=t+1;i<=e;++i){for(var o=n[r++],s=n[r++],a=i,c=r-2;a-- >t;){var u=n[c-2],l=n[c-1];if(u<o)break;if(u===o&&l<s)break;n[c]=u,n[c+1]=l,c-=2}n[c]=o,n[c+1]=s}}function i(t,e,n){e*=2;var r=n[t*=2],i=n[t+1];n[t]=n[e],n[t+1]=n[e+1],n[e]=r,n[e+1]=i}function o(t,e,n){e*=2,n[t*=2]=n[e],n[t+1]=n[e+1]}function s(t,e,n,r){e*=2,n*=2;var i=r[t*=2],o=r[t+1];r[t]=r[e],r[t+1]=r[e+1],r[e]=r[n],r[e+1]=r[n+1],r[n]=i,r[n+1]=o}function a(t,e,n,r,i){e*=2,i[t*=2]=i[e],i[e]=n,i[t+1]=i[e+1],i[e+1]=r}function c(t,e,n){e*=2;var r=n[t*=2],i=n[e];return!(r<i)&&(r!==i||n[t+1]>n[e+1])}function u(t,e,n,r){var i=r[t*=2];return i<e||i===e&&r[t+1]<n}},function(t,e,n){"use strict";t.exports=function(t,e,n,o,l,k,E,S,C){!function(t,e){var n=8*i.log2(e+1)*(t+1)|0,o=i.nextPow2(6*n);g.length<o&&(r.free(g),g=r.mallocInt32(o));var s=i.nextPow2(2*n);v.length<s&&(r.free(v),v=r.mallocDouble(s))}(t,o+E);var x,A=0,T=2*t;b(A++,0,0,o,0,E,n?16:0,-1/0,1/0),n||b(A++,0,0,E,0,o,1,-1/0,1/0);for(;A>0;){var F=6*(A-=1),O=g[F],D=g[F+1],L=g[F+2],I=g[F+3],M=g[F+4],N=g[F+5],R=2*A,P=v[R],B=v[R+1],j=1&N,z=!!(16&N),U=l,q=k,H=S,V=C;if(j&&(U=S,q=C,H=l,V=k),!(2&N&&(L=p(t,O,D,L,U,q,B),D>=L)||4&N&&(D=d(t,O,D,L,U,q,P))>=L)){var W=L-D,Y=M-I;if(z){if(t*W*(W+Y)<1<<22){if(void 0!==(x=c.scanComplete(t,O,e,D,L,U,q,I,M,H,V)))return x;continue}}else{if(t*Math.min(W,Y)<128){if(void 0!==(x=s(t,O,e,j,D,L,U,q,I,M,H,V)))return x;continue}if(t*W*Y<1<<22){if(void 0!==(x=c.scanBipartite(t,O,e,j,D,L,U,q,I,M,H,V)))return x;continue}}var Z=h(t,O,D,L,U,q,P,B);if(D<Z)if(t*(Z-D)<128){if(void 0!==(x=a(t,O+1,e,D,Z,U,q,I,M,H,V)))return x}else if(O===t-2){if(void 0!==(x=j?c.sweepBipartite(t,e,I,M,H,V,D,Z,U,q):c.sweepBipartite(t,e,D,Z,U,q,I,M,H,V)))return x}else b(A++,O+1,D,Z,I,M,j,-1/0,1/0),b(A++,O+1,I,M,D,Z,1^j,-1/0,1/0);if(Z<L){var X=u(t,O,I,M,H,V),G=H[T*X+O],$=f(t,O,X,M,H,V,G);if($<M&&b(A++,O,Z,L,$,M,(4|j)+(z?16:0),G,B),I<X&&b(A++,O,Z,L,I,X,(2|j)+(z?16:0),P,G),X+1===$){if(void 0!==(x=z?w(t,O,e,Z,L,U,q,X,H,V[X]):_(t,O,e,j,Z,L,U,q,X,H,V[X])))return x}else if(X<$){var J;if(z){if(J=y(t,O,Z,L,U,q,G),Z<J){var K=f(t,O,Z,J,U,q,G);if(O===t-2){if(Z<K&&void 0!==(x=c.sweepComplete(t,e,Z,K,U,q,X,$,H,V)))return x;if(K<J&&void 0!==(x=c.sweepBipartite(t,e,K,J,U,q,X,$,H,V)))return x}else Z<K&&b(A++,O+1,Z,K,X,$,16,-1/0,1/0),K<J&&(b(A++,O+1,K,J,X,$,0,-1/0,1/0),b(A++,O+1,X,$,K,J,1,-1/0,1/0))}}else J=j?m(t,O,Z,L,U,q,G):y(t,O,Z,L,U,q,G),Z<J&&(O===t-2?x=j?c.sweepBipartite(t,e,X,$,H,V,Z,J,U,q):c.sweepBipartite(t,e,Z,J,U,q,X,$,H,V):(b(A++,O+1,Z,J,X,$,j,-1/0,1/0),b(A++,O+1,X,$,Z,J,1^j,-1/0,1/0)))}}}}};var r=n(209),i=n(210),o=n(363),s=o.partial,a=o.full,c=n(253),u=n(364),l=n(254),h=l("!(lo>=p0)&&!(p1>=hi)",["p0","p1"]),f=l("lo===p0",["p0"]),p=l("lo<p0",["p0"]),d=l("hi<=p0",["p0"]),y=l("lo<=p0&&p0<=hi",["p0"]),m=l("lo<p0&&p0<=hi",["p0"]),g=r.mallocInt32(1024),v=r.mallocDouble(1024);function b(t,e,n,r,i,o,s,a,c){var u=6*t;g[u]=e,g[u+1]=n,g[u+2]=r,g[u+3]=i,g[u+4]=o,g[u+5]=s;var l=2*t;v[l]=a,v[l+1]=c}function _(t,e,n,r,i,o,s,a,c,u,l){var h=2*t,f=c*h,p=u[f+e];t:for(var d=i,y=i*h;d<o;++d,y+=h){var m=s[y+e],g=s[y+e+t];if(!(p<m||g<p)&&(!r||p!==m)){for(var v,b=a[d],_=e+1;_<t;++_){m=s[y+_],g=s[y+_+t];var w=u[f+_],k=u[f+_+t];if(g<w||k<m)continue t}if(void 0!==(v=r?n(l,b):n(b,l)))return v}}}function w(t,e,n,r,i,o,s,a,c,u){var l=2*t,h=a*l,f=c[h+e];t:for(var p=r,d=r*l;p<i;++p,d+=l){var y=s[p];if(y!==u){var m=o[d+e],g=o[d+e+t];if(!(f<m||g<f)){for(var v=e+1;v<t;++v){m=o[d+v],g=o[d+v+t];var b=c[h+v],_=c[h+v+t];if(g<b||_<m)continue t}var w=n(y,u);if(void 0!==w)return w}}}}},function(t,e,n){"use strict";var r=["d","ax","vv","rs","re","rb","ri","bs","be","bb","bi"];function i(t){var e="bruteForce"+(t?"Full":"Partial"),n=[],i=r.slice();t||i.splice(3,0,"fp");var o=["function "+e+"("+i.join()+"){"];function s(e,i){var s=function(t,e,n){var i="bruteForce"+(t?"Red":"Blue")+(e?"Flip":"")+(n?"Full":""),o=["function ",i,"(",r.join(),"){","var ","es","=2*","d",";"],s="for(var i=rs,rp=es*rs;i<re;++i,rp+=es){var x0=rb[ax+rp],x1=rb[ax+rp+d],xi=ri[i];",a="for(var j=bs,bp=es*bs;j<be;++j,bp+=es){var y0=bb[ax+bp],"+(n?"y1=bb[ax+bp+d],":"")+"yi=bi[j];";return t?o.push(s,"Q",":",a):o.push(a,"Q",":",s),n?o.push("if(y1<x0||x1<y0)continue;"):e?o.push("if(y0<=x0||x1<y0)continue;"):o.push("if(y0<x0||x1<y0)continue;"),o.push("for(var k=ax+1;k<d;++k){var r0=rb[k+rp],r1=rb[k+d+rp],b0=bb[k+bp],b1=bb[k+d+bp];if(r1<b0||b1<r0)continue Q;}var rv=vv("),e?o.push("yi,xi"):o.push("xi,yi"),o.push(");if(rv!==void 0)return rv;}}}"),{name:i,code:o.join("")}}(e,i,t);n.push(s.code),o.push("return "+s.name+"("+r.join()+");")}o.push("if(re-rs>be-bs){"),t?(s(!0,!1),o.push("}else{"),s(!1,!1)):(o.push("if(fp){"),s(!0,!0),o.push("}else{"),s(!0,!1),o.push("}}else{if(fp){"),s(!1,!0),o.push("}else{"),s(!1,!1),o.push("}")),o.push("}}return "+e);var a=n.join("")+o.join("");return new Function(a)()}e.partial=i(!1),e.full=i(!0)},function(t,e,n){"use strict";t.exports=function(t,e,n,o,s,a){if(o<=n+1)return n;var c=n,u=o,l=o+n>>>1,h=2*t,f=l,p=s[h*l+e];for(;c<u;){if(u-c<8){i(t,e,c,u,s,a),p=s[h*l+e];break}var d=u-c,y=Math.random()*d+c|0,m=s[h*y+e],g=Math.random()*d+c|0,v=s[h*g+e],b=Math.random()*d+c|0,_=s[h*b+e];m<=v?_>=v?(f=g,p=v):m>=_?(f=y,p=m):(f=b,p=_):v>=_?(f=g,p=v):_>=m?(f=y,p=m):(f=b,p=_);for(var w=h*(u-1),k=h*f,E=0;E<h;++E,++w,++k){var S=s[w];s[w]=s[k],s[k]=S}var C=a[u-1];a[u-1]=a[f],a[f]=C,f=r(t,e,c,u-1,s,a,p);for(w=h*(u-1),k=h*f,E=0;E<h;++E,++w,++k){S=s[w];s[w]=s[k],s[k]=S}C=a[u-1];if(a[u-1]=a[f],a[f]=C,l<f){for(u=f-1;c<u&&s[h*(u-1)+e]===p;)u-=1;u+=1}else{if(!(f<l))break;for(c=f+1;c<u&&s[h*c+e]===p;)c+=1}}return r(t,e,n,l,s,a,s[h*l+e])};var r=n(254)("lo<p0",["p0"]);function i(t,e,n,r,i,o){for(var s=2*t,a=s*(n+1)+e,c=n+1;c<r;++c,a+=s)for(var u=i[a],l=c,h=s*(c-1);l>n&&i[h+e]>u;--l,h-=s){for(var f=h,p=h+s,d=0;d<s;++d,++f,++p){var y=i[f];i[f]=i[p],i[p]=y}var m=o[l];o[l]=o[l-1],o[l-1]=m}}},function(t,e,n){"use strict";n.r(e),e.default=function(t){return{name:"collideTerrain",order:0,state:{callback:null},onAdd:function(e,n){var r=t.entities;r.hasPhysics(e)&&(r.getPhysicsBody(e).onCollide=function(n){var r=t.ents.getCollideTerrain(e).callback;r&&r(n,e)})},onRemove:function(e,n){var r=t.entities;r.hasPhysics(e)&&(r.getPhysicsBody(e).onCollide=null)}}}},function(t,e,n){"use strict";n.r(e),e.default=function(t){return{name:"fadeOnZoom",order:99,state:{cutoff:1.5,_showing:!0},onAdd:null,onRemove:null,system:function(e,n){var r=t.camera.currentZoom,i=t.entities;n.forEach(t=>{!function(t,e,n,r){if(!r.hasMesh(e))return;if(t._showing&&n<t.cutoff||!t._showing&&n>t.cutoff){r.getMeshData(e).mesh.visibility=t._showing=n>t.cutoff}}(t,t.__id,r,i)})}}}},function(t,e,n){"use strict";n.r(e);var r=n(79);e.default=function(t){return{name:"followsEntity",order:50,state:{entity:0,offset:null},onAdd:function(t,i){var o=r.create();i.offset=i.offset?r.copy(o,i.offset):o,e(i),n(i)},onRemove:null,system:function(t,n){n.forEach(t=>e(t))},renderSystem:function(t,e){e.forEach(t=>n(t))}};function e(e){var n=e.__id,i=t.ents.getPositionData(n),o=t.ents.getPositionData(e.entity);if(!o)return t.ents.removeComponent(n,t.ents.names.followsEntity);r.add(i._localPosition,o._localPosition,e.offset)}function n(e){var n=e.__id,i=t.ents.getPositionData(n),o=t.ents.getPositionData(e.entity);if(!o)return t.ents.removeComponent(n,t.ents.names.followsEntity);r.add(i._renderPosition,o._renderPosition,e.offset)}}},function(t,e,n){"use strict";n.r(e);var r=n(79);e.default=function(t){return{name:"mesh",order:100,state:{mesh:null,offset:null},onAdd:function(e,n){var i=t.ents.getPositionData(e);if(!n.mesh)throw new Error("Mesh component added without a mesh - probably a bug!");t.rendering.addMeshToScene(n.mesh,!1,i.position),n.offset||(n.offset=new r.create);var o=i._renderPosition;n.mesh.position.copyFromFloats(o[0]+n.offset[0],o[1]+n.offset[1],o[2]+n.offset[2])},onRemove:function(t,e){e.mesh.dispose()},renderSystem:function(e,n){n.forEach(e=>{var n=e.__id,r=t.ents.getPositionData(n)._renderPosition;e.mesh.position.copyFromFloats(r[0]+e.offset[0],r[1]+e.offset[1],r[2]+e.offset[2])})}}}},function(t,e,n){"use strict";n.r(e);var r=n(79);e.default=function(t){return{name:"movement",order:30,state:{heading:0,running:!1,jumping:!1,maxSpeed:10,moveForce:30,responsiveness:15,runningFriction:0,standingFriction:2,airMoveMult:.5,jumpImpulse:10,jumpForce:12,jumpTime:500,airJumps:1,_jumpCount:0,_isJumping:0,_currjumptime:0},onAdd:null,onRemove:null,system:function(e,n){var a=t.entities;n.forEach(t=>{var n=a.getPhysicsBody(t.__id);!function(t,e,n){var a=n.atRestY()<0,c=a||e._jumpCount<e.airJumps;a&&(e._isJumping=!1,e._jumpCount=0);if(e.jumping)if(e._isJumping){if(e._currjumptime>0){var u=e.jumpForce;e._currjumptime<t&&(u*=e._currjumptime/t),n.applyForce([0,u,0]),e._currjumptime-=t}}else c&&(e._isJumping=!0,a||e._jumpCount++,e._currjumptime=e.jumpTime,n.applyImpulse([0,e.jumpImpulse,0]),!a&&n.velocity[1]<0&&(n.velocity[1]=0));else e._isJumping=!1;var l=i,h=o;if(e.running){var f=e.maxSpeed;r.set(l,0,0,f),r.rotateY(l,l,s,e.heading),r.subtract(h,l,n.velocity),h[1]=0;var p=r.length(h);if(r.normalize(h,h),p>0){var d=e.moveForce;a||(d*=e.airMoveMult);var y=e.responsiveness*p;d>y&&(d=y),r.scale(h,h,d),n.applyForce(h)}n.friction=e.runningFriction}else n.friction=e.standingFriction}(e,t,n)})}}};var i=r.create(),o=r.create(),s=r.create()},function(t,e,n){"use strict";n.r(e),e.default=function(t){return{name:"receivesInputs",order:20,state:{},onAdd:null,onRemove:null,system:function(e,n){var r=t.entities,i=t.inputs.state,o=t.camera.heading;n.forEach(t=>{!function(t,e,n){t.jumping=!!e.jump;var r=e.forward?e.backward?0:1:e.backward?-1:0,i=e.right?e.left?0:1:e.left?-1:0;0==(r|i)?t.running=!1:(t.running=!0,r?(-1==r&&(n+=Math.PI),i&&(n+=Math.PI/4*r*i)):n+=i*Math.PI/2,t.heading=n)}(r.getMovement(t.__id),i,o)})}}}},function(t,e,n){"use strict";n.r(e);var r=n(4),i=n(30),o=n(79);e.default=function(t,e){var n=e,c=t.rendering.getScene(),u=r.a.CreateDisc("shadow",.75,30,c);return u.rotation.x=Math.PI/2,u.material=t.rendering.makeStandardMaterial("shadowMat"),u.material.diffuseColor=i.e.Black(),u.material.ambientColor=i.e.Black(),u.material.alpha=.5,u.setEnabled(!1),c.removeMesh(u),{name:"shadow",order:80,state:{size:.5,_mesh:null},onAdd:function(e,n){var r=u.createInstance("shadow_instance");t.rendering.addMeshToScene(r),r.setEnabled(!1),n._mesh=r},onRemove:function(t,e){e._mesh.dispose()},system:function(e,r){var i=t.camera._localGetPosition(),c=n;r.forEach(e=>{var n=t.ents.getPositionData(e.__id),r=t.ents.getPhysics(e.__id);!function(t,e,n,r,i,c,u){var l;if(n&&n.body.resting[1]<0)l=e._localPosition[1];else{var h=t._localPick(e._localPosition,a,c);if(!h)return void r.setEnabled(!1);l=h.position[1]-t.worldOriginOffset[1]}l=Math.round(l),o.copy(s,e._localPosition),s[1]=l;var f=.01+o.squaredDistance(u,s)/1600*.1;f>.1&&(f=.1);r.position.y=l+f;var p=e._localPosition[1]-l,d=.7*i*(1-p/c);r.scaling.copyFromFloats(d,d,d),r.setEnabled(!0)}(t,n,r,e._mesh,e.size,c,i)})},renderSystem:function(e,n){n.forEach(e=>{var n=t.ents.getPositionData(e.__id)._renderPosition,r=e._mesh.position;r.x=n[0],r.z=n[2]})}}};var s=o.fromValues(0,0,0),a=o.fromValues(0,-1,0)},function(t,e,n){"use strict";n.r(e),e.default=function(t){return{name:"smooth-camera",order:99,state:{time:100.1},onAdd:null,onRemove:null,system:function(e,n){n.forEach(n=>{n.time-=e,n.time<0&&t.ents.removeComponent(n.__id,"smooth-camera")})}}}},function(t){t.exports=JSON.parse('{"_from":"github:andyhall/noa#develop","_id":"noa-engine@0.29.0","_inBundle":false,"_integrity":"","_location":"/noa-engine","_phantomChildren":{},"_requested":{"type":"git","raw":"github:andyhall/noa#develop","rawSpec":"github:andyhall/noa#develop","saveSpec":"github:andyhall/noa#develop","fetchSpec":null,"gitCommittish":"develop"},"_requiredBy":["#USER","/"],"_resolved":"github:andyhall/noa#6e481cfae0e39e1b3d9f5c89897da647c7d280f2","_spec":"github:andyhall/noa#develop","_where":"/home/patbox/Pulpit/repozytoria/voxelsrv/src/singleplayer","author":{"name":"Andy Hall"},"bugs":{"url":"https://github.com/andyhall/noa/issues"},"bundleDependencies":false,"dependencies":{"aabb-3d":"github:andyhall/aabb-3d","box-intersect":"^1.0.2","ent-comp":"^0.9.1","fast-voxel-raycast":"^0.1.1","game-inputs":"^0.4.0","game-shell":"github:andyhall/game-shell","gl-vec3":"^1.1.3","ndarray":"^1.0.16","voxel-aabb-sweep":"^0.5.0","voxel-physics-engine":"^0.10.0"},"deprecated":false,"description":"Experimental voxel game engine","devDependencies":{"eslint":"^6.8.0","js-beautify":"^1.10.2","jsdoc-to-markdown":"^5.0.3","typescript":"^3.9.3"},"files":["/src","/types"],"homepage":"https://github.com/andyhall/noa#readme","keywords":["voxel","game","engine"],"license":"MIT","main":"src/index.js","name":"noa-engine","peerDependencies":{"@babylonjs/core":"^4.0.0"},"repository":{"type":"git","url":"git+https://github.com/andyhall/noa.git"},"scripts":{"doc":"jsdoc2md -f src/* src/**/* -g table -p list --partial doc-templates/* > doc/API.md"},"typings":"types/index.d.ts","version":"0.29.0"}')},,function(t,e,n){"use strict";t.exports=n(376)},function(t,e,n){"use strict";var r=n(45),i=n(384),o=n(388),s=n(389),a=n(397),c=n(411),u=n(424),l=n(260),h=n(426),f={default:n(428),zero:n(429),commonmark:n(430)},p=/^(vbscript|javascript|file|data):/,d=/^data:image\/(gif|png|jpeg|webp);/;function y(t){var e=t.trim().toLowerCase();return!p.test(e)||!!d.test(e)}var m=["http:","https:","mailto:"];function g(t){var e=l.parse(t,!0);if(e.hostname&&(!e.protocol||m.indexOf(e.protocol)>=0))try{e.hostname=h.toASCII(e.hostname)}catch(t){}return l.encode(l.format(e))}function v(t){var e=l.parse(t,!0);if(e.hostname&&(!e.protocol||m.indexOf(e.protocol)>=0))try{e.hostname=h.toUnicode(e.hostname)}catch(t){}return l.decode(l.format(e))}function b(t,e){if(!(this instanceof b))return new b(t,e);e||r.isString(t)||(e=t||{},t="default"),this.inline=new c,this.block=new a,this.core=new s,this.renderer=new o,this.linkify=new u,this.validateLink=y,this.normalizeLink=g,this.normalizeLinkText=v,this.utils=r,this.helpers=r.assign({},i),this.options={},this.configure(t),e&&this.set(e)}b.prototype.set=function(t){return r.assign(this.options,t),this},b.prototype.configure=function(t){var e,n=this;if(r.isString(t)&&!(t=f[e=t]))throw new Error('Wrong `markdown-it` preset "'+e+'", check name');if(!t)throw new Error("Wrong `markdown-it` preset, can't be empty");return t.options&&n.set(t.options),t.components&&Object.keys(t.components).forEach((function(e){t.components[e].rules&&n[e].ruler.enableOnly(t.components[e].rules),t.components[e].rules2&&n[e].ruler2.enableOnly(t.components[e].rules2)})),this},b.prototype.enable=function(t,e){var n=[];Array.isArray(t)||(t=[t]),["core","block","inline"].forEach((function(e){n=n.concat(this[e].ruler.enable(t,!0))}),this),n=n.concat(this.inline.ruler2.enable(t,!0));var r=t.filter((function(t){return n.indexOf(t)<0}));if(r.length&&!e)throw new Error("MarkdownIt. Failed to enable unknown rule(s): "+r);return this},b.prototype.disable=function(t,e){var n=[];Array.isArray(t)||(t=[t]),["core","block","inline"].forEach((function(e){n=n.concat(this[e].ruler.disable(t,!0))}),this),n=n.concat(this.inline.ruler2.disable(t,!0));var r=t.filter((function(t){return n.indexOf(t)<0}));if(r.length&&!e)throw new Error("MarkdownIt. Failed to disable unknown rule(s): "+r);return this},b.prototype.use=function(t){var e=[this].concat(Array.prototype.slice.call(arguments,1));return t.apply(t,e),this},b.prototype.parse=function(t,e){if("string"!=typeof t)throw new Error("Input data should be a String");var n=new this.core.State(t,this,e);return this.core.process(n),n.tokens},b.prototype.render=function(t,e){return e=e||{},this.renderer.render(this.parse(t,e),this.options,e)},b.prototype.parseInline=function(t,e){var n=new this.core.State(t,this,e);return n.inlineMode=!0,this.core.process(n),n.tokens},b.prototype.renderInline=function(t,e){return e=e||{},this.renderer.render(this.parseInline(t,e),this.options,e)},t.exports=b},function(t){t.exports=JSON.parse('{"Aacute":"Á","aacute":"á","Abreve":"Ă","abreve":"ă","ac":"∾","acd":"∿","acE":"∾̳","Acirc":"Â","acirc":"â","acute":"´","Acy":"А","acy":"а","AElig":"Æ","aelig":"æ","af":"⁡","Afr":"𝔄","afr":"𝔞","Agrave":"À","agrave":"à","alefsym":"ℵ","aleph":"ℵ","Alpha":"Α","alpha":"α","Amacr":"Ā","amacr":"ā","amalg":"⨿","amp":"&","AMP":"&","andand":"⩕","And":"⩓","and":"∧","andd":"⩜","andslope":"⩘","andv":"⩚","ang":"∠","ange":"⦤","angle":"∠","angmsdaa":"⦨","angmsdab":"⦩","angmsdac":"⦪","angmsdad":"⦫","angmsdae":"⦬","angmsdaf":"⦭","angmsdag":"⦮","angmsdah":"⦯","angmsd":"∡","angrt":"∟","angrtvb":"⊾","angrtvbd":"⦝","angsph":"∢","angst":"Å","angzarr":"⍼","Aogon":"Ą","aogon":"ą","Aopf":"𝔸","aopf":"𝕒","apacir":"⩯","ap":"≈","apE":"⩰","ape":"≊","apid":"≋","apos":"\'","ApplyFunction":"⁡","approx":"≈","approxeq":"≊","Aring":"Å","aring":"å","Ascr":"𝒜","ascr":"𝒶","Assign":"≔","ast":"*","asymp":"≈","asympeq":"≍","Atilde":"Ã","atilde":"ã","Auml":"Ä","auml":"ä","awconint":"∳","awint":"⨑","backcong":"≌","backepsilon":"϶","backprime":"‵","backsim":"∽","backsimeq":"⋍","Backslash":"∖","Barv":"⫧","barvee":"⊽","barwed":"⌅","Barwed":"⌆","barwedge":"⌅","bbrk":"⎵","bbrktbrk":"⎶","bcong":"≌","Bcy":"Б","bcy":"б","bdquo":"„","becaus":"∵","because":"∵","Because":"∵","bemptyv":"⦰","bepsi":"϶","bernou":"ℬ","Bernoullis":"ℬ","Beta":"Β","beta":"β","beth":"ℶ","between":"≬","Bfr":"𝔅","bfr":"𝔟","bigcap":"⋂","bigcirc":"◯","bigcup":"⋃","bigodot":"⨀","bigoplus":"⨁","bigotimes":"⨂","bigsqcup":"⨆","bigstar":"★","bigtriangledown":"▽","bigtriangleup":"△","biguplus":"⨄","bigvee":"⋁","bigwedge":"⋀","bkarow":"⤍","blacklozenge":"⧫","blacksquare":"▪","blacktriangle":"▴","blacktriangledown":"▾","blacktriangleleft":"◂","blacktriangleright":"▸","blank":"␣","blk12":"▒","blk14":"░","blk34":"▓","block":"█","bne":"=⃥","bnequiv":"≡⃥","bNot":"⫭","bnot":"⌐","Bopf":"𝔹","bopf":"𝕓","bot":"⊥","bottom":"⊥","bowtie":"⋈","boxbox":"⧉","boxdl":"┐","boxdL":"╕","boxDl":"╖","boxDL":"╗","boxdr":"┌","boxdR":"╒","boxDr":"╓","boxDR":"╔","boxh":"─","boxH":"═","boxhd":"┬","boxHd":"╤","boxhD":"╥","boxHD":"╦","boxhu":"┴","boxHu":"╧","boxhU":"╨","boxHU":"╩","boxminus":"⊟","boxplus":"⊞","boxtimes":"⊠","boxul":"┘","boxuL":"╛","boxUl":"╜","boxUL":"╝","boxur":"└","boxuR":"╘","boxUr":"╙","boxUR":"╚","boxv":"│","boxV":"║","boxvh":"┼","boxvH":"╪","boxVh":"╫","boxVH":"╬","boxvl":"┤","boxvL":"╡","boxVl":"╢","boxVL":"╣","boxvr":"├","boxvR":"╞","boxVr":"╟","boxVR":"╠","bprime":"‵","breve":"˘","Breve":"˘","brvbar":"¦","bscr":"𝒷","Bscr":"ℬ","bsemi":"⁏","bsim":"∽","bsime":"⋍","bsolb":"⧅","bsol":"\\\\","bsolhsub":"⟈","bull":"•","bullet":"•","bump":"≎","bumpE":"⪮","bumpe":"≏","Bumpeq":"≎","bumpeq":"≏","Cacute":"Ć","cacute":"ć","capand":"⩄","capbrcup":"⩉","capcap":"⩋","cap":"∩","Cap":"⋒","capcup":"⩇","capdot":"⩀","CapitalDifferentialD":"ⅅ","caps":"∩︀","caret":"⁁","caron":"ˇ","Cayleys":"ℭ","ccaps":"⩍","Ccaron":"Č","ccaron":"č","Ccedil":"Ç","ccedil":"ç","Ccirc":"Ĉ","ccirc":"ĉ","Cconint":"∰","ccups":"⩌","ccupssm":"⩐","Cdot":"Ċ","cdot":"ċ","cedil":"¸","Cedilla":"¸","cemptyv":"⦲","cent":"¢","centerdot":"·","CenterDot":"·","cfr":"𝔠","Cfr":"ℭ","CHcy":"Ч","chcy":"ч","check":"✓","checkmark":"✓","Chi":"Χ","chi":"χ","circ":"ˆ","circeq":"≗","circlearrowleft":"↺","circlearrowright":"↻","circledast":"⊛","circledcirc":"⊚","circleddash":"⊝","CircleDot":"⊙","circledR":"®","circledS":"Ⓢ","CircleMinus":"⊖","CirclePlus":"⊕","CircleTimes":"⊗","cir":"○","cirE":"⧃","cire":"≗","cirfnint":"⨐","cirmid":"⫯","cirscir":"⧂","ClockwiseContourIntegral":"∲","CloseCurlyDoubleQuote":"”","CloseCurlyQuote":"’","clubs":"♣","clubsuit":"♣","colon":":","Colon":"∷","Colone":"⩴","colone":"≔","coloneq":"≔","comma":",","commat":"@","comp":"∁","compfn":"∘","complement":"∁","complexes":"ℂ","cong":"≅","congdot":"⩭","Congruent":"≡","conint":"∮","Conint":"∯","ContourIntegral":"∮","copf":"𝕔","Copf":"ℂ","coprod":"∐","Coproduct":"∐","copy":"©","COPY":"©","copysr":"℗","CounterClockwiseContourIntegral":"∳","crarr":"↵","cross":"✗","Cross":"⨯","Cscr":"𝒞","cscr":"𝒸","csub":"⫏","csube":"⫑","csup":"⫐","csupe":"⫒","ctdot":"⋯","cudarrl":"⤸","cudarrr":"⤵","cuepr":"⋞","cuesc":"⋟","cularr":"↶","cularrp":"⤽","cupbrcap":"⩈","cupcap":"⩆","CupCap":"≍","cup":"∪","Cup":"⋓","cupcup":"⩊","cupdot":"⊍","cupor":"⩅","cups":"∪︀","curarr":"↷","curarrm":"⤼","curlyeqprec":"⋞","curlyeqsucc":"⋟","curlyvee":"⋎","curlywedge":"⋏","curren":"¤","curvearrowleft":"↶","curvearrowright":"↷","cuvee":"⋎","cuwed":"⋏","cwconint":"∲","cwint":"∱","cylcty":"⌭","dagger":"†","Dagger":"‡","daleth":"ℸ","darr":"↓","Darr":"↡","dArr":"⇓","dash":"‐","Dashv":"⫤","dashv":"⊣","dbkarow":"⤏","dblac":"˝","Dcaron":"Ď","dcaron":"ď","Dcy":"Д","dcy":"д","ddagger":"‡","ddarr":"⇊","DD":"ⅅ","dd":"ⅆ","DDotrahd":"⤑","ddotseq":"⩷","deg":"°","Del":"∇","Delta":"Δ","delta":"δ","demptyv":"⦱","dfisht":"⥿","Dfr":"𝔇","dfr":"𝔡","dHar":"⥥","dharl":"⇃","dharr":"⇂","DiacriticalAcute":"´","DiacriticalDot":"˙","DiacriticalDoubleAcute":"˝","DiacriticalGrave":"`","DiacriticalTilde":"˜","diam":"⋄","diamond":"⋄","Diamond":"⋄","diamondsuit":"♦","diams":"♦","die":"¨","DifferentialD":"ⅆ","digamma":"ϝ","disin":"⋲","div":"÷","divide":"÷","divideontimes":"⋇","divonx":"⋇","DJcy":"Ђ","djcy":"ђ","dlcorn":"⌞","dlcrop":"⌍","dollar":"$","Dopf":"𝔻","dopf":"𝕕","Dot":"¨","dot":"˙","DotDot":"⃜","doteq":"≐","doteqdot":"≑","DotEqual":"≐","dotminus":"∸","dotplus":"∔","dotsquare":"⊡","doublebarwedge":"⌆","DoubleContourIntegral":"∯","DoubleDot":"¨","DoubleDownArrow":"⇓","DoubleLeftArrow":"⇐","DoubleLeftRightArrow":"⇔","DoubleLeftTee":"⫤","DoubleLongLeftArrow":"⟸","DoubleLongLeftRightArrow":"⟺","DoubleLongRightArrow":"⟹","DoubleRightArrow":"⇒","DoubleRightTee":"⊨","DoubleUpArrow":"⇑","DoubleUpDownArrow":"⇕","DoubleVerticalBar":"∥","DownArrowBar":"⤓","downarrow":"↓","DownArrow":"↓","Downarrow":"⇓","DownArrowUpArrow":"⇵","DownBreve":"̑","downdownarrows":"⇊","downharpoonleft":"⇃","downharpoonright":"⇂","DownLeftRightVector":"⥐","DownLeftTeeVector":"⥞","DownLeftVectorBar":"⥖","DownLeftVector":"↽","DownRightTeeVector":"⥟","DownRightVectorBar":"⥗","DownRightVector":"⇁","DownTeeArrow":"↧","DownTee":"⊤","drbkarow":"⤐","drcorn":"⌟","drcrop":"⌌","Dscr":"𝒟","dscr":"𝒹","DScy":"Ѕ","dscy":"ѕ","dsol":"⧶","Dstrok":"Đ","dstrok":"đ","dtdot":"⋱","dtri":"▿","dtrif":"▾","duarr":"⇵","duhar":"⥯","dwangle":"⦦","DZcy":"Џ","dzcy":"џ","dzigrarr":"⟿","Eacute":"É","eacute":"é","easter":"⩮","Ecaron":"Ě","ecaron":"ě","Ecirc":"Ê","ecirc":"ê","ecir":"≖","ecolon":"≕","Ecy":"Э","ecy":"э","eDDot":"⩷","Edot":"Ė","edot":"ė","eDot":"≑","ee":"ⅇ","efDot":"≒","Efr":"𝔈","efr":"𝔢","eg":"⪚","Egrave":"È","egrave":"è","egs":"⪖","egsdot":"⪘","el":"⪙","Element":"∈","elinters":"⏧","ell":"ℓ","els":"⪕","elsdot":"⪗","Emacr":"Ē","emacr":"ē","empty":"∅","emptyset":"∅","EmptySmallSquare":"◻","emptyv":"∅","EmptyVerySmallSquare":"▫","emsp13":" ","emsp14":" ","emsp":" ","ENG":"Ŋ","eng":"ŋ","ensp":" ","Eogon":"Ę","eogon":"ę","Eopf":"𝔼","eopf":"𝕖","epar":"⋕","eparsl":"⧣","eplus":"⩱","epsi":"ε","Epsilon":"Ε","epsilon":"ε","epsiv":"ϵ","eqcirc":"≖","eqcolon":"≕","eqsim":"≂","eqslantgtr":"⪖","eqslantless":"⪕","Equal":"⩵","equals":"=","EqualTilde":"≂","equest":"≟","Equilibrium":"⇌","equiv":"≡","equivDD":"⩸","eqvparsl":"⧥","erarr":"⥱","erDot":"≓","escr":"ℯ","Escr":"ℰ","esdot":"≐","Esim":"⩳","esim":"≂","Eta":"Η","eta":"η","ETH":"Ð","eth":"ð","Euml":"Ë","euml":"ë","euro":"€","excl":"!","exist":"∃","Exists":"∃","expectation":"ℰ","exponentiale":"ⅇ","ExponentialE":"ⅇ","fallingdotseq":"≒","Fcy":"Ф","fcy":"ф","female":"♀","ffilig":"ﬃ","fflig":"ﬀ","ffllig":"ﬄ","Ffr":"𝔉","ffr":"𝔣","filig":"ﬁ","FilledSmallSquare":"◼","FilledVerySmallSquare":"▪","fjlig":"fj","flat":"♭","fllig":"ﬂ","fltns":"▱","fnof":"ƒ","Fopf":"𝔽","fopf":"𝕗","forall":"∀","ForAll":"∀","fork":"⋔","forkv":"⫙","Fouriertrf":"ℱ","fpartint":"⨍","frac12":"½","frac13":"⅓","frac14":"¼","frac15":"⅕","frac16":"⅙","frac18":"⅛","frac23":"⅔","frac25":"⅖","frac34":"¾","frac35":"⅗","frac38":"⅜","frac45":"⅘","frac56":"⅚","frac58":"⅝","frac78":"⅞","frasl":"⁄","frown":"⌢","fscr":"𝒻","Fscr":"ℱ","gacute":"ǵ","Gamma":"Γ","gamma":"γ","Gammad":"Ϝ","gammad":"ϝ","gap":"⪆","Gbreve":"Ğ","gbreve":"ğ","Gcedil":"Ģ","Gcirc":"Ĝ","gcirc":"ĝ","Gcy":"Г","gcy":"г","Gdot":"Ġ","gdot":"ġ","ge":"≥","gE":"≧","gEl":"⪌","gel":"⋛","geq":"≥","geqq":"≧","geqslant":"⩾","gescc":"⪩","ges":"⩾","gesdot":"⪀","gesdoto":"⪂","gesdotol":"⪄","gesl":"⋛︀","gesles":"⪔","Gfr":"𝔊","gfr":"𝔤","gg":"≫","Gg":"⋙","ggg":"⋙","gimel":"ℷ","GJcy":"Ѓ","gjcy":"ѓ","gla":"⪥","gl":"≷","glE":"⪒","glj":"⪤","gnap":"⪊","gnapprox":"⪊","gne":"⪈","gnE":"≩","gneq":"⪈","gneqq":"≩","gnsim":"⋧","Gopf":"𝔾","gopf":"𝕘","grave":"`","GreaterEqual":"≥","GreaterEqualLess":"⋛","GreaterFullEqual":"≧","GreaterGreater":"⪢","GreaterLess":"≷","GreaterSlantEqual":"⩾","GreaterTilde":"≳","Gscr":"𝒢","gscr":"ℊ","gsim":"≳","gsime":"⪎","gsiml":"⪐","gtcc":"⪧","gtcir":"⩺","gt":">","GT":">","Gt":"≫","gtdot":"⋗","gtlPar":"⦕","gtquest":"⩼","gtrapprox":"⪆","gtrarr":"⥸","gtrdot":"⋗","gtreqless":"⋛","gtreqqless":"⪌","gtrless":"≷","gtrsim":"≳","gvertneqq":"≩︀","gvnE":"≩︀","Hacek":"ˇ","hairsp":" ","half":"½","hamilt":"ℋ","HARDcy":"Ъ","hardcy":"ъ","harrcir":"⥈","harr":"↔","hArr":"⇔","harrw":"↭","Hat":"^","hbar":"ℏ","Hcirc":"Ĥ","hcirc":"ĥ","hearts":"♥","heartsuit":"♥","hellip":"…","hercon":"⊹","hfr":"𝔥","Hfr":"ℌ","HilbertSpace":"ℋ","hksearow":"⤥","hkswarow":"⤦","hoarr":"⇿","homtht":"∻","hookleftarrow":"↩","hookrightarrow":"↪","hopf":"𝕙","Hopf":"ℍ","horbar":"―","HorizontalLine":"─","hscr":"𝒽","Hscr":"ℋ","hslash":"ℏ","Hstrok":"Ħ","hstrok":"ħ","HumpDownHump":"≎","HumpEqual":"≏","hybull":"⁃","hyphen":"‐","Iacute":"Í","iacute":"í","ic":"⁣","Icirc":"Î","icirc":"î","Icy":"И","icy":"и","Idot":"İ","IEcy":"Е","iecy":"е","iexcl":"¡","iff":"⇔","ifr":"𝔦","Ifr":"ℑ","Igrave":"Ì","igrave":"ì","ii":"ⅈ","iiiint":"⨌","iiint":"∭","iinfin":"⧜","iiota":"℩","IJlig":"Ĳ","ijlig":"ĳ","Imacr":"Ī","imacr":"ī","image":"ℑ","ImaginaryI":"ⅈ","imagline":"ℐ","imagpart":"ℑ","imath":"ı","Im":"ℑ","imof":"⊷","imped":"Ƶ","Implies":"⇒","incare":"℅","in":"∈","infin":"∞","infintie":"⧝","inodot":"ı","intcal":"⊺","int":"∫","Int":"∬","integers":"ℤ","Integral":"∫","intercal":"⊺","Intersection":"⋂","intlarhk":"⨗","intprod":"⨼","InvisibleComma":"⁣","InvisibleTimes":"⁢","IOcy":"Ё","iocy":"ё","Iogon":"Į","iogon":"į","Iopf":"𝕀","iopf":"𝕚","Iota":"Ι","iota":"ι","iprod":"⨼","iquest":"¿","iscr":"𝒾","Iscr":"ℐ","isin":"∈","isindot":"⋵","isinE":"⋹","isins":"⋴","isinsv":"⋳","isinv":"∈","it":"⁢","Itilde":"Ĩ","itilde":"ĩ","Iukcy":"І","iukcy":"і","Iuml":"Ï","iuml":"ï","Jcirc":"Ĵ","jcirc":"ĵ","Jcy":"Й","jcy":"й","Jfr":"𝔍","jfr":"𝔧","jmath":"ȷ","Jopf":"𝕁","jopf":"𝕛","Jscr":"𝒥","jscr":"𝒿","Jsercy":"Ј","jsercy":"ј","Jukcy":"Є","jukcy":"є","Kappa":"Κ","kappa":"κ","kappav":"ϰ","Kcedil":"Ķ","kcedil":"ķ","Kcy":"К","kcy":"к","Kfr":"𝔎","kfr":"𝔨","kgreen":"ĸ","KHcy":"Х","khcy":"х","KJcy":"Ќ","kjcy":"ќ","Kopf":"𝕂","kopf":"𝕜","Kscr":"𝒦","kscr":"𝓀","lAarr":"⇚","Lacute":"Ĺ","lacute":"ĺ","laemptyv":"⦴","lagran":"ℒ","Lambda":"Λ","lambda":"λ","lang":"⟨","Lang":"⟪","langd":"⦑","langle":"⟨","lap":"⪅","Laplacetrf":"ℒ","laquo":"«","larrb":"⇤","larrbfs":"⤟","larr":"←","Larr":"↞","lArr":"⇐","larrfs":"⤝","larrhk":"↩","larrlp":"↫","larrpl":"⤹","larrsim":"⥳","larrtl":"↢","latail":"⤙","lAtail":"⤛","lat":"⪫","late":"⪭","lates":"⪭︀","lbarr":"⤌","lBarr":"⤎","lbbrk":"❲","lbrace":"{","lbrack":"[","lbrke":"⦋","lbrksld":"⦏","lbrkslu":"⦍","Lcaron":"Ľ","lcaron":"ľ","Lcedil":"Ļ","lcedil":"ļ","lceil":"⌈","lcub":"{","Lcy":"Л","lcy":"л","ldca":"⤶","ldquo":"“","ldquor":"„","ldrdhar":"⥧","ldrushar":"⥋","ldsh":"↲","le":"≤","lE":"≦","LeftAngleBracket":"⟨","LeftArrowBar":"⇤","leftarrow":"←","LeftArrow":"←","Leftarrow":"⇐","LeftArrowRightArrow":"⇆","leftarrowtail":"↢","LeftCeiling":"⌈","LeftDoubleBracket":"⟦","LeftDownTeeVector":"⥡","LeftDownVectorBar":"⥙","LeftDownVector":"⇃","LeftFloor":"⌊","leftharpoondown":"↽","leftharpoonup":"↼","leftleftarrows":"⇇","leftrightarrow":"↔","LeftRightArrow":"↔","Leftrightarrow":"⇔","leftrightarrows":"⇆","leftrightharpoons":"⇋","leftrightsquigarrow":"↭","LeftRightVector":"⥎","LeftTeeArrow":"↤","LeftTee":"⊣","LeftTeeVector":"⥚","leftthreetimes":"⋋","LeftTriangleBar":"⧏","LeftTriangle":"⊲","LeftTriangleEqual":"⊴","LeftUpDownVector":"⥑","LeftUpTeeVector":"⥠","LeftUpVectorBar":"⥘","LeftUpVector":"↿","LeftVectorBar":"⥒","LeftVector":"↼","lEg":"⪋","leg":"⋚","leq":"≤","leqq":"≦","leqslant":"⩽","lescc":"⪨","les":"⩽","lesdot":"⩿","lesdoto":"⪁","lesdotor":"⪃","lesg":"⋚︀","lesges":"⪓","lessapprox":"⪅","lessdot":"⋖","lesseqgtr":"⋚","lesseqqgtr":"⪋","LessEqualGreater":"⋚","LessFullEqual":"≦","LessGreater":"≶","lessgtr":"≶","LessLess":"⪡","lesssim":"≲","LessSlantEqual":"⩽","LessTilde":"≲","lfisht":"⥼","lfloor":"⌊","Lfr":"𝔏","lfr":"𝔩","lg":"≶","lgE":"⪑","lHar":"⥢","lhard":"↽","lharu":"↼","lharul":"⥪","lhblk":"▄","LJcy":"Љ","ljcy":"љ","llarr":"⇇","ll":"≪","Ll":"⋘","llcorner":"⌞","Lleftarrow":"⇚","llhard":"⥫","lltri":"◺","Lmidot":"Ŀ","lmidot":"ŀ","lmoustache":"⎰","lmoust":"⎰","lnap":"⪉","lnapprox":"⪉","lne":"⪇","lnE":"≨","lneq":"⪇","lneqq":"≨","lnsim":"⋦","loang":"⟬","loarr":"⇽","lobrk":"⟦","longleftarrow":"⟵","LongLeftArrow":"⟵","Longleftarrow":"⟸","longleftrightarrow":"⟷","LongLeftRightArrow":"⟷","Longleftrightarrow":"⟺","longmapsto":"⟼","longrightarrow":"⟶","LongRightArrow":"⟶","Longrightarrow":"⟹","looparrowleft":"↫","looparrowright":"↬","lopar":"⦅","Lopf":"𝕃","lopf":"𝕝","loplus":"⨭","lotimes":"⨴","lowast":"∗","lowbar":"_","LowerLeftArrow":"↙","LowerRightArrow":"↘","loz":"◊","lozenge":"◊","lozf":"⧫","lpar":"(","lparlt":"⦓","lrarr":"⇆","lrcorner":"⌟","lrhar":"⇋","lrhard":"⥭","lrm":"‎","lrtri":"⊿","lsaquo":"‹","lscr":"𝓁","Lscr":"ℒ","lsh":"↰","Lsh":"↰","lsim":"≲","lsime":"⪍","lsimg":"⪏","lsqb":"[","lsquo":"‘","lsquor":"‚","Lstrok":"Ł","lstrok":"ł","ltcc":"⪦","ltcir":"⩹","lt":"<","LT":"<","Lt":"≪","ltdot":"⋖","lthree":"⋋","ltimes":"⋉","ltlarr":"⥶","ltquest":"⩻","ltri":"◃","ltrie":"⊴","ltrif":"◂","ltrPar":"⦖","lurdshar":"⥊","luruhar":"⥦","lvertneqq":"≨︀","lvnE":"≨︀","macr":"¯","male":"♂","malt":"✠","maltese":"✠","Map":"⤅","map":"↦","mapsto":"↦","mapstodown":"↧","mapstoleft":"↤","mapstoup":"↥","marker":"▮","mcomma":"⨩","Mcy":"М","mcy":"м","mdash":"—","mDDot":"∺","measuredangle":"∡","MediumSpace":" ","Mellintrf":"ℳ","Mfr":"𝔐","mfr":"𝔪","mho":"℧","micro":"µ","midast":"*","midcir":"⫰","mid":"∣","middot":"·","minusb":"⊟","minus":"−","minusd":"∸","minusdu":"⨪","MinusPlus":"∓","mlcp":"⫛","mldr":"…","mnplus":"∓","models":"⊧","Mopf":"𝕄","mopf":"𝕞","mp":"∓","mscr":"𝓂","Mscr":"ℳ","mstpos":"∾","Mu":"Μ","mu":"μ","multimap":"⊸","mumap":"⊸","nabla":"∇","Nacute":"Ń","nacute":"ń","nang":"∠⃒","nap":"≉","napE":"⩰̸","napid":"≋̸","napos":"ŉ","napprox":"≉","natural":"♮","naturals":"ℕ","natur":"♮","nbsp":" ","nbump":"≎̸","nbumpe":"≏̸","ncap":"⩃","Ncaron":"Ň","ncaron":"ň","Ncedil":"Ņ","ncedil":"ņ","ncong":"≇","ncongdot":"⩭̸","ncup":"⩂","Ncy":"Н","ncy":"н","ndash":"–","nearhk":"⤤","nearr":"↗","neArr":"⇗","nearrow":"↗","ne":"≠","nedot":"≐̸","NegativeMediumSpace":"​","NegativeThickSpace":"​","NegativeThinSpace":"​","NegativeVeryThinSpace":"​","nequiv":"≢","nesear":"⤨","nesim":"≂̸","NestedGreaterGreater":"≫","NestedLessLess":"≪","NewLine":"\\n","nexist":"∄","nexists":"∄","Nfr":"𝔑","nfr":"𝔫","ngE":"≧̸","nge":"≱","ngeq":"≱","ngeqq":"≧̸","ngeqslant":"⩾̸","nges":"⩾̸","nGg":"⋙̸","ngsim":"≵","nGt":"≫⃒","ngt":"≯","ngtr":"≯","nGtv":"≫̸","nharr":"↮","nhArr":"⇎","nhpar":"⫲","ni":"∋","nis":"⋼","nisd":"⋺","niv":"∋","NJcy":"Њ","njcy":"њ","nlarr":"↚","nlArr":"⇍","nldr":"‥","nlE":"≦̸","nle":"≰","nleftarrow":"↚","nLeftarrow":"⇍","nleftrightarrow":"↮","nLeftrightarrow":"⇎","nleq":"≰","nleqq":"≦̸","nleqslant":"⩽̸","nles":"⩽̸","nless":"≮","nLl":"⋘̸","nlsim":"≴","nLt":"≪⃒","nlt":"≮","nltri":"⋪","nltrie":"⋬","nLtv":"≪̸","nmid":"∤","NoBreak":"⁠","NonBreakingSpace":" ","nopf":"𝕟","Nopf":"ℕ","Not":"⫬","not":"¬","NotCongruent":"≢","NotCupCap":"≭","NotDoubleVerticalBar":"∦","NotElement":"∉","NotEqual":"≠","NotEqualTilde":"≂̸","NotExists":"∄","NotGreater":"≯","NotGreaterEqual":"≱","NotGreaterFullEqual":"≧̸","NotGreaterGreater":"≫̸","NotGreaterLess":"≹","NotGreaterSlantEqual":"⩾̸","NotGreaterTilde":"≵","NotHumpDownHump":"≎̸","NotHumpEqual":"≏̸","notin":"∉","notindot":"⋵̸","notinE":"⋹̸","notinva":"∉","notinvb":"⋷","notinvc":"⋶","NotLeftTriangleBar":"⧏̸","NotLeftTriangle":"⋪","NotLeftTriangleEqual":"⋬","NotLess":"≮","NotLessEqual":"≰","NotLessGreater":"≸","NotLessLess":"≪̸","NotLessSlantEqual":"⩽̸","NotLessTilde":"≴","NotNestedGreaterGreater":"⪢̸","NotNestedLessLess":"⪡̸","notni":"∌","notniva":"∌","notnivb":"⋾","notnivc":"⋽","NotPrecedes":"⊀","NotPrecedesEqual":"⪯̸","NotPrecedesSlantEqual":"⋠","NotReverseElement":"∌","NotRightTriangleBar":"⧐̸","NotRightTriangle":"⋫","NotRightTriangleEqual":"⋭","NotSquareSubset":"⊏̸","NotSquareSubsetEqual":"⋢","NotSquareSuperset":"⊐̸","NotSquareSupersetEqual":"⋣","NotSubset":"⊂⃒","NotSubsetEqual":"⊈","NotSucceeds":"⊁","NotSucceedsEqual":"⪰̸","NotSucceedsSlantEqual":"⋡","NotSucceedsTilde":"≿̸","NotSuperset":"⊃⃒","NotSupersetEqual":"⊉","NotTilde":"≁","NotTildeEqual":"≄","NotTildeFullEqual":"≇","NotTildeTilde":"≉","NotVerticalBar":"∤","nparallel":"∦","npar":"∦","nparsl":"⫽⃥","npart":"∂̸","npolint":"⨔","npr":"⊀","nprcue":"⋠","nprec":"⊀","npreceq":"⪯̸","npre":"⪯̸","nrarrc":"⤳̸","nrarr":"↛","nrArr":"⇏","nrarrw":"↝̸","nrightarrow":"↛","nRightarrow":"⇏","nrtri":"⋫","nrtrie":"⋭","nsc":"⊁","nsccue":"⋡","nsce":"⪰̸","Nscr":"𝒩","nscr":"𝓃","nshortmid":"∤","nshortparallel":"∦","nsim":"≁","nsime":"≄","nsimeq":"≄","nsmid":"∤","nspar":"∦","nsqsube":"⋢","nsqsupe":"⋣","nsub":"⊄","nsubE":"⫅̸","nsube":"⊈","nsubset":"⊂⃒","nsubseteq":"⊈","nsubseteqq":"⫅̸","nsucc":"⊁","nsucceq":"⪰̸","nsup":"⊅","nsupE":"⫆̸","nsupe":"⊉","nsupset":"⊃⃒","nsupseteq":"⊉","nsupseteqq":"⫆̸","ntgl":"≹","Ntilde":"Ñ","ntilde":"ñ","ntlg":"≸","ntriangleleft":"⋪","ntrianglelefteq":"⋬","ntriangleright":"⋫","ntrianglerighteq":"⋭","Nu":"Ν","nu":"ν","num":"#","numero":"№","numsp":" ","nvap":"≍⃒","nvdash":"⊬","nvDash":"⊭","nVdash":"⊮","nVDash":"⊯","nvge":"≥⃒","nvgt":">⃒","nvHarr":"⤄","nvinfin":"⧞","nvlArr":"⤂","nvle":"≤⃒","nvlt":"<⃒","nvltrie":"⊴⃒","nvrArr":"⤃","nvrtrie":"⊵⃒","nvsim":"∼⃒","nwarhk":"⤣","nwarr":"↖","nwArr":"⇖","nwarrow":"↖","nwnear":"⤧","Oacute":"Ó","oacute":"ó","oast":"⊛","Ocirc":"Ô","ocirc":"ô","ocir":"⊚","Ocy":"О","ocy":"о","odash":"⊝","Odblac":"Ő","odblac":"ő","odiv":"⨸","odot":"⊙","odsold":"⦼","OElig":"Œ","oelig":"œ","ofcir":"⦿","Ofr":"𝔒","ofr":"𝔬","ogon":"˛","Ograve":"Ò","ograve":"ò","ogt":"⧁","ohbar":"⦵","ohm":"Ω","oint":"∮","olarr":"↺","olcir":"⦾","olcross":"⦻","oline":"‾","olt":"⧀","Omacr":"Ō","omacr":"ō","Omega":"Ω","omega":"ω","Omicron":"Ο","omicron":"ο","omid":"⦶","ominus":"⊖","Oopf":"𝕆","oopf":"𝕠","opar":"⦷","OpenCurlyDoubleQuote":"“","OpenCurlyQuote":"‘","operp":"⦹","oplus":"⊕","orarr":"↻","Or":"⩔","or":"∨","ord":"⩝","order":"ℴ","orderof":"ℴ","ordf":"ª","ordm":"º","origof":"⊶","oror":"⩖","orslope":"⩗","orv":"⩛","oS":"Ⓢ","Oscr":"𝒪","oscr":"ℴ","Oslash":"Ø","oslash":"ø","osol":"⊘","Otilde":"Õ","otilde":"õ","otimesas":"⨶","Otimes":"⨷","otimes":"⊗","Ouml":"Ö","ouml":"ö","ovbar":"⌽","OverBar":"‾","OverBrace":"⏞","OverBracket":"⎴","OverParenthesis":"⏜","para":"¶","parallel":"∥","par":"∥","parsim":"⫳","parsl":"⫽","part":"∂","PartialD":"∂","Pcy":"П","pcy":"п","percnt":"%","period":".","permil":"‰","perp":"⊥","pertenk":"‱","Pfr":"𝔓","pfr":"𝔭","Phi":"Φ","phi":"φ","phiv":"ϕ","phmmat":"ℳ","phone":"☎","Pi":"Π","pi":"π","pitchfork":"⋔","piv":"ϖ","planck":"ℏ","planckh":"ℎ","plankv":"ℏ","plusacir":"⨣","plusb":"⊞","pluscir":"⨢","plus":"+","plusdo":"∔","plusdu":"⨥","pluse":"⩲","PlusMinus":"±","plusmn":"±","plussim":"⨦","plustwo":"⨧","pm":"±","Poincareplane":"ℌ","pointint":"⨕","popf":"𝕡","Popf":"ℙ","pound":"£","prap":"⪷","Pr":"⪻","pr":"≺","prcue":"≼","precapprox":"⪷","prec":"≺","preccurlyeq":"≼","Precedes":"≺","PrecedesEqual":"⪯","PrecedesSlantEqual":"≼","PrecedesTilde":"≾","preceq":"⪯","precnapprox":"⪹","precneqq":"⪵","precnsim":"⋨","pre":"⪯","prE":"⪳","precsim":"≾","prime":"′","Prime":"″","primes":"ℙ","prnap":"⪹","prnE":"⪵","prnsim":"⋨","prod":"∏","Product":"∏","profalar":"⌮","profline":"⌒","profsurf":"⌓","prop":"∝","Proportional":"∝","Proportion":"∷","propto":"∝","prsim":"≾","prurel":"⊰","Pscr":"𝒫","pscr":"𝓅","Psi":"Ψ","psi":"ψ","puncsp":" ","Qfr":"𝔔","qfr":"𝔮","qint":"⨌","qopf":"𝕢","Qopf":"ℚ","qprime":"⁗","Qscr":"𝒬","qscr":"𝓆","quaternions":"ℍ","quatint":"⨖","quest":"?","questeq":"≟","quot":"\\"","QUOT":"\\"","rAarr":"⇛","race":"∽̱","Racute":"Ŕ","racute":"ŕ","radic":"√","raemptyv":"⦳","rang":"⟩","Rang":"⟫","rangd":"⦒","range":"⦥","rangle":"⟩","raquo":"»","rarrap":"⥵","rarrb":"⇥","rarrbfs":"⤠","rarrc":"⤳","rarr":"→","Rarr":"↠","rArr":"⇒","rarrfs":"⤞","rarrhk":"↪","rarrlp":"↬","rarrpl":"⥅","rarrsim":"⥴","Rarrtl":"⤖","rarrtl":"↣","rarrw":"↝","ratail":"⤚","rAtail":"⤜","ratio":"∶","rationals":"ℚ","rbarr":"⤍","rBarr":"⤏","RBarr":"⤐","rbbrk":"❳","rbrace":"}","rbrack":"]","rbrke":"⦌","rbrksld":"⦎","rbrkslu":"⦐","Rcaron":"Ř","rcaron":"ř","Rcedil":"Ŗ","rcedil":"ŗ","rceil":"⌉","rcub":"}","Rcy":"Р","rcy":"р","rdca":"⤷","rdldhar":"⥩","rdquo":"”","rdquor":"”","rdsh":"↳","real":"ℜ","realine":"ℛ","realpart":"ℜ","reals":"ℝ","Re":"ℜ","rect":"▭","reg":"®","REG":"®","ReverseElement":"∋","ReverseEquilibrium":"⇋","ReverseUpEquilibrium":"⥯","rfisht":"⥽","rfloor":"⌋","rfr":"𝔯","Rfr":"ℜ","rHar":"⥤","rhard":"⇁","rharu":"⇀","rharul":"⥬","Rho":"Ρ","rho":"ρ","rhov":"ϱ","RightAngleBracket":"⟩","RightArrowBar":"⇥","rightarrow":"→","RightArrow":"→","Rightarrow":"⇒","RightArrowLeftArrow":"⇄","rightarrowtail":"↣","RightCeiling":"⌉","RightDoubleBracket":"⟧","RightDownTeeVector":"⥝","RightDownVectorBar":"⥕","RightDownVector":"⇂","RightFloor":"⌋","rightharpoondown":"⇁","rightharpoonup":"⇀","rightleftarrows":"⇄","rightleftharpoons":"⇌","rightrightarrows":"⇉","rightsquigarrow":"↝","RightTeeArrow":"↦","RightTee":"⊢","RightTeeVector":"⥛","rightthreetimes":"⋌","RightTriangleBar":"⧐","RightTriangle":"⊳","RightTriangleEqual":"⊵","RightUpDownVector":"⥏","RightUpTeeVector":"⥜","RightUpVectorBar":"⥔","RightUpVector":"↾","RightVectorBar":"⥓","RightVector":"⇀","ring":"˚","risingdotseq":"≓","rlarr":"⇄","rlhar":"⇌","rlm":"‏","rmoustache":"⎱","rmoust":"⎱","rnmid":"⫮","roang":"⟭","roarr":"⇾","robrk":"⟧","ropar":"⦆","ropf":"𝕣","Ropf":"ℝ","roplus":"⨮","rotimes":"⨵","RoundImplies":"⥰","rpar":")","rpargt":"⦔","rppolint":"⨒","rrarr":"⇉","Rrightarrow":"⇛","rsaquo":"›","rscr":"𝓇","Rscr":"ℛ","rsh":"↱","Rsh":"↱","rsqb":"]","rsquo":"’","rsquor":"’","rthree":"⋌","rtimes":"⋊","rtri":"▹","rtrie":"⊵","rtrif":"▸","rtriltri":"⧎","RuleDelayed":"⧴","ruluhar":"⥨","rx":"℞","Sacute":"Ś","sacute":"ś","sbquo":"‚","scap":"⪸","Scaron":"Š","scaron":"š","Sc":"⪼","sc":"≻","sccue":"≽","sce":"⪰","scE":"⪴","Scedil":"Ş","scedil":"ş","Scirc":"Ŝ","scirc":"ŝ","scnap":"⪺","scnE":"⪶","scnsim":"⋩","scpolint":"⨓","scsim":"≿","Scy":"С","scy":"с","sdotb":"⊡","sdot":"⋅","sdote":"⩦","searhk":"⤥","searr":"↘","seArr":"⇘","searrow":"↘","sect":"§","semi":";","seswar":"⤩","setminus":"∖","setmn":"∖","sext":"✶","Sfr":"𝔖","sfr":"𝔰","sfrown":"⌢","sharp":"♯","SHCHcy":"Щ","shchcy":"щ","SHcy":"Ш","shcy":"ш","ShortDownArrow":"↓","ShortLeftArrow":"←","shortmid":"∣","shortparallel":"∥","ShortRightArrow":"→","ShortUpArrow":"↑","shy":"­","Sigma":"Σ","sigma":"σ","sigmaf":"ς","sigmav":"ς","sim":"∼","simdot":"⩪","sime":"≃","simeq":"≃","simg":"⪞","simgE":"⪠","siml":"⪝","simlE":"⪟","simne":"≆","simplus":"⨤","simrarr":"⥲","slarr":"←","SmallCircle":"∘","smallsetminus":"∖","smashp":"⨳","smeparsl":"⧤","smid":"∣","smile":"⌣","smt":"⪪","smte":"⪬","smtes":"⪬︀","SOFTcy":"Ь","softcy":"ь","solbar":"⌿","solb":"⧄","sol":"/","Sopf":"𝕊","sopf":"𝕤","spades":"♠","spadesuit":"♠","spar":"∥","sqcap":"⊓","sqcaps":"⊓︀","sqcup":"⊔","sqcups":"⊔︀","Sqrt":"√","sqsub":"⊏","sqsube":"⊑","sqsubset":"⊏","sqsubseteq":"⊑","sqsup":"⊐","sqsupe":"⊒","sqsupset":"⊐","sqsupseteq":"⊒","square":"□","Square":"□","SquareIntersection":"⊓","SquareSubset":"⊏","SquareSubsetEqual":"⊑","SquareSuperset":"⊐","SquareSupersetEqual":"⊒","SquareUnion":"⊔","squarf":"▪","squ":"□","squf":"▪","srarr":"→","Sscr":"𝒮","sscr":"𝓈","ssetmn":"∖","ssmile":"⌣","sstarf":"⋆","Star":"⋆","star":"☆","starf":"★","straightepsilon":"ϵ","straightphi":"ϕ","strns":"¯","sub":"⊂","Sub":"⋐","subdot":"⪽","subE":"⫅","sube":"⊆","subedot":"⫃","submult":"⫁","subnE":"⫋","subne":"⊊","subplus":"⪿","subrarr":"⥹","subset":"⊂","Subset":"⋐","subseteq":"⊆","subseteqq":"⫅","SubsetEqual":"⊆","subsetneq":"⊊","subsetneqq":"⫋","subsim":"⫇","subsub":"⫕","subsup":"⫓","succapprox":"⪸","succ":"≻","succcurlyeq":"≽","Succeeds":"≻","SucceedsEqual":"⪰","SucceedsSlantEqual":"≽","SucceedsTilde":"≿","succeq":"⪰","succnapprox":"⪺","succneqq":"⪶","succnsim":"⋩","succsim":"≿","SuchThat":"∋","sum":"∑","Sum":"∑","sung":"♪","sup1":"¹","sup2":"²","sup3":"³","sup":"⊃","Sup":"⋑","supdot":"⪾","supdsub":"⫘","supE":"⫆","supe":"⊇","supedot":"⫄","Superset":"⊃","SupersetEqual":"⊇","suphsol":"⟉","suphsub":"⫗","suplarr":"⥻","supmult":"⫂","supnE":"⫌","supne":"⊋","supplus":"⫀","supset":"⊃","Supset":"⋑","supseteq":"⊇","supseteqq":"⫆","supsetneq":"⊋","supsetneqq":"⫌","supsim":"⫈","supsub":"⫔","supsup":"⫖","swarhk":"⤦","swarr":"↙","swArr":"⇙","swarrow":"↙","swnwar":"⤪","szlig":"ß","Tab":"\\t","target":"⌖","Tau":"Τ","tau":"τ","tbrk":"⎴","Tcaron":"Ť","tcaron":"ť","Tcedil":"Ţ","tcedil":"ţ","Tcy":"Т","tcy":"т","tdot":"⃛","telrec":"⌕","Tfr":"𝔗","tfr":"𝔱","there4":"∴","therefore":"∴","Therefore":"∴","Theta":"Θ","theta":"θ","thetasym":"ϑ","thetav":"ϑ","thickapprox":"≈","thicksim":"∼","ThickSpace":"  ","ThinSpace":" ","thinsp":" ","thkap":"≈","thksim":"∼","THORN":"Þ","thorn":"þ","tilde":"˜","Tilde":"∼","TildeEqual":"≃","TildeFullEqual":"≅","TildeTilde":"≈","timesbar":"⨱","timesb":"⊠","times":"×","timesd":"⨰","tint":"∭","toea":"⤨","topbot":"⌶","topcir":"⫱","top":"⊤","Topf":"𝕋","topf":"𝕥","topfork":"⫚","tosa":"⤩","tprime":"‴","trade":"™","TRADE":"™","triangle":"▵","triangledown":"▿","triangleleft":"◃","trianglelefteq":"⊴","triangleq":"≜","triangleright":"▹","trianglerighteq":"⊵","tridot":"◬","trie":"≜","triminus":"⨺","TripleDot":"⃛","triplus":"⨹","trisb":"⧍","tritime":"⨻","trpezium":"⏢","Tscr":"𝒯","tscr":"𝓉","TScy":"Ц","tscy":"ц","TSHcy":"Ћ","tshcy":"ћ","Tstrok":"Ŧ","tstrok":"ŧ","twixt":"≬","twoheadleftarrow":"↞","twoheadrightarrow":"↠","Uacute":"Ú","uacute":"ú","uarr":"↑","Uarr":"↟","uArr":"⇑","Uarrocir":"⥉","Ubrcy":"Ў","ubrcy":"ў","Ubreve":"Ŭ","ubreve":"ŭ","Ucirc":"Û","ucirc":"û","Ucy":"У","ucy":"у","udarr":"⇅","Udblac":"Ű","udblac":"ű","udhar":"⥮","ufisht":"⥾","Ufr":"𝔘","ufr":"𝔲","Ugrave":"Ù","ugrave":"ù","uHar":"⥣","uharl":"↿","uharr":"↾","uhblk":"▀","ulcorn":"⌜","ulcorner":"⌜","ulcrop":"⌏","ultri":"◸","Umacr":"Ū","umacr":"ū","uml":"¨","UnderBar":"_","UnderBrace":"⏟","UnderBracket":"⎵","UnderParenthesis":"⏝","Union":"⋃","UnionPlus":"⊎","Uogon":"Ų","uogon":"ų","Uopf":"𝕌","uopf":"𝕦","UpArrowBar":"⤒","uparrow":"↑","UpArrow":"↑","Uparrow":"⇑","UpArrowDownArrow":"⇅","updownarrow":"↕","UpDownArrow":"↕","Updownarrow":"⇕","UpEquilibrium":"⥮","upharpoonleft":"↿","upharpoonright":"↾","uplus":"⊎","UpperLeftArrow":"↖","UpperRightArrow":"↗","upsi":"υ","Upsi":"ϒ","upsih":"ϒ","Upsilon":"Υ","upsilon":"υ","UpTeeArrow":"↥","UpTee":"⊥","upuparrows":"⇈","urcorn":"⌝","urcorner":"⌝","urcrop":"⌎","Uring":"Ů","uring":"ů","urtri":"◹","Uscr":"𝒰","uscr":"𝓊","utdot":"⋰","Utilde":"Ũ","utilde":"ũ","utri":"▵","utrif":"▴","uuarr":"⇈","Uuml":"Ü","uuml":"ü","uwangle":"⦧","vangrt":"⦜","varepsilon":"ϵ","varkappa":"ϰ","varnothing":"∅","varphi":"ϕ","varpi":"ϖ","varpropto":"∝","varr":"↕","vArr":"⇕","varrho":"ϱ","varsigma":"ς","varsubsetneq":"⊊︀","varsubsetneqq":"⫋︀","varsupsetneq":"⊋︀","varsupsetneqq":"⫌︀","vartheta":"ϑ","vartriangleleft":"⊲","vartriangleright":"⊳","vBar":"⫨","Vbar":"⫫","vBarv":"⫩","Vcy":"В","vcy":"в","vdash":"⊢","vDash":"⊨","Vdash":"⊩","VDash":"⊫","Vdashl":"⫦","veebar":"⊻","vee":"∨","Vee":"⋁","veeeq":"≚","vellip":"⋮","verbar":"|","Verbar":"‖","vert":"|","Vert":"‖","VerticalBar":"∣","VerticalLine":"|","VerticalSeparator":"❘","VerticalTilde":"≀","VeryThinSpace":" ","Vfr":"𝔙","vfr":"𝔳","vltri":"⊲","vnsub":"⊂⃒","vnsup":"⊃⃒","Vopf":"𝕍","vopf":"𝕧","vprop":"∝","vrtri":"⊳","Vscr":"𝒱","vscr":"𝓋","vsubnE":"⫋︀","vsubne":"⊊︀","vsupnE":"⫌︀","vsupne":"⊋︀","Vvdash":"⊪","vzigzag":"⦚","Wcirc":"Ŵ","wcirc":"ŵ","wedbar":"⩟","wedge":"∧","Wedge":"⋀","wedgeq":"≙","weierp":"℘","Wfr":"𝔚","wfr":"𝔴","Wopf":"𝕎","wopf":"𝕨","wp":"℘","wr":"≀","wreath":"≀","Wscr":"𝒲","wscr":"𝓌","xcap":"⋂","xcirc":"◯","xcup":"⋃","xdtri":"▽","Xfr":"𝔛","xfr":"𝔵","xharr":"⟷","xhArr":"⟺","Xi":"Ξ","xi":"ξ","xlarr":"⟵","xlArr":"⟸","xmap":"⟼","xnis":"⋻","xodot":"⨀","Xopf":"𝕏","xopf":"𝕩","xoplus":"⨁","xotime":"⨂","xrarr":"⟶","xrArr":"⟹","Xscr":"𝒳","xscr":"𝓍","xsqcup":"⨆","xuplus":"⨄","xutri":"△","xvee":"⋁","xwedge":"⋀","Yacute":"Ý","yacute":"ý","YAcy":"Я","yacy":"я","Ycirc":"Ŷ","ycirc":"ŷ","Ycy":"Ы","ycy":"ы","yen":"¥","Yfr":"𝔜","yfr":"𝔶","YIcy":"Ї","yicy":"ї","Yopf":"𝕐","yopf":"𝕪","Yscr":"𝒴","yscr":"𝓎","YUcy":"Ю","yucy":"ю","yuml":"ÿ","Yuml":"Ÿ","Zacute":"Ź","zacute":"ź","Zcaron":"Ž","zcaron":"ž","Zcy":"З","zcy":"з","Zdot":"Ż","zdot":"ż","zeetrf":"ℨ","ZeroWidthSpace":"​","Zeta":"Ζ","zeta":"ζ","zfr":"𝔷","Zfr":"ℨ","ZHcy":"Ж","zhcy":"ж","zigrarr":"⇝","zopf":"𝕫","Zopf":"ℤ","Zscr":"𝒵","zscr":"𝓏","zwj":"‍","zwnj":"‌"}')},function(t,e,n){"use strict";var r={};function i(t,e,n){var o,s,a,c,u,l="";for("string"!=typeof e&&(n=e,e=i.defaultChars),void 0===n&&(n=!0),u=function(t){var e,n,i=r[t];if(i)return i;for(i=r[t]=[],e=0;e<128;e++)n=String.fromCharCode(e),/^[0-9a-z]$/i.test(n)?i.push(n):i.push("%"+("0"+e.toString(16).toUpperCase()).slice(-2));for(e=0;e<t.length;e++)i[t.charCodeAt(e)]=t[e];return i}(e),o=0,s=t.length;o<s;o++)if(a=t.charCodeAt(o),n&&37===a&&o+2<s&&/^[0-9a-f]{2}$/i.test(t.slice(o+1,o+3)))l+=t.slice(o,o+3),o+=2;else if(a<128)l+=u[a];else if(a>=55296&&a<=57343){if(a>=55296&&a<=56319&&o+1<s&&(c=t.charCodeAt(o+1))>=56320&&c<=57343){l+=encodeURIComponent(t[o]+t[o+1]),o++;continue}l+="%EF%BF%BD"}else l+=encodeURIComponent(t[o]);return l}i.defaultChars=";/?:@&=+$,-_.!~*'()#",i.componentChars="-_.!~*'()",t.exports=i},function(t,e,n){"use strict";var r={};function i(t,e){var n;return"string"!=typeof e&&(e=i.defaultChars),n=function(t){var e,n,i=r[t];if(i)return i;for(i=r[t]=[],e=0;e<128;e++)n=String.fromCharCode(e),i.push(n);for(e=0;e<t.length;e++)i[n=t.charCodeAt(e)]="%"+("0"+n.toString(16).toUpperCase()).slice(-2);return i}(e),t.replace(/(%[a-f0-9]{2})+/gi,(function(t){var e,r,i,o,s,a,c,u="";for(e=0,r=t.length;e<r;e+=3)(i=parseInt(t.slice(e+1,e+3),16))<128?u+=n[i]:192==(224&i)&&e+3<r&&128==(192&(o=parseInt(t.slice(e+4,e+6),16)))?(u+=(c=i<<6&1984|63&o)<128?"��":String.fromCharCode(c),e+=3):224==(240&i)&&e+6<r&&(o=parseInt(t.slice(e+4,e+6),16),s=parseInt(t.slice(e+7,e+9),16),128==(192&o)&&128==(192&s))?(u+=(c=i<<12&61440|o<<6&4032|63&s)<2048||c>=55296&&c<=57343?"���":String.fromCharCode(c),e+=6):240==(248&i)&&e+9<r&&(o=parseInt(t.slice(e+4,e+6),16),s=parseInt(t.slice(e+7,e+9),16),a=parseInt(t.slice(e+10,e+12),16),128==(192&o)&&128==(192&s)&&128==(192&a))?((c=i<<18&1835008|o<<12&258048|s<<6&4032|63&a)<65536||c>1114111?u+="����":(c-=65536,u+=String.fromCharCode(55296+(c>>10),56320+(1023&c))),e+=9):u+="�";return u}))}i.defaultChars=";/?:@&=+$,#",i.componentChars="",t.exports=i},function(t,e,n){"use strict";t.exports=function(t){var e="";return e+=t.protocol||"",e+=t.slashes?"//":"",e+=t.auth?t.auth+"@":"",t.hostname&&-1!==t.hostname.indexOf(":")?e+="["+t.hostname+"]":e+=t.hostname||"",e+=t.port?":"+t.port:"",e+=t.pathname||"",e+=t.search||"",e+=t.hash||""}},function(t,e,n){"use strict";function r(){this.protocol=null,this.slashes=null,this.auth=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.pathname=null}var i=/^([a-z0-9.+-]+:)/i,o=/:[0-9]*$/,s=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,a=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),c=["'"].concat(a),u=["%","/","?",";","#"].concat(c),l=["/","?","#"],h=/^[+a-z0-9A-Z_-]{0,63}$/,f=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,p={javascript:!0,"javascript:":!0},d={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0};r.prototype.parse=function(t,e){var n,r,o,a,c,y=t;if(y=y.trim(),!e&&1===t.split("#").length){var m=s.exec(y);if(m)return this.pathname=m[1],m[2]&&(this.search=m[2]),this}var g=i.exec(y);if(g&&(o=(g=g[0]).toLowerCase(),this.protocol=g,y=y.substr(g.length)),(e||g||y.match(/^\/\/[^@\/]+@[^@\/]+/))&&(!(c="//"===y.substr(0,2))||g&&p[g]||(y=y.substr(2),this.slashes=!0)),!p[g]&&(c||g&&!d[g])){var v,b,_=-1;for(n=0;n<l.length;n++)-1!==(a=y.indexOf(l[n]))&&(-1===_||a<_)&&(_=a);for(-1!==(b=-1===_?y.lastIndexOf("@"):y.lastIndexOf("@",_))&&(v=y.slice(0,b),y=y.slice(b+1),this.auth=v),_=-1,n=0;n<u.length;n++)-1!==(a=y.indexOf(u[n]))&&(-1===_||a<_)&&(_=a);-1===_&&(_=y.length),":"===y[_-1]&&_--;var w=y.slice(0,_);y=y.slice(_),this.parseHost(w),this.hostname=this.hostname||"";var k="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!k){var E=this.hostname.split(/\./);for(n=0,r=E.length;n<r;n++){var S=E[n];if(S&&!S.match(h)){for(var C="",x=0,A=S.length;x<A;x++)S.charCodeAt(x)>127?C+="x":C+=S[x];if(!C.match(h)){var T=E.slice(0,n),F=E.slice(n+1),O=S.match(f);O&&(T.push(O[1]),F.unshift(O[2])),F.length&&(y=F.join(".")+y),this.hostname=T.join(".");break}}}}this.hostname.length>255&&(this.hostname=""),k&&(this.hostname=this.hostname.substr(1,this.hostname.length-2))}var D=y.indexOf("#");-1!==D&&(this.hash=y.substr(D),y=y.slice(0,D));var L=y.indexOf("?");return-1!==L&&(this.search=y.substr(L),y=y.slice(0,L)),y&&(this.pathname=y),d[o]&&this.hostname&&!this.pathname&&(this.pathname=""),this},r.prototype.parseHost=function(t){var e=o.exec(t);e&&(":"!==(e=e[0])&&(this.port=e.substr(1)),t=t.substr(0,t.length-e.length)),t&&(this.hostname=t)},t.exports=function(t,e){if(t&&t instanceof r)return t;var n=new r;return n.parse(t,e),n}},function(t,e,n){"use strict";e.Any=n(261),e.Cc=n(262),e.Cf=n(383),e.P=n(214),e.Z=n(263)},function(t,e){t.exports=/[\xAD\u0600-\u0605\u061C\u06DD\u070F\u08E2\u180E\u200B-\u200F\u202A-\u202E\u2060-\u2064\u2066-\u206F\uFEFF\uFFF9-\uFFFB]|\uD804[\uDCBD\uDCCD]|\uD82F[\uDCA0-\uDCA3]|\uD834[\uDD73-\uDD7A]|\uDB40[\uDC01\uDC20-\uDC7F]/},function(t,e,n){"use strict";e.parseLinkLabel=n(385),e.parseLinkDestination=n(386),e.parseLinkTitle=n(387)},function(t,e,n){"use strict";t.exports=function(t,e,n){var r,i,o,s,a=-1,c=t.posMax,u=t.pos;for(t.pos=e+1,r=1;t.pos<c;){if(93===(o=t.src.charCodeAt(t.pos))&&0===--r){i=!0;break}if(s=t.pos,t.md.inline.skipToken(t),91===o)if(s===t.pos-1)r++;else if(n)return t.pos=u,-1}return i&&(a=t.pos),t.pos=u,a}},function(t,e,n){"use strict";var r=n(45).unescapeAll;t.exports=function(t,e,n){var i,o,s=e,a={ok:!1,pos:0,lines:0,str:""};if(60===t.charCodeAt(e)){for(e++;e<n;){if(10===(i=t.charCodeAt(e)))return a;if(62===i)return a.pos=e+1,a.str=r(t.slice(s+1,e)),a.ok=!0,a;92===i&&e+1<n?e+=2:e++}return a}for(o=0;e<n&&32!==(i=t.charCodeAt(e))&&!(i<32||127===i);)if(92===i&&e+1<n)e+=2;else{if(40===i&&o++,41===i){if(0===o)break;o--}e++}return s===e||0!==o||(a.str=r(t.slice(s,e)),a.lines=0,a.pos=e,a.ok=!0),a}},function(t,e,n){"use strict";var r=n(45).unescapeAll;t.exports=function(t,e,n){var i,o,s=0,a=e,c={ok:!1,pos:0,lines:0,str:""};if(e>=n)return c;if(34!==(o=t.charCodeAt(e))&&39!==o&&40!==o)return c;for(e++,40===o&&(o=41);e<n;){if((i=t.charCodeAt(e))===o)return c.pos=e+1,c.lines=s,c.str=r(t.slice(a+1,e)),c.ok=!0,c;10===i?s++:92===i&&e+1<n&&(e++,10===t.charCodeAt(e)&&s++),e++}return c}},function(t,e,n){"use strict";var r=n(45).assign,i=n(45).unescapeAll,o=n(45).escapeHtml,s={};function a(){this.rules=r({},s)}s.code_inline=function(t,e,n,r,i){var s=t[e];return"<code"+i.renderAttrs(s)+">"+o(t[e].content)+"</code>"},s.code_block=function(t,e,n,r,i){var s=t[e];return"<pre"+i.renderAttrs(s)+"><code>"+o(t[e].content)+"</code></pre>\n"},s.fence=function(t,e,n,r,s){var a,c,u,l,h=t[e],f=h.info?i(h.info).trim():"",p="";return f&&(p=f.split(/\s+/g)[0]),0===(a=n.highlight&&n.highlight(h.content,p)||o(h.content)).indexOf("<pre")?a+"\n":f?(c=h.attrIndex("class"),u=h.attrs?h.attrs.slice():[],c<0?u.push(["class",n.langPrefix+p]):u[c][1]+=" "+n.langPrefix+p,l={attrs:u},"<pre><code"+s.renderAttrs(l)+">"+a+"</code></pre>\n"):"<pre><code"+s.renderAttrs(h)+">"+a+"</code></pre>\n"},s.image=function(t,e,n,r,i){var o=t[e];return o.attrs[o.attrIndex("alt")][1]=i.renderInlineAsText(o.children,n,r),i.renderToken(t,e,n)},s.hardbreak=function(t,e,n){return n.xhtmlOut?"<br />\n":"<br>\n"},s.softbreak=function(t,e,n){return n.breaks?n.xhtmlOut?"<br />\n":"<br>\n":"\n"},s.text=function(t,e){return o(t[e].content)},s.html_block=function(t,e){return t[e].content},s.html_inline=function(t,e){return t[e].content},a.prototype.renderAttrs=function(t){var e,n,r;if(!t.attrs)return"";for(r="",e=0,n=t.attrs.length;e<n;e++)r+=" "+o(t.attrs[e][0])+'="'+o(t.attrs[e][1])+'"';return r},a.prototype.renderToken=function(t,e,n){var r,i="",o=!1,s=t[e];return s.hidden?"":(s.block&&-1!==s.nesting&&e&&t[e-1].hidden&&(i+="\n"),i+=(-1===s.nesting?"</":"<")+s.tag,i+=this.renderAttrs(s),0===s.nesting&&n.xhtmlOut&&(i+=" /"),s.block&&(o=!0,1===s.nesting&&e+1<t.length&&("inline"===(r=t[e+1]).type||r.hidden||-1===r.nesting&&r.tag===s.tag)&&(o=!1)),i+=o?">\n":">")},a.prototype.renderInline=function(t,e,n){for(var r,i="",o=this.rules,s=0,a=t.length;s<a;s++)void 0!==o[r=t[s].type]?i+=o[r](t,s,e,n,this):i+=this.renderToken(t,s,e);return i},a.prototype.renderInlineAsText=function(t,e,n){for(var r="",i=0,o=t.length;i<o;i++)"text"===t[i].type?r+=t[i].content:"image"===t[i].type&&(r+=this.renderInlineAsText(t[i].children,e,n));return r},a.prototype.render=function(t,e,n){var r,i,o,s="",a=this.rules;for(r=0,i=t.length;r<i;r++)"inline"===(o=t[r].type)?s+=this.renderInline(t[r].children,e,n):void 0!==a[o]?s+=a[t[r].type](t,r,e,n,this):s+=this.renderToken(t,r,e,n);return s},t.exports=a},function(t,e,n){"use strict";var r=n(215),i=[["normalize",n(390)],["block",n(391)],["inline",n(392)],["linkify",n(393)],["replacements",n(394)],["smartquotes",n(395)]];function o(){this.ruler=new r;for(var t=0;t<i.length;t++)this.ruler.push(i[t][0],i[t][1])}o.prototype.process=function(t){var e,n,r;for(e=0,n=(r=this.ruler.getRules("")).length;e<n;e++)r[e](t)},o.prototype.State=n(396),t.exports=o},function(t,e,n){"use strict";var r=/\r\n?|\n/g,i=/\0/g;t.exports=function(t){var e;e=(e=t.src.replace(r,"\n")).replace(i,"�"),t.src=e}},function(t,e,n){"use strict";t.exports=function(t){var e;t.inlineMode?((e=new t.Token("inline","",0)).content=t.src,e.map=[0,1],e.children=[],t.tokens.push(e)):t.md.block.parse(t.src,t.md,t.env,t.tokens)}},function(t,e,n){"use strict";t.exports=function(t){var e,n,r,i=t.tokens;for(n=0,r=i.length;n<r;n++)"inline"===(e=i[n]).type&&t.md.inline.parse(e.content,t.md,t.env,e.children)}},function(t,e,n){"use strict";var r=n(45).arrayReplaceAt;function i(t){return/^<\/a\s*>/i.test(t)}t.exports=function(t){var e,n,o,s,a,c,u,l,h,f,p,d,y,m,g,v,b,_,w=t.tokens;if(t.md.options.linkify)for(n=0,o=w.length;n<o;n++)if("inline"===w[n].type&&t.md.linkify.pretest(w[n].content))for(y=0,e=(s=w[n].children).length-1;e>=0;e--)if("link_close"!==(c=s[e]).type){if("html_inline"===c.type&&(_=c.content,/^<a[>\s]/i.test(_)&&y>0&&y--,i(c.content)&&y++),!(y>0)&&"text"===c.type&&t.md.linkify.test(c.content)){for(h=c.content,b=t.md.linkify.match(h),u=[],d=c.level,p=0,l=0;l<b.length;l++)m=b[l].url,g=t.md.normalizeLink(m),t.md.validateLink(g)&&(v=b[l].text,v=b[l].schema?"mailto:"!==b[l].schema||/^mailto:/i.test(v)?t.md.normalizeLinkText(v):t.md.normalizeLinkText("mailto:"+v).replace(/^mailto:/,""):t.md.normalizeLinkText("http://"+v).replace(/^http:\/\//,""),(f=b[l].index)>p&&((a=new t.Token("text","",0)).content=h.slice(p,f),a.level=d,u.push(a)),(a=new t.Token("link_open","a",1)).attrs=[["href",g]],a.level=d++,a.markup="linkify",a.info="auto",u.push(a),(a=new t.Token("text","",0)).content=v,a.level=d,u.push(a),(a=new t.Token("link_close","a",-1)).level=--d,a.markup="linkify",a.info="auto",u.push(a),p=b[l].lastIndex);p<h.length&&((a=new t.Token("text","",0)).content=h.slice(p),a.level=d,u.push(a)),w[n].children=s=r(s,e,u)}}else for(e--;s[e].level!==c.level&&"link_open"!==s[e].type;)e--}},function(t,e,n){"use strict";var r=/\+-|\.\.|\?\?\?\?|!!!!|,,|--/,i=/\((c|tm|r|p)\)/i,o=/\((c|tm|r|p)\)/gi,s={c:"©",r:"®",p:"§",tm:"™"};function a(t,e){return s[e.toLowerCase()]}function c(t){var e,n,r=0;for(e=t.length-1;e>=0;e--)"text"!==(n=t[e]).type||r||(n.content=n.content.replace(o,a)),"link_open"===n.type&&"auto"===n.info&&r--,"link_close"===n.type&&"auto"===n.info&&r++}function u(t){var e,n,i=0;for(e=t.length-1;e>=0;e--)"text"!==(n=t[e]).type||i||r.test(n.content)&&(n.content=n.content.replace(/\+-/g,"±").replace(/\.{2,}/g,"…").replace(/([?!])…/g,"$1..").replace(/([?!]){4,}/g,"$1$1$1").replace(/,{2,}/g,",").replace(/(^|[^-])---(?=[^-]|$)/gm,"$1—").replace(/(^|\s)--(?=\s|$)/gm,"$1–").replace(/(^|[^-\s])--(?=[^-\s]|$)/gm,"$1–")),"link_open"===n.type&&"auto"===n.info&&i--,"link_close"===n.type&&"auto"===n.info&&i++}t.exports=function(t){var e;if(t.md.options.typographer)for(e=t.tokens.length-1;e>=0;e--)"inline"===t.tokens[e].type&&(i.test(t.tokens[e].content)&&c(t.tokens[e].children),r.test(t.tokens[e].content)&&u(t.tokens[e].children))}},function(t,e,n){"use strict";var r=n(45).isWhiteSpace,i=n(45).isPunctChar,o=n(45).isMdAsciiPunct,s=/['"]/,a=/['"]/g;function c(t,e,n){return t.substr(0,e)+n+t.substr(e+1)}function u(t,e){var n,s,u,l,h,f,p,d,y,m,g,v,b,_,w,k,E,S,C,x,A;for(C=[],n=0;n<t.length;n++){for(s=t[n],p=t[n].level,E=C.length-1;E>=0&&!(C[E].level<=p);E--);if(C.length=E+1,"text"===s.type){h=0,f=(u=s.content).length;t:for(;h<f&&(a.lastIndex=h,l=a.exec(u));){if(w=k=!0,h=l.index+1,S="'"===l[0],y=32,l.index-1>=0)y=u.charCodeAt(l.index-1);else for(E=n-1;E>=0&&("softbreak"!==t[E].type&&"hardbreak"!==t[E].type);E--)if("text"===t[E].type){y=t[E].content.charCodeAt(t[E].content.length-1);break}if(m=32,h<f)m=u.charCodeAt(h);else for(E=n+1;E<t.length&&("softbreak"!==t[E].type&&"hardbreak"!==t[E].type);E++)if("text"===t[E].type){m=t[E].content.charCodeAt(0);break}if(g=o(y)||i(String.fromCharCode(y)),v=o(m)||i(String.fromCharCode(m)),b=r(y),(_=r(m))?w=!1:v&&(b||g||(w=!1)),b?k=!1:g&&(_||v||(k=!1)),34===m&&'"'===l[0]&&y>=48&&y<=57&&(k=w=!1),w&&k&&(w=g,k=v),w||k){if(k)for(E=C.length-1;E>=0&&(d=C[E],!(C[E].level<p));E--)if(d.single===S&&C[E].level===p){d=C[E],S?(x=e.md.options.quotes[2],A=e.md.options.quotes[3]):(x=e.md.options.quotes[0],A=e.md.options.quotes[1]),s.content=c(s.content,l.index,A),t[d.token].content=c(t[d.token].content,d.pos,x),h+=A.length-1,d.token===n&&(h+=x.length-1),f=(u=s.content).length,C.length=E;continue t}w?C.push({token:n,pos:l.index,single:S,level:p}):k&&S&&(s.content=c(s.content,l.index,"’"))}else S&&(s.content=c(s.content,l.index,"’"))}}}}t.exports=function(t){var e;if(t.md.options.typographer)for(e=t.tokens.length-1;e>=0;e--)"inline"===t.tokens[e].type&&s.test(t.tokens[e].content)&&u(t.tokens[e].children,t)}},function(t,e,n){"use strict";var r=n(216);function i(t,e,n){this.src=t,this.env=n,this.tokens=[],this.inlineMode=!1,this.md=e}i.prototype.Token=r,t.exports=i},function(t,e,n){"use strict";var r=n(215),i=[["table",n(398),["paragraph","reference"]],["code",n(399)],["fence",n(400),["paragraph","reference","blockquote","list"]],["blockquote",n(401),["paragraph","reference","blockquote","list"]],["hr",n(402),["paragraph","reference","blockquote","list"]],["list",n(403),["paragraph","reference","blockquote"]],["reference",n(404)],["heading",n(405),["paragraph","reference","blockquote"]],["lheading",n(406)],["html_block",n(407),["paragraph","reference","blockquote"]],["paragraph",n(409)]];function o(){this.ruler=new r;for(var t=0;t<i.length;t++)this.ruler.push(i[t][0],i[t][1],{alt:(i[t][2]||[]).slice()})}o.prototype.tokenize=function(t,e,n){for(var r,i=this.ruler.getRules(""),o=i.length,s=e,a=!1,c=t.md.options.maxNesting;s<n&&(t.line=s=t.skipEmptyLines(s),!(s>=n))&&!(t.sCount[s]<t.blkIndent);){if(t.level>=c){t.line=n;break}for(r=0;r<o&&!i[r](t,s,n,!1);r++);t.tight=!a,t.isEmpty(t.line-1)&&(a=!0),(s=t.line)<n&&t.isEmpty(s)&&(a=!0,s++,t.line=s)}},o.prototype.parse=function(t,e,n,r){var i;t&&(i=new this.State(t,e,n,r),this.tokenize(i,i.line,i.lineMax))},o.prototype.State=n(410),t.exports=o},function(t,e,n){"use strict";var r=n(45).isSpace;function i(t,e){var n=t.bMarks[e]+t.blkIndent,r=t.eMarks[e];return t.src.substr(n,r-n)}function o(t){var e,n=[],r=0,i=t.length,o=0,s=0,a=!1,c=0;for(e=t.charCodeAt(r);r<i;)96===e?a?(a=!1,c=r):o%2==0&&(a=!0,c=r):124!==e||o%2!=0||a||(n.push(t.substring(s,r)),s=r+1),92===e?o++:o=0,++r===i&&a&&(a=!1,r=c+1),e=t.charCodeAt(r);return n.push(t.substring(s)),n}t.exports=function(t,e,n,s){var a,c,u,l,h,f,p,d,y,m,g,v;if(e+2>n)return!1;if(h=e+1,t.sCount[h]<t.blkIndent)return!1;if(t.sCount[h]-t.blkIndent>=4)return!1;if((u=t.bMarks[h]+t.tShift[h])>=t.eMarks[h])return!1;if(124!==(a=t.src.charCodeAt(u++))&&45!==a&&58!==a)return!1;for(;u<t.eMarks[h];){if(124!==(a=t.src.charCodeAt(u))&&45!==a&&58!==a&&!r(a))return!1;u++}for(f=(c=i(t,e+1)).split("|"),y=[],l=0;l<f.length;l++){if(!(m=f[l].trim())){if(0===l||l===f.length-1)continue;return!1}if(!/^:?-+:?$/.test(m))return!1;58===m.charCodeAt(m.length-1)?y.push(58===m.charCodeAt(0)?"center":"right"):58===m.charCodeAt(0)?y.push("left"):y.push("")}if(-1===(c=i(t,e).trim()).indexOf("|"))return!1;if(t.sCount[e]-t.blkIndent>=4)return!1;if((p=(f=o(c.replace(/^\||\|$/g,""))).length)>y.length)return!1;if(s)return!0;for((d=t.push("table_open","table",1)).map=g=[e,0],(d=t.push("thead_open","thead",1)).map=[e,e+1],(d=t.push("tr_open","tr",1)).map=[e,e+1],l=0;l<f.length;l++)(d=t.push("th_open","th",1)).map=[e,e+1],y[l]&&(d.attrs=[["style","text-align:"+y[l]]]),(d=t.push("inline","",0)).content=f[l].trim(),d.map=[e,e+1],d.children=[],d=t.push("th_close","th",-1);for(d=t.push("tr_close","tr",-1),d=t.push("thead_close","thead",-1),(d=t.push("tbody_open","tbody",1)).map=v=[e+2,0],h=e+2;h<n&&!(t.sCount[h]<t.blkIndent)&&-1!==(c=i(t,h).trim()).indexOf("|")&&!(t.sCount[h]-t.blkIndent>=4);h++){for(f=o(c.replace(/^\||\|$/g,"")),d=t.push("tr_open","tr",1),l=0;l<p;l++)d=t.push("td_open","td",1),y[l]&&(d.attrs=[["style","text-align:"+y[l]]]),(d=t.push("inline","",0)).content=f[l]?f[l].trim():"",d.children=[],d=t.push("td_close","td",-1);d=t.push("tr_close","tr",-1)}return d=t.push("tbody_close","tbody",-1),d=t.push("table_close","table",-1),g[1]=v[1]=h,t.line=h,!0}},function(t,e,n){"use strict";t.exports=function(t,e,n){var r,i,o;if(t.sCount[e]-t.blkIndent<4)return!1;for(i=r=e+1;r<n;)if(t.isEmpty(r))r++;else{if(!(t.sCount[r]-t.blkIndent>=4))break;i=++r}return t.line=i,(o=t.push("code_block","code",0)).content=t.getLines(e,i,4+t.blkIndent,!0),o.map=[e,t.line],!0}},function(t,e,n){"use strict";t.exports=function(t,e,n,r){var i,o,s,a,c,u,l,h=!1,f=t.bMarks[e]+t.tShift[e],p=t.eMarks[e];if(t.sCount[e]-t.blkIndent>=4)return!1;if(f+3>p)return!1;if(126!==(i=t.src.charCodeAt(f))&&96!==i)return!1;if(c=f,(o=(f=t.skipChars(f,i))-c)<3)return!1;if(l=t.src.slice(c,f),s=t.src.slice(f,p),96===i&&s.indexOf(String.fromCharCode(i))>=0)return!1;if(r)return!0;for(a=e;!(++a>=n)&&!((f=c=t.bMarks[a]+t.tShift[a])<(p=t.eMarks[a])&&t.sCount[a]<t.blkIndent);)if(t.src.charCodeAt(f)===i&&!(t.sCount[a]-t.blkIndent>=4||(f=t.skipChars(f,i))-c<o||(f=t.skipSpaces(f))<p)){h=!0;break}return o=t.sCount[e],t.line=a+(h?1:0),(u=t.push("fence","code",0)).info=s,u.content=t.getLines(e+1,a,o,!0),u.markup=l,u.map=[e,t.line],!0}},function(t,e,n){"use strict";var r=n(45).isSpace;t.exports=function(t,e,n,i){var o,s,a,c,u,l,h,f,p,d,y,m,g,v,b,_,w,k,E,S,C=t.lineMax,x=t.bMarks[e]+t.tShift[e],A=t.eMarks[e];if(t.sCount[e]-t.blkIndent>=4)return!1;if(62!==t.src.charCodeAt(x++))return!1;if(i)return!0;for(c=p=t.sCount[e]+x-(t.bMarks[e]+t.tShift[e]),32===t.src.charCodeAt(x)?(x++,c++,p++,o=!1,_=!0):9===t.src.charCodeAt(x)?(_=!0,(t.bsCount[e]+p)%4==3?(x++,c++,p++,o=!1):o=!0):_=!1,d=[t.bMarks[e]],t.bMarks[e]=x;x<A&&(s=t.src.charCodeAt(x),r(s));)9===s?p+=4-(p+t.bsCount[e]+(o?1:0))%4:p++,x++;for(y=[t.bsCount[e]],t.bsCount[e]=t.sCount[e]+1+(_?1:0),l=x>=A,v=[t.sCount[e]],t.sCount[e]=p-c,b=[t.tShift[e]],t.tShift[e]=x-t.bMarks[e],k=t.md.block.ruler.getRules("blockquote"),g=t.parentType,t.parentType="blockquote",S=!1,f=e+1;f<n&&(t.sCount[f]<t.blkIndent&&(S=!0),!((x=t.bMarks[f]+t.tShift[f])>=(A=t.eMarks[f])));f++)if(62!==t.src.charCodeAt(x++)||S){if(l)break;for(w=!1,a=0,u=k.length;a<u;a++)if(k[a](t,f,n,!0)){w=!0;break}if(w){t.lineMax=f,0!==t.blkIndent&&(d.push(t.bMarks[f]),y.push(t.bsCount[f]),b.push(t.tShift[f]),v.push(t.sCount[f]),t.sCount[f]-=t.blkIndent);break}d.push(t.bMarks[f]),y.push(t.bsCount[f]),b.push(t.tShift[f]),v.push(t.sCount[f]),t.sCount[f]=-1}else{for(c=p=t.sCount[f]+x-(t.bMarks[f]+t.tShift[f]),32===t.src.charCodeAt(x)?(x++,c++,p++,o=!1,_=!0):9===t.src.charCodeAt(x)?(_=!0,(t.bsCount[f]+p)%4==3?(x++,c++,p++,o=!1):o=!0):_=!1,d.push(t.bMarks[f]),t.bMarks[f]=x;x<A&&(s=t.src.charCodeAt(x),r(s));)9===s?p+=4-(p+t.bsCount[f]+(o?1:0))%4:p++,x++;l=x>=A,y.push(t.bsCount[f]),t.bsCount[f]=t.sCount[f]+1+(_?1:0),v.push(t.sCount[f]),t.sCount[f]=p-c,b.push(t.tShift[f]),t.tShift[f]=x-t.bMarks[f]}for(m=t.blkIndent,t.blkIndent=0,(E=t.push("blockquote_open","blockquote",1)).markup=">",E.map=h=[e,0],t.md.block.tokenize(t,e,f),(E=t.push("blockquote_close","blockquote",-1)).markup=">",t.lineMax=C,t.parentType=g,h[1]=t.line,a=0;a<b.length;a++)t.bMarks[a+e]=d[a],t.tShift[a+e]=b[a],t.sCount[a+e]=v[a],t.bsCount[a+e]=y[a];return t.blkIndent=m,!0}},function(t,e,n){"use strict";var r=n(45).isSpace;t.exports=function(t,e,n,i){var o,s,a,c,u=t.bMarks[e]+t.tShift[e],l=t.eMarks[e];if(t.sCount[e]-t.blkIndent>=4)return!1;if(42!==(o=t.src.charCodeAt(u++))&&45!==o&&95!==o)return!1;for(s=1;u<l;){if((a=t.src.charCodeAt(u++))!==o&&!r(a))return!1;a===o&&s++}return!(s<3)&&(i||(t.line=e+1,(c=t.push("hr","hr",0)).map=[e,t.line],c.markup=Array(s+1).join(String.fromCharCode(o))),!0)}},function(t,e,n){"use strict";var r=n(45).isSpace;function i(t,e){var n,i,o,s;return i=t.bMarks[e]+t.tShift[e],o=t.eMarks[e],42!==(n=t.src.charCodeAt(i++))&&45!==n&&43!==n||i<o&&(s=t.src.charCodeAt(i),!r(s))?-1:i}function o(t,e){var n,i=t.bMarks[e]+t.tShift[e],o=i,s=t.eMarks[e];if(o+1>=s)return-1;if((n=t.src.charCodeAt(o++))<48||n>57)return-1;for(;;){if(o>=s)return-1;if(!((n=t.src.charCodeAt(o++))>=48&&n<=57)){if(41===n||46===n)break;return-1}if(o-i>=10)return-1}return o<s&&(n=t.src.charCodeAt(o),!r(n))?-1:o}t.exports=function(t,e,n,r){var s,a,c,u,l,h,f,p,d,y,m,g,v,b,_,w,k,E,S,C,x,A,T,F,O,D,L,I,M=!1,N=!0;if(t.sCount[e]-t.blkIndent>=4)return!1;if(t.listIndent>=0&&t.sCount[e]-t.listIndent>=4&&t.sCount[e]<t.blkIndent)return!1;if(r&&"paragraph"===t.parentType&&t.tShift[e]>=t.blkIndent&&(M=!0),(T=o(t,e))>=0){if(f=!0,O=t.bMarks[e]+t.tShift[e],v=Number(t.src.substr(O,T-O-1)),M&&1!==v)return!1}else{if(!((T=i(t,e))>=0))return!1;f=!1}if(M&&t.skipSpaces(T)>=t.eMarks[e])return!1;if(g=t.src.charCodeAt(T-1),r)return!0;for(m=t.tokens.length,f?(I=t.push("ordered_list_open","ol",1),1!==v&&(I.attrs=[["start",v]])):I=t.push("bullet_list_open","ul",1),I.map=y=[e,0],I.markup=String.fromCharCode(g),_=e,F=!1,L=t.md.block.ruler.getRules("list"),E=t.parentType,t.parentType="list";_<n;){for(A=T,b=t.eMarks[_],h=w=t.sCount[_]+T-(t.bMarks[e]+t.tShift[e]);A<b;){if(9===(s=t.src.charCodeAt(A)))w+=4-(w+t.bsCount[_])%4;else{if(32!==s)break;w++}A++}if((l=(a=A)>=b?1:w-h)>4&&(l=1),u=h+l,(I=t.push("list_item_open","li",1)).markup=String.fromCharCode(g),I.map=p=[e,0],x=t.tight,C=t.tShift[e],S=t.sCount[e],k=t.listIndent,t.listIndent=t.blkIndent,t.blkIndent=u,t.tight=!0,t.tShift[e]=a-t.bMarks[e],t.sCount[e]=w,a>=b&&t.isEmpty(e+1)?t.line=Math.min(t.line+2,n):t.md.block.tokenize(t,e,n,!0),t.tight&&!F||(N=!1),F=t.line-e>1&&t.isEmpty(t.line-1),t.blkIndent=t.listIndent,t.listIndent=k,t.tShift[e]=C,t.sCount[e]=S,t.tight=x,(I=t.push("list_item_close","li",-1)).markup=String.fromCharCode(g),_=e=t.line,p[1]=_,a=t.bMarks[e],_>=n)break;if(t.sCount[_]<t.blkIndent)break;if(t.sCount[e]-t.blkIndent>=4)break;for(D=!1,c=0,d=L.length;c<d;c++)if(L[c](t,_,n,!0)){D=!0;break}if(D)break;if(f){if((T=o(t,_))<0)break}else if((T=i(t,_))<0)break;if(g!==t.src.charCodeAt(T-1))break}return(I=f?t.push("ordered_list_close","ol",-1):t.push("bullet_list_close","ul",-1)).markup=String.fromCharCode(g),y[1]=_,t.line=_,t.parentType=E,N&&function(t,e){var n,r,i=t.level+2;for(n=e+2,r=t.tokens.length-2;n<r;n++)t.tokens[n].level===i&&"paragraph_open"===t.tokens[n].type&&(t.tokens[n+2].hidden=!0,t.tokens[n].hidden=!0,n+=2)}(t,m),!0}},function(t,e,n){"use strict";var r=n(45).normalizeReference,i=n(45).isSpace;t.exports=function(t,e,n,o){var s,a,c,u,l,h,f,p,d,y,m,g,v,b,_,w,k=0,E=t.bMarks[e]+t.tShift[e],S=t.eMarks[e],C=e+1;if(t.sCount[e]-t.blkIndent>=4)return!1;if(91!==t.src.charCodeAt(E))return!1;for(;++E<S;)if(93===t.src.charCodeAt(E)&&92!==t.src.charCodeAt(E-1)){if(E+1===S)return!1;if(58!==t.src.charCodeAt(E+1))return!1;break}for(u=t.lineMax,_=t.md.block.ruler.getRules("reference"),y=t.parentType,t.parentType="reference";C<u&&!t.isEmpty(C);C++)if(!(t.sCount[C]-t.blkIndent>3||t.sCount[C]<0)){for(b=!1,h=0,f=_.length;h<f;h++)if(_[h](t,C,u,!0)){b=!0;break}if(b)break}for(S=(v=t.getLines(e,C,t.blkIndent,!1).trim()).length,E=1;E<S;E++){if(91===(s=v.charCodeAt(E)))return!1;if(93===s){d=E;break}(10===s||92===s&&++E<S&&10===v.charCodeAt(E))&&k++}if(d<0||58!==v.charCodeAt(d+1))return!1;for(E=d+2;E<S;E++)if(10===(s=v.charCodeAt(E)))k++;else if(!i(s))break;if(!(m=t.md.helpers.parseLinkDestination(v,E,S)).ok)return!1;if(l=t.md.normalizeLink(m.str),!t.md.validateLink(l))return!1;for(a=E=m.pos,c=k+=m.lines,g=E;E<S;E++)if(10===(s=v.charCodeAt(E)))k++;else if(!i(s))break;for(m=t.md.helpers.parseLinkTitle(v,E,S),E<S&&g!==E&&m.ok?(w=m.str,E=m.pos,k+=m.lines):(w="",E=a,k=c);E<S&&(s=v.charCodeAt(E),i(s));)E++;if(E<S&&10!==v.charCodeAt(E)&&w)for(w="",E=a,k=c;E<S&&(s=v.charCodeAt(E),i(s));)E++;return!(E<S&&10!==v.charCodeAt(E))&&(!!(p=r(v.slice(1,d)))&&(o||(void 0===t.env.references&&(t.env.references={}),void 0===t.env.references[p]&&(t.env.references[p]={title:w,href:l}),t.parentType=y,t.line=e+k+1),!0))}},function(t,e,n){"use strict";var r=n(45).isSpace;t.exports=function(t,e,n,i){var o,s,a,c,u=t.bMarks[e]+t.tShift[e],l=t.eMarks[e];if(t.sCount[e]-t.blkIndent>=4)return!1;if(35!==(o=t.src.charCodeAt(u))||u>=l)return!1;for(s=1,o=t.src.charCodeAt(++u);35===o&&u<l&&s<=6;)s++,o=t.src.charCodeAt(++u);return!(s>6||u<l&&!r(o))&&(i||(l=t.skipSpacesBack(l,u),(a=t.skipCharsBack(l,35,u))>u&&r(t.src.charCodeAt(a-1))&&(l=a),t.line=e+1,(c=t.push("heading_open","h"+String(s),1)).markup="########".slice(0,s),c.map=[e,t.line],(c=t.push("inline","",0)).content=t.src.slice(u,l).trim(),c.map=[e,t.line],c.children=[],(c=t.push("heading_close","h"+String(s),-1)).markup="########".slice(0,s)),!0)}},function(t,e,n){"use strict";t.exports=function(t,e,n){var r,i,o,s,a,c,u,l,h,f,p=e+1,d=t.md.block.ruler.getRules("paragraph");if(t.sCount[e]-t.blkIndent>=4)return!1;for(f=t.parentType,t.parentType="paragraph";p<n&&!t.isEmpty(p);p++)if(!(t.sCount[p]-t.blkIndent>3)){if(t.sCount[p]>=t.blkIndent&&(c=t.bMarks[p]+t.tShift[p])<(u=t.eMarks[p])&&(45===(h=t.src.charCodeAt(c))||61===h)&&(c=t.skipChars(c,h),(c=t.skipSpaces(c))>=u)){l=61===h?1:2;break}if(!(t.sCount[p]<0)){for(i=!1,o=0,s=d.length;o<s;o++)if(d[o](t,p,n,!0)){i=!0;break}if(i)break}}return!!l&&(r=t.getLines(e,p,t.blkIndent,!1).trim(),t.line=p+1,(a=t.push("heading_open","h"+String(l),1)).markup=String.fromCharCode(h),a.map=[e,t.line],(a=t.push("inline","",0)).content=r,a.map=[e,t.line-1],a.children=[],(a=t.push("heading_close","h"+String(l),-1)).markup=String.fromCharCode(h),t.parentType=f,!0)}},function(t,e,n){"use strict";var r=n(408),i=n(264).HTML_OPEN_CLOSE_TAG_RE,o=[[/^<(script|pre|style)(?=(\s|>|$))/i,/<\/(script|pre|style)>/i,!0],[/^<!--/,/-->/,!0],[/^<\?/,/\?>/,!0],[/^<![A-Z]/,/>/,!0],[/^<!\[CDATA\[/,/\]\]>/,!0],[new RegExp("^</?("+r.join("|")+")(?=(\\s|/?>|$))","i"),/^$/,!0],[new RegExp(i.source+"\\s*$"),/^$/,!1]];t.exports=function(t,e,n,r){var i,s,a,c,u=t.bMarks[e]+t.tShift[e],l=t.eMarks[e];if(t.sCount[e]-t.blkIndent>=4)return!1;if(!t.md.options.html)return!1;if(60!==t.src.charCodeAt(u))return!1;for(c=t.src.slice(u,l),i=0;i<o.length&&!o[i][0].test(c);i++);if(i===o.length)return!1;if(r)return o[i][2];if(s=e+1,!o[i][1].test(c))for(;s<n&&!(t.sCount[s]<t.blkIndent);s++)if(u=t.bMarks[s]+t.tShift[s],l=t.eMarks[s],c=t.src.slice(u,l),o[i][1].test(c)){0!==c.length&&s++;break}return t.line=s,(a=t.push("html_block","",0)).map=[e,s],a.content=t.getLines(e,s,t.blkIndent,!0),!0}},function(t,e,n){"use strict";t.exports=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","meta","nav","noframes","ol","optgroup","option","p","param","section","source","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"]},function(t,e,n){"use strict";t.exports=function(t,e){var n,r,i,o,s,a,c=e+1,u=t.md.block.ruler.getRules("paragraph"),l=t.lineMax;for(a=t.parentType,t.parentType="paragraph";c<l&&!t.isEmpty(c);c++)if(!(t.sCount[c]-t.blkIndent>3||t.sCount[c]<0)){for(r=!1,i=0,o=u.length;i<o;i++)if(u[i](t,c,l,!0)){r=!0;break}if(r)break}return n=t.getLines(e,c,t.blkIndent,!1).trim(),t.line=c,(s=t.push("paragraph_open","p",1)).map=[e,t.line],(s=t.push("inline","",0)).content=n,s.map=[e,t.line],s.children=[],s=t.push("paragraph_close","p",-1),t.parentType=a,!0}},function(t,e,n){"use strict";var r=n(216),i=n(45).isSpace;function o(t,e,n,r){var o,s,a,c,u,l,h,f;for(this.src=t,this.md=e,this.env=n,this.tokens=r,this.bMarks=[],this.eMarks=[],this.tShift=[],this.sCount=[],this.bsCount=[],this.blkIndent=0,this.line=0,this.lineMax=0,this.tight=!1,this.ddIndent=-1,this.listIndent=-1,this.parentType="root",this.level=0,this.result="",f=!1,a=c=l=h=0,u=(s=this.src).length;c<u;c++){if(o=s.charCodeAt(c),!f){if(i(o)){l++,9===o?h+=4-h%4:h++;continue}f=!0}10!==o&&c!==u-1||(10!==o&&c++,this.bMarks.push(a),this.eMarks.push(c),this.tShift.push(l),this.sCount.push(h),this.bsCount.push(0),f=!1,l=0,h=0,a=c+1)}this.bMarks.push(s.length),this.eMarks.push(s.length),this.tShift.push(0),this.sCount.push(0),this.bsCount.push(0),this.lineMax=this.bMarks.length-1}o.prototype.push=function(t,e,n){var i=new r(t,e,n);return i.block=!0,n<0&&this.level--,i.level=this.level,n>0&&this.level++,this.tokens.push(i),i},o.prototype.isEmpty=function(t){return this.bMarks[t]+this.tShift[t]>=this.eMarks[t]},o.prototype.skipEmptyLines=function(t){for(var e=this.lineMax;t<e&&!(this.bMarks[t]+this.tShift[t]<this.eMarks[t]);t++);return t},o.prototype.skipSpaces=function(t){for(var e,n=this.src.length;t<n&&(e=this.src.charCodeAt(t),i(e));t++);return t},o.prototype.skipSpacesBack=function(t,e){if(t<=e)return t;for(;t>e;)if(!i(this.src.charCodeAt(--t)))return t+1;return t},o.prototype.skipChars=function(t,e){for(var n=this.src.length;t<n&&this.src.charCodeAt(t)===e;t++);return t},o.prototype.skipCharsBack=function(t,e,n){if(t<=n)return t;for(;t>n;)if(e!==this.src.charCodeAt(--t))return t+1;return t},o.prototype.getLines=function(t,e,n,r){var o,s,a,c,u,l,h,f=t;if(t>=e)return"";for(l=new Array(e-t),o=0;f<e;f++,o++){for(s=0,h=c=this.bMarks[f],u=f+1<e||r?this.eMarks[f]+1:this.eMarks[f];c<u&&s<n;){if(a=this.src.charCodeAt(c),i(a))9===a?s+=4-(s+this.bsCount[f])%4:s++;else{if(!(c-h<this.tShift[f]))break;s++}c++}l[o]=s>n?new Array(s-n+1).join(" ")+this.src.slice(c,u):this.src.slice(c,u)}return l.join("")},o.prototype.Token=r,t.exports=o},function(t,e,n){"use strict";var r=n(215),i=[["text",n(412)],["newline",n(413)],["escape",n(414)],["backticks",n(415)],["strikethrough",n(265).tokenize],["emphasis",n(266).tokenize],["link",n(416)],["image",n(417)],["autolink",n(418)],["html_inline",n(419)],["entity",n(420)]],o=[["balance_pairs",n(421)],["strikethrough",n(265).postProcess],["emphasis",n(266).postProcess],["text_collapse",n(422)]];function s(){var t;for(this.ruler=new r,t=0;t<i.length;t++)this.ruler.push(i[t][0],i[t][1]);for(this.ruler2=new r,t=0;t<o.length;t++)this.ruler2.push(o[t][0],o[t][1])}s.prototype.skipToken=function(t){var e,n,r=t.pos,i=this.ruler.getRules(""),o=i.length,s=t.md.options.maxNesting,a=t.cache;if(void 0===a[r]){if(t.level<s)for(n=0;n<o&&(t.level++,e=i[n](t,!0),t.level--,!e);n++);else t.pos=t.posMax;e||t.pos++,a[r]=t.pos}else t.pos=a[r]},s.prototype.tokenize=function(t){for(var e,n,r=this.ruler.getRules(""),i=r.length,o=t.posMax,s=t.md.options.maxNesting;t.pos<o;){if(t.level<s)for(n=0;n<i&&!(e=r[n](t,!1));n++);if(e){if(t.pos>=o)break}else t.pending+=t.src[t.pos++]}t.pending&&t.pushPending()},s.prototype.parse=function(t,e,n,r){var i,o,s,a=new this.State(t,e,n,r);for(this.tokenize(a),s=(o=this.ruler2.getRules("")).length,i=0;i<s;i++)o[i](a)},s.prototype.State=n(423),t.exports=s},function(t,e,n){"use strict";function r(t){switch(t){case 10:case 33:case 35:case 36:case 37:case 38:case 42:case 43:case 45:case 58:case 60:case 61:case 62:case 64:case 91:case 92:case 93:case 94:case 95:case 96:case 123:case 125:case 126:return!0;default:return!1}}t.exports=function(t,e){for(var n=t.pos;n<t.posMax&&!r(t.src.charCodeAt(n));)n++;return n!==t.pos&&(e||(t.pending+=t.src.slice(t.pos,n)),t.pos=n,!0)}},function(t,e,n){"use strict";var r=n(45).isSpace;t.exports=function(t,e){var n,i,o=t.pos;if(10!==t.src.charCodeAt(o))return!1;for(n=t.pending.length-1,i=t.posMax,e||(n>=0&&32===t.pending.charCodeAt(n)?n>=1&&32===t.pending.charCodeAt(n-1)?(t.pending=t.pending.replace(/ +$/,""),t.push("hardbreak","br",0)):(t.pending=t.pending.slice(0,-1),t.push("softbreak","br",0)):t.push("softbreak","br",0)),o++;o<i&&r(t.src.charCodeAt(o));)o++;return t.pos=o,!0}},function(t,e,n){"use strict";for(var r=n(45).isSpace,i=[],o=0;o<256;o++)i.push(0);"\\!\"#$%&'()*+,./:;<=>?@[]^_`{|}~-".split("").forEach((function(t){i[t.charCodeAt(0)]=1})),t.exports=function(t,e){var n,o=t.pos,s=t.posMax;if(92!==t.src.charCodeAt(o))return!1;if(++o<s){if((n=t.src.charCodeAt(o))<256&&0!==i[n])return e||(t.pending+=t.src[o]),t.pos+=2,!0;if(10===n){for(e||t.push("hardbreak","br",0),o++;o<s&&(n=t.src.charCodeAt(o),r(n));)o++;return t.pos=o,!0}}return e||(t.pending+="\\"),t.pos++,!0}},function(t,e,n){"use strict";t.exports=function(t,e){var n,r,i,o,s,a,c=t.pos;if(96!==t.src.charCodeAt(c))return!1;for(n=c,c++,r=t.posMax;c<r&&96===t.src.charCodeAt(c);)c++;for(i=t.src.slice(n,c),o=s=c;-1!==(o=t.src.indexOf("`",s));){for(s=o+1;s<r&&96===t.src.charCodeAt(s);)s++;if(s-o===i.length)return e||((a=t.push("code_inline","code",0)).markup=i,a.content=t.src.slice(c,o).replace(/\n/g," ").replace(/^ (.+) $/,"$1")),t.pos=s,!0}return e||(t.pending+=i),t.pos+=i.length,!0}},function(t,e,n){"use strict";var r=n(45).normalizeReference,i=n(45).isSpace;t.exports=function(t,e){var n,o,s,a,c,u,l,h,f,p="",d=t.pos,y=t.posMax,m=t.pos,g=!0;if(91!==t.src.charCodeAt(t.pos))return!1;if(c=t.pos+1,(a=t.md.helpers.parseLinkLabel(t,t.pos,!0))<0)return!1;if((u=a+1)<y&&40===t.src.charCodeAt(u)){for(g=!1,u++;u<y&&(o=t.src.charCodeAt(u),i(o)||10===o);u++);if(u>=y)return!1;for(m=u,(l=t.md.helpers.parseLinkDestination(t.src,u,t.posMax)).ok&&(p=t.md.normalizeLink(l.str),t.md.validateLink(p)?u=l.pos:p=""),m=u;u<y&&(o=t.src.charCodeAt(u),i(o)||10===o);u++);if(l=t.md.helpers.parseLinkTitle(t.src,u,t.posMax),u<y&&m!==u&&l.ok)for(f=l.str,u=l.pos;u<y&&(o=t.src.charCodeAt(u),i(o)||10===o);u++);else f="";(u>=y||41!==t.src.charCodeAt(u))&&(g=!0),u++}if(g){if(void 0===t.env.references)return!1;if(u<y&&91===t.src.charCodeAt(u)?(m=u+1,(u=t.md.helpers.parseLinkLabel(t,u))>=0?s=t.src.slice(m,u++):u=a+1):u=a+1,s||(s=t.src.slice(c,a)),!(h=t.env.references[r(s)]))return t.pos=d,!1;p=h.href,f=h.title}return e||(t.pos=c,t.posMax=a,t.push("link_open","a",1).attrs=n=[["href",p]],f&&n.push(["title",f]),t.md.inline.tokenize(t),t.push("link_close","a",-1)),t.pos=u,t.posMax=y,!0}},function(t,e,n){"use strict";var r=n(45).normalizeReference,i=n(45).isSpace;t.exports=function(t,e){var n,o,s,a,c,u,l,h,f,p,d,y,m,g="",v=t.pos,b=t.posMax;if(33!==t.src.charCodeAt(t.pos))return!1;if(91!==t.src.charCodeAt(t.pos+1))return!1;if(u=t.pos+2,(c=t.md.helpers.parseLinkLabel(t,t.pos+1,!1))<0)return!1;if((l=c+1)<b&&40===t.src.charCodeAt(l)){for(l++;l<b&&(o=t.src.charCodeAt(l),i(o)||10===o);l++);if(l>=b)return!1;for(m=l,(f=t.md.helpers.parseLinkDestination(t.src,l,t.posMax)).ok&&(g=t.md.normalizeLink(f.str),t.md.validateLink(g)?l=f.pos:g=""),m=l;l<b&&(o=t.src.charCodeAt(l),i(o)||10===o);l++);if(f=t.md.helpers.parseLinkTitle(t.src,l,t.posMax),l<b&&m!==l&&f.ok)for(p=f.str,l=f.pos;l<b&&(o=t.src.charCodeAt(l),i(o)||10===o);l++);else p="";if(l>=b||41!==t.src.charCodeAt(l))return t.pos=v,!1;l++}else{if(void 0===t.env.references)return!1;if(l<b&&91===t.src.charCodeAt(l)?(m=l+1,(l=t.md.helpers.parseLinkLabel(t,l))>=0?a=t.src.slice(m,l++):l=c+1):l=c+1,a||(a=t.src.slice(u,c)),!(h=t.env.references[r(a)]))return t.pos=v,!1;g=h.href,p=h.title}return e||(s=t.src.slice(u,c),t.md.inline.parse(s,t.md,t.env,y=[]),(d=t.push("image","img",0)).attrs=n=[["src",g],["alt",""]],d.children=y,d.content=s,p&&n.push(["title",p])),t.pos=l,t.posMax=b,!0}},function(t,e,n){"use strict";var r=/^<([a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*)>/,i=/^<([a-zA-Z][a-zA-Z0-9+.\-]{1,31}):([^<>\x00-\x20]*)>/;t.exports=function(t,e){var n,o,s,a,c,u,l=t.pos;return 60===t.src.charCodeAt(l)&&(!((n=t.src.slice(l)).indexOf(">")<0)&&(i.test(n)?(a=(o=n.match(i))[0].slice(1,-1),c=t.md.normalizeLink(a),!!t.md.validateLink(c)&&(e||((u=t.push("link_open","a",1)).attrs=[["href",c]],u.markup="autolink",u.info="auto",(u=t.push("text","",0)).content=t.md.normalizeLinkText(a),(u=t.push("link_close","a",-1)).markup="autolink",u.info="auto"),t.pos+=o[0].length,!0)):!!r.test(n)&&(a=(s=n.match(r))[0].slice(1,-1),c=t.md.normalizeLink("mailto:"+a),!!t.md.validateLink(c)&&(e||((u=t.push("link_open","a",1)).attrs=[["href",c]],u.markup="autolink",u.info="auto",(u=t.push("text","",0)).content=t.md.normalizeLinkText(a),(u=t.push("link_close","a",-1)).markup="autolink",u.info="auto"),t.pos+=s[0].length,!0))))}},function(t,e,n){"use strict";var r=n(264).HTML_TAG_RE;t.exports=function(t,e){var n,i,o,s=t.pos;return!!t.md.options.html&&(o=t.posMax,!(60!==t.src.charCodeAt(s)||s+2>=o)&&(!(33!==(n=t.src.charCodeAt(s+1))&&63!==n&&47!==n&&!function(t){var e=32|t;return e>=97&&e<=122}(n))&&(!!(i=t.src.slice(s).match(r))&&(e||(t.push("html_inline","",0).content=t.src.slice(s,s+i[0].length)),t.pos+=i[0].length,!0))))}},function(t,e,n){"use strict";var r=n(259),i=n(45).has,o=n(45).isValidEntityCode,s=n(45).fromCodePoint,a=/^&#((?:x[a-f0-9]{1,6}|[0-9]{1,7}));/i,c=/^&([a-z][a-z0-9]{1,31});/i;t.exports=function(t,e){var n,u,l=t.pos,h=t.posMax;if(38!==t.src.charCodeAt(l))return!1;if(l+1<h)if(35===t.src.charCodeAt(l+1)){if(u=t.src.slice(l).match(a))return e||(n="x"===u[1][0].toLowerCase()?parseInt(u[1].slice(1),16):parseInt(u[1],10),t.pending+=o(n)?s(n):s(65533)),t.pos+=u[0].length,!0}else if((u=t.src.slice(l).match(c))&&i(r,u[1]))return e||(t.pending+=r[u[1]]),t.pos+=u[0].length,!0;return e||(t.pending+="&"),t.pos++,!0}},function(t,e,n){"use strict";function r(t,e){var n,r,i,o,s,a,c,u,l={},h=e.length;for(n=0;n<h;n++)if((i=e[n]).length=i.length||0,i.close){for(l.hasOwnProperty(i.marker)||(l[i.marker]=[-1,-1,-1]),s=l[i.marker][i.length%3],a=-1,r=n-i.jump-1;r>s;r-=o.jump+1)if((o=e[r]).marker===i.marker&&(-1===a&&(a=r),o.open&&o.end<0&&o.level===i.level&&(c=!1,(o.close||i.open)&&(o.length+i.length)%3==0&&(o.length%3==0&&i.length%3==0||(c=!0)),!c))){u=r>0&&!e[r-1].open?e[r-1].jump+1:0,i.jump=n-r+u,i.open=!1,o.end=n,o.jump=u,o.close=!1,a=-1;break}-1!==a&&(l[i.marker][(i.length||0)%3]=a)}}t.exports=function(t){var e,n=t.tokens_meta,i=t.tokens_meta.length;for(r(0,t.delimiters),e=0;e<i;e++)n[e]&&n[e].delimiters&&r(0,n[e].delimiters)}},function(t,e,n){"use strict";t.exports=function(t){var e,n,r=0,i=t.tokens,o=t.tokens.length;for(e=n=0;e<o;e++)i[e].nesting<0&&r--,i[e].level=r,i[e].nesting>0&&r++,"text"===i[e].type&&e+1<o&&"text"===i[e+1].type?i[e+1].content=i[e].content+i[e+1].content:(e!==n&&(i[n]=i[e]),n++);e!==n&&(i.length=n)}},function(t,e,n){"use strict";var r=n(216),i=n(45).isWhiteSpace,o=n(45).isPunctChar,s=n(45).isMdAsciiPunct;function a(t,e,n,r){this.src=t,this.env=n,this.md=e,this.tokens=r,this.tokens_meta=Array(r.length),this.pos=0,this.posMax=this.src.length,this.level=0,this.pending="",this.pendingLevel=0,this.cache={},this.delimiters=[],this._prev_delimiters=[]}a.prototype.pushPending=function(){var t=new r("text","",0);return t.content=this.pending,t.level=this.pendingLevel,this.tokens.push(t),this.pending="",t},a.prototype.push=function(t,e,n){this.pending&&this.pushPending();var i=new r(t,e,n),o=null;return n<0&&(this.level--,this.delimiters=this._prev_delimiters.pop()),i.level=this.level,n>0&&(this.level++,this._prev_delimiters.push(this.delimiters),this.delimiters=[],o={delimiters:this.delimiters}),this.pendingLevel=this.level,this.tokens.push(i),this.tokens_meta.push(o),i},a.prototype.scanDelims=function(t,e){var n,r,a,c,u,l,h,f,p,d=t,y=!0,m=!0,g=this.posMax,v=this.src.charCodeAt(t);for(n=t>0?this.src.charCodeAt(t-1):32;d<g&&this.src.charCodeAt(d)===v;)d++;return a=d-t,r=d<g?this.src.charCodeAt(d):32,h=s(n)||o(String.fromCharCode(n)),p=s(r)||o(String.fromCharCode(r)),l=i(n),(f=i(r))?y=!1:p&&(l||h||(y=!1)),l?m=!1:h&&(f||p||(m=!1)),e?(c=y,u=m):(c=y&&(!m||h),u=m&&(!y||p)),{can_open:c,can_close:u,length:a}},a.prototype.Token=r,t.exports=a},function(t,e,n){"use strict";function r(t){var e=Array.prototype.slice.call(arguments,1);return e.forEach((function(e){e&&Object.keys(e).forEach((function(n){t[n]=e[n]}))})),t}function i(t){return Object.prototype.toString.call(t)}function o(t){return"[object Function]"===i(t)}function s(t){return t.replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}var a={fuzzyLink:!0,fuzzyEmail:!0,fuzzyIP:!1};var c={"http:":{validate:function(t,e,n){var r=t.slice(e);return n.re.http||(n.re.http=new RegExp("^\\/\\/"+n.re.src_auth+n.re.src_host_port_strict+n.re.src_path,"i")),n.re.http.test(r)?r.match(n.re.http)[0].length:0}},"https:":"http:","ftp:":"http:","//":{validate:function(t,e,n){var r=t.slice(e);return n.re.no_http||(n.re.no_http=new RegExp("^"+n.re.src_auth+"(?:localhost|(?:(?:"+n.re.src_domain+")\\.)+"+n.re.src_domain_root+")"+n.re.src_port+n.re.src_host_terminator+n.re.src_path,"i")),n.re.no_http.test(r)?e>=3&&":"===t[e-3]||e>=3&&"/"===t[e-3]?0:r.match(n.re.no_http)[0].length:0}},"mailto:":{validate:function(t,e,n){var r=t.slice(e);return n.re.mailto||(n.re.mailto=new RegExp("^"+n.re.src_email_name+"@"+n.re.src_host_strict,"i")),n.re.mailto.test(r)?r.match(n.re.mailto)[0].length:0}}},u="biz|com|edu|gov|net|org|pro|web|xxx|aero|asia|coop|info|museum|name|shop|рф".split("|");function l(t){var e=t.re=n(425)(t.__opts__),r=t.__tlds__.slice();function a(t){return t.replace("%TLDS%",e.src_tlds)}t.onCompile(),t.__tlds_replaced__||r.push("a[cdefgilmnoqrstuwxz]|b[abdefghijmnorstvwyz]|c[acdfghiklmnoruvwxyz]|d[ejkmoz]|e[cegrstu]|f[ijkmor]|g[abdefghilmnpqrstuwy]|h[kmnrtu]|i[delmnoqrst]|j[emop]|k[eghimnprwyz]|l[abcikrstuvy]|m[acdeghklmnopqrstuvwxyz]|n[acefgilopruz]|om|p[aefghklmnrstwy]|qa|r[eosuw]|s[abcdeghijklmnortuvxyz]|t[cdfghjklmnortvwz]|u[agksyz]|v[aceginu]|w[fs]|y[et]|z[amw]"),r.push(e.src_xn),e.src_tlds=r.join("|"),e.email_fuzzy=RegExp(a(e.tpl_email_fuzzy),"i"),e.link_fuzzy=RegExp(a(e.tpl_link_fuzzy),"i"),e.link_no_ip_fuzzy=RegExp(a(e.tpl_link_no_ip_fuzzy),"i"),e.host_fuzzy_test=RegExp(a(e.tpl_host_fuzzy_test),"i");var c=[];function u(t,e){throw new Error('(LinkifyIt) Invalid schema "'+t+'": '+e)}t.__compiled__={},Object.keys(t.__schemas__).forEach((function(e){var n=t.__schemas__[e];if(null!==n){var r={validate:null,link:null};if(t.__compiled__[e]=r,"[object Object]"===i(n))return!function(t){return"[object RegExp]"===i(t)}(n.validate)?o(n.validate)?r.validate=n.validate:u(e,n):r.validate=function(t){return function(e,n){var r=e.slice(n);return t.test(r)?r.match(t)[0].length:0}}(n.validate),void(o(n.normalize)?r.normalize=n.normalize:n.normalize?u(e,n):r.normalize=function(t,e){e.normalize(t)});!function(t){return"[object String]"===i(t)}(n)?u(e,n):c.push(e)}})),c.forEach((function(e){t.__compiled__[t.__schemas__[e]]&&(t.__compiled__[e].validate=t.__compiled__[t.__schemas__[e]].validate,t.__compiled__[e].normalize=t.__compiled__[t.__schemas__[e]].normalize)})),t.__compiled__[""]={validate:null,normalize:function(t,e){e.normalize(t)}};var l=Object.keys(t.__compiled__).filter((function(e){return e.length>0&&t.__compiled__[e]})).map(s).join("|");t.re.schema_test=RegExp("(^|(?!_)(?:[><｜]|"+e.src_ZPCc+"))("+l+")","i"),t.re.schema_search=RegExp("(^|(?!_)(?:[><｜]|"+e.src_ZPCc+"))("+l+")","ig"),t.re.pretest=RegExp("("+t.re.schema_test.source+")|("+t.re.host_fuzzy_test.source+")|@","i"),function(t){t.__index__=-1,t.__text_cache__=""}(t)}function h(t,e){var n=t.__index__,r=t.__last_index__,i=t.__text_cache__.slice(n,r);this.schema=t.__schema__.toLowerCase(),this.index=n+e,this.lastIndex=r+e,this.raw=i,this.text=i,this.url=i}function f(t,e){var n=new h(t,e);return t.__compiled__[n.schema].normalize(n,t),n}function p(t,e){if(!(this instanceof p))return new p(t,e);var n;e||(n=t,Object.keys(n||{}).reduce((function(t,e){return t||a.hasOwnProperty(e)}),!1)&&(e=t,t={})),this.__opts__=r({},a,e),this.__index__=-1,this.__last_index__=-1,this.__schema__="",this.__text_cache__="",this.__schemas__=r({},c,t),this.__compiled__={},this.__tlds__=u,this.__tlds_replaced__=!1,this.re={},l(this)}p.prototype.add=function(t,e){return this.__schemas__[t]=e,l(this),this},p.prototype.set=function(t){return this.__opts__=r(this.__opts__,t),this},p.prototype.test=function(t){if(this.__text_cache__=t,this.__index__=-1,!t.length)return!1;var e,n,r,i,o,s,a,c;if(this.re.schema_test.test(t))for((a=this.re.schema_search).lastIndex=0;null!==(e=a.exec(t));)if(i=this.testSchemaAt(t,e[2],a.lastIndex)){this.__schema__=e[2],this.__index__=e.index+e[1].length,this.__last_index__=e.index+e[0].length+i;break}return this.__opts__.fuzzyLink&&this.__compiled__["http:"]&&(c=t.search(this.re.host_fuzzy_test))>=0&&(this.__index__<0||c<this.__index__)&&null!==(n=t.match(this.__opts__.fuzzyIP?this.re.link_fuzzy:this.re.link_no_ip_fuzzy))&&(o=n.index+n[1].length,(this.__index__<0||o<this.__index__)&&(this.__schema__="",this.__index__=o,this.__last_index__=n.index+n[0].length)),this.__opts__.fuzzyEmail&&this.__compiled__["mailto:"]&&t.indexOf("@")>=0&&null!==(r=t.match(this.re.email_fuzzy))&&(o=r.index+r[1].length,s=r.index+r[0].length,(this.__index__<0||o<this.__index__||o===this.__index__&&s>this.__last_index__)&&(this.__schema__="mailto:",this.__index__=o,this.__last_index__=s)),this.__index__>=0},p.prototype.pretest=function(t){return this.re.pretest.test(t)},p.prototype.testSchemaAt=function(t,e,n){return this.__compiled__[e.toLowerCase()]?this.__compiled__[e.toLowerCase()].validate(t,n,this):0},p.prototype.match=function(t){var e=0,n=[];this.__index__>=0&&this.__text_cache__===t&&(n.push(f(this,e)),e=this.__last_index__);for(var r=e?t.slice(e):t;this.test(r);)n.push(f(this,e)),r=r.slice(this.__last_index__),e+=this.__last_index__;return n.length?n:null},p.prototype.tlds=function(t,e){return t=Array.isArray(t)?t:[t],e?(this.__tlds__=this.__tlds__.concat(t).sort().filter((function(t,e,n){return t!==n[e-1]})).reverse(),l(this),this):(this.__tlds__=t.slice(),this.__tlds_replaced__=!0,l(this),this)},p.prototype.normalize=function(t){t.schema||(t.url="http://"+t.url),"mailto:"!==t.schema||/^mailto:/i.test(t.url)||(t.url="mailto:"+t.url)},p.prototype.onCompile=function(){},t.exports=p},function(t,e,n){"use strict";t.exports=function(t){var e={};e.src_Any=n(261).source,e.src_Cc=n(262).source,e.src_Z=n(263).source,e.src_P=n(214).source,e.src_ZPCc=[e.src_Z,e.src_P,e.src_Cc].join("|"),e.src_ZCc=[e.src_Z,e.src_Cc].join("|");return e.src_pseudo_letter="(?:(?![><｜]|"+e.src_ZPCc+")"+e.src_Any+")",e.src_ip4="(?:(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)",e.src_auth="(?:(?:(?!"+e.src_ZCc+"|[@/\\[\\]()]).)+@)?",e.src_port="(?::(?:6(?:[0-4]\\d{3}|5(?:[0-4]\\d{2}|5(?:[0-2]\\d|3[0-5])))|[1-5]?\\d{1,4}))?",e.src_host_terminator="(?=$|[><｜]|"+e.src_ZPCc+")(?!-|_|:\\d|\\.-|\\.(?!$|"+e.src_ZPCc+"))",e.src_path="(?:[/?#](?:(?!"+e.src_ZCc+"|[><｜]|[()[\\]{}.,\"'?!\\-]).|\\[(?:(?!"+e.src_ZCc+"|\\]).)*\\]|\\((?:(?!"+e.src_ZCc+"|[)]).)*\\)|\\{(?:(?!"+e.src_ZCc+'|[}]).)*\\}|\\"(?:(?!'+e.src_ZCc+'|["]).)+\\"|\\\'(?:(?!'+e.src_ZCc+"|[']).)+\\'|\\'(?="+e.src_pseudo_letter+"|[-]).|\\.{2,}[a-zA-Z0-9%/&]|\\.(?!"+e.src_ZCc+"|[.]).|"+(t&&t["---"]?"\\-(?!--(?:[^-]|$))(?:-*)|":"\\-+|")+"\\,(?!"+e.src_ZCc+").|\\!+(?!"+e.src_ZCc+"|[!]).|\\?(?!"+e.src_ZCc+"|[?]).)+|\\/)?",e.src_email_name='[\\-;:&=\\+\\$,\\.a-zA-Z0-9_][\\-;:&=\\+\\$,\\"\\.a-zA-Z0-9_]*',e.src_xn="xn--[a-z0-9\\-]{1,59}",e.src_domain_root="(?:"+e.src_xn+"|"+e.src_pseudo_letter+"{1,63})",e.src_domain="(?:"+e.src_xn+"|(?:"+e.src_pseudo_letter+")|(?:"+e.src_pseudo_letter+"(?:-|"+e.src_pseudo_letter+"){0,61}"+e.src_pseudo_letter+"))",e.src_host="(?:(?:(?:(?:"+e.src_domain+")\\.)*"+e.src_domain+"))",e.tpl_host_fuzzy="(?:"+e.src_ip4+"|(?:(?:(?:"+e.src_domain+")\\.)+(?:%TLDS%)))",e.tpl_host_no_ip_fuzzy="(?:(?:(?:"+e.src_domain+")\\.)+(?:%TLDS%))",e.src_host_strict=e.src_host+e.src_host_terminator,e.tpl_host_fuzzy_strict=e.tpl_host_fuzzy+e.src_host_terminator,e.src_host_port_strict=e.src_host+e.src_port+e.src_host_terminator,e.tpl_host_port_fuzzy_strict=e.tpl_host_fuzzy+e.src_port+e.src_host_terminator,e.tpl_host_port_no_ip_fuzzy_strict=e.tpl_host_no_ip_fuzzy+e.src_port+e.src_host_terminator,e.tpl_host_fuzzy_test="localhost|www\\.|\\.\\d{1,3}\\.|(?:\\.(?:%TLDS%)(?:"+e.src_ZPCc+"|>|$))",e.tpl_email_fuzzy='(^|[><｜]|"|\\(|'+e.src_ZCc+")("+e.src_email_name+"@"+e.tpl_host_fuzzy_strict+")",e.tpl_link_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|｜]|"+e.src_ZPCc+"))((?![$+<=>^`|｜])"+e.tpl_host_port_fuzzy_strict+e.src_path+")",e.tpl_link_no_ip_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|｜]|"+e.src_ZPCc+"))((?![$+<=>^`|｜])"+e.tpl_host_port_no_ip_fuzzy_strict+e.src_path+")",e}},function(t,e,n){(function(t,r){var i;/*! https://mths.be/punycode v1.4.1 by @mathias */!function(o){e&&e.nodeType,t&&t.nodeType;var s="object"==typeof r&&r;s.global!==s&&s.window!==s&&s.self;var a,c=2147483647,u=/^xn--/,l=/[^\x20-\x7E]/,h=/[\x2E\u3002\uFF0E\uFF61]/g,f={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},p=Math.floor,d=String.fromCharCode;function y(t){throw new RangeError(f[t])}function m(t,e){for(var n=t.length,r=[];n--;)r[n]=e(t[n]);return r}function g(t,e){var n=t.split("@"),r="";return n.length>1&&(r=n[0]+"@",t=n[1]),r+m((t=t.replace(h,".")).split("."),e).join(".")}function v(t){for(var e,n,r=[],i=0,o=t.length;i<o;)(e=t.charCodeAt(i++))>=55296&&e<=56319&&i<o?56320==(64512&(n=t.charCodeAt(i++)))?r.push(((1023&e)<<10)+(1023&n)+65536):(r.push(e),i--):r.push(e);return r}function b(t){return m(t,(function(t){var e="";return t>65535&&(e+=d((t-=65536)>>>10&1023|55296),t=56320|1023&t),e+=d(t)})).join("")}function _(t,e){return t+22+75*(t<26)-((0!=e)<<5)}function w(t,e,n){var r=0;for(t=n?p(t/700):t>>1,t+=p(t/e);t>455;r+=36)t=p(t/35);return p(r+36*t/(t+38))}function k(t){var e,n,r,i,o,s,a,u,l,h,f,d=[],m=t.length,g=0,v=128,_=72;for((n=t.lastIndexOf("-"))<0&&(n=0),r=0;r<n;++r)t.charCodeAt(r)>=128&&y("not-basic"),d.push(t.charCodeAt(r));for(i=n>0?n+1:0;i<m;){for(o=g,s=1,a=36;i>=m&&y("invalid-input"),((u=(f=t.charCodeAt(i++))-48<10?f-22:f-65<26?f-65:f-97<26?f-97:36)>=36||u>p((c-g)/s))&&y("overflow"),g+=u*s,!(u<(l=a<=_?1:a>=_+26?26:a-_));a+=36)s>p(c/(h=36-l))&&y("overflow"),s*=h;_=w(g-o,e=d.length+1,0==o),p(g/e)>c-v&&y("overflow"),v+=p(g/e),g%=e,d.splice(g++,0,v)}return b(d)}function E(t){var e,n,r,i,o,s,a,u,l,h,f,m,g,b,k,E=[];for(m=(t=v(t)).length,e=128,n=0,o=72,s=0;s<m;++s)(f=t[s])<128&&E.push(d(f));for(r=i=E.length,i&&E.push("-");r<m;){for(a=c,s=0;s<m;++s)(f=t[s])>=e&&f<a&&(a=f);for(a-e>p((c-n)/(g=r+1))&&y("overflow"),n+=(a-e)*g,e=a,s=0;s<m;++s)if((f=t[s])<e&&++n>c&&y("overflow"),f==e){for(u=n,l=36;!(u<(h=l<=o?1:l>=o+26?26:l-o));l+=36)k=u-h,b=36-h,E.push(d(_(h+k%b,0))),u=p(k/b);E.push(d(_(u,0))),o=w(n,g,r==i),n=0,++r}++n,++e}return E.join("")}a={version:"1.4.1",ucs2:{decode:v,encode:b},decode:k,encode:E,toASCII:function(t){return g(t,(function(t){return l.test(t)?"xn--"+E(t):t}))},toUnicode:function(t){return g(t,(function(t){return u.test(t)?k(t.slice(4).toLowerCase()):t}))}},void 0===(i=function(){return a}.call(e,n,e,t))||(t.exports=i)}()}).call(this,n(427)(t),n(116))},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e,n){"use strict";t.exports={options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"“”‘’",highlight:null,maxNesting:100},components:{core:{},block:{},inline:{}}}},function(t,e,n){"use strict";t.exports={options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"“”‘’",highlight:null,maxNesting:20},components:{core:{rules:["normalize","block","inline"]},block:{rules:["paragraph"]},inline:{rules:["text"],rules2:["balance_pairs","text_collapse"]}}}},function(t,e,n){"use strict";t.exports={options:{html:!0,xhtmlOut:!0,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"“”‘’",highlight:null,maxNesting:20},components:{core:{rules:["normalize","block","inline"]},block:{rules:["blockquote","code","fence","heading","hr","html_block","lheading","list","reference","paragraph"]},inline:{rules:["autolink","backticks","emphasis","entity","escape","html_inline","image","link","newline","text"],rules2:["balance_pairs","emphasis","text_collapse"]}}}},function(t,e,n){"use strict";var r=/{\s*color\s*:\s*(\w+\s*)}/,i=/{\s*color\s*}/;function o(t,e){var n,o,s,a,c,u,l=1,h=t.posMax,f=t.pos;return 123===t.src.charCodeAt(f)&&(!e&&(n=t.src.slice(f),s=r.exec(n),a=i.exec(n),!(!s&&!a)&&(s&&a?s.index<a.index?c=s:(l=-1,c=a):s?c=s:(c=a,l=-1),u=2===c.length,t.posMax=f+c[0].length,(o=t.push("color_text","span",l)).markup="{color}",u&&o.attrPush(["color",c[1]]),t.pos=t.posMax,t.posMax=h,!0)))}function s(t,e,n,r,i){var o=t[e],s=["<"];if(-1===o.nesting&&s.push("/"),s.push("span"),1===o.nesting){var a=function(t){if(!t||t.length<1)return null;for(var e=0;e<t.length;e++){var n=t[e];if(n&&n.length>1&&"color"===n[0])return n[1]}return null}(o.attrs);a&&s.push(' style="color:',a,';"')}return s.push(">"),s.join("")}t.exports=function(t,e,n){n=n||{},t.inline.ruler.after("emphasis","span",o),t.renderer.rules.color_text=n.render||s}}]);